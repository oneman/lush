Topics
Surrounding
the
Combinatorial
Anabelian
Geometry
of
Hyperbolic
Curves
I:
Inertia
Groups
and
Proﬁnite
Dehn
Twists
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Received
March
31,
2011.
Revised
December
28,
2011.
2010
Mathematics
Subject
Classiﬁcation.
Primary
14H30;
Secondary
14H10.
Key
words
and
phrases.
anabelian
geometry,
combinatorial
anabelian
geometry,
proﬁnite
Dehn
twist,
semi-graph
of
anabelioids,
inertia
group,
hyperbolic
curve,
conﬁgurationa
space.
The
ﬁrst
author
was
supported
by
Grant-in-Aid
for
Young
Scientists
(B),
No.
22740012,
Japan
Society
for
the
Promotion
of
Science.
2
Abstract.
Let
Σ
be
a
nonempty
set
of
prime
numbers.
In
the
present
paper,
we
continue
our
study
of
the
pro-Σ
fundamental
groups
of
hyperbolic
curves
and
their
associated
conﬁguration
spaces
over
algebraically
closed
ﬁelds
of
characteristic
zero.
Our
ﬁrst
main
result
asserts,
roughly
speaking,
that
if
an
F-admissible
automorphism
[i.e.,
an
automorphism
that
preserves
the
ﬁber
subgroups
that
arise
as
kernels
associated
to
the
various
natural
projections
of
the
conﬁguration
space
under
consideration
to
conﬁguration
spaces
of
lower
dimension]
of
a
conﬁguration
space
group
arises
from
an
F-admissible
automorphism
of
a
conﬁguration
space
group
[arising
from
a
conﬁguration
space]
of
strictly
higher
dimension,
then
it
is
necessarily
FC-admissible,
i.e.,
preserves
the
cuspidal
inertia
subgroups
of
the
various
subquotients
corresponding
to
surface
groups.
After
discussing
various
abstract
proﬁnite
combinatorial
technical
tools
involving
semi-graphs
of
anabelioids
of
PSC-type
that
are
motivated
by
the
well-known
classical
theory
of
topological
surfaces,
we
proceed
to
develop
a
theory
of
proﬁnite
Dehn
twists,
i.e.,
an
abstract
proﬁnite
combinatorial
analogue
of
classical
Dehn
twists
associated
to
cycles
on
topological
surfaces.
This
theory
of
proﬁnite
Dehn
twists
leads
naturally
to
comparison
results
between
the
abstract
combinatorial
machinery
developed
in
the
present
paper
and
more
classical
scheme-theoretic
constructions.
In
particular,
we
obtain
a
purely
combinatorial
description
of
the
Galois
action
associated
to
a
[schemetheoretic!]
degenerating
family
of
hyperbolic
curves
over
a
complete
equicharacteristic
discrete
valuation
ring
of
characteristic
zero.
Finally,
we
apply
the
theory
of
proﬁnite
Dehn
twists
to
prove
a
“geometric
version
of
the
Grothendieck
Conjecture”
for
—
i.e.,
put
another
way,
we
compute
the
centralizer
of
the
geometric
monodromy
associated
to
—
the
tautological
curve
over
the
moduli
stack
of
pointed
smooth
curves.
Contents
Introduction
3
0.
Notations
and
Conventions
11
1.
F-admissibility
and
FC-admissibility
14
2.
Various
operations
on
semi-graphs
of
anabelioids
of
PSC-type
30
3.
Synchronization
of
cyclotomes
49
4.
Proﬁnite
Dehn
multi-twists
74
5.
Comparison
with
scheme
theory
92
6.
Centralizers
of
geometric
monodromy
122
Combinatorial
anabelian
topics
I
3
§
Introduction
Let
Σ
⊆
Primes
be
a
nonempty
subset
of
the
set
of
prime
numbers
Primes.
In
the
present
paper,
we
continue
our
study
[cf.
[SemiAn],
[CmbGC],
[CmbCsp],
[MT],
[NodNon]]
of
the
anabelian
geometry
of
semi-graphs
of
anabelioids
of
[pro-Σ]
PSC-type,
i.e.,
semi-graphs
of
anabelioids
that
arise
from
a
pointed
stable
curve
over
an
algebraically
closed
ﬁeld
of
characteristic
zero.
Roughly
speaking,
such
a
“semigraph
of
anabelioids”
may
be
thought
of
as
a
slightly
modiﬁed,
Galois
category-theoretic
formulation
of
the
“graph
of
proﬁnite
groups”
associated
to
such
a
pointed
stable
curve
that
takes
into
account
the
cusps
[i.e.,
marked
points]
of
the
pointed
stable
curve,
and
in
which
the
proﬁnite
groups
that
appear
are
regarded
as
being
deﬁned
only
up
to
inner
automorphism.
At
a
more
conceptual
level,
the
notion
of
a
semi-graph
of
anabelioids
of
PSC-type
may
be
thought
of
as
a
sort
of
abstract
proﬁnite
combinatorial
analogue
of
the
notion
of
a
hyperbolic
topological
surface
of
ﬁnite
type,
i.e.,
the
underlying
topological
surface
of
a
hyperbolic
Riemann
surface
of
ﬁnite
type.
One
central
object
of
study
in
this
context
is
the
notion
of
an
outer
representation
of
IPSC-type
[cf.
[NodNon],
Deﬁnition
2.4,
(i)],
which
may
be
thought
of
as
an
abstract
proﬁnite
combinatorial
analogue
of
the
scheme-theoretic
notion
of
a
degenerating
family
of
hyperbolic
curves
over
a
complete
discrete
valuation
ring.
In
[NodNon],
we
studied
a
purely
combinatorial
generalization
of
this
notion,
namely,
the
notion
of
an
outer
representation
of
NN-type
[cf.
[NodNon],
Deﬁnition
2.4,
(iii)],
which
may
be
thought
of
as
an
abstract
proﬁnite
combinatorial
analogue
of
the
topological
notion
of
a
family
of
hyperbolic
topological
surfaces
of
ﬁnite
type
over
a
circle.
Here,
we
recall
that
such
families
are
a
central
object
of
study
in
the
theory
of
hyperbolic
threefolds.
Another
central
object
of
study
in
the
combinatorial
anabelian
geometry
of
hyperbolic
curves
[cf.
[CmbCsp],
[MT],
[NodNon]]
is
the
notion
of
a
conﬁguration
space
group
[cf.
[MT],
Deﬁnition
2.3,
(i)],
i.e.,
the
pro-Σ
fundamental
group
of
the
conﬁguration
space
associated
to
a
hyperbolic
curve
over
an
algebraically
closed
ﬁeld
of
characteristic
zero,
where
Σ
is
either
equal
to
Primes
or
of
cardinality
one.
In
[MT],
it
was
shown
[cf.
[MT],
Corollary
6.3]
that,
if
one
excludes
the
case
of
hyperbolic
curves
of
type
(g,
r)
∈
{(0,
3),
(1,
1)},
then,
up
to
a
permutation
of
the
factors
of
the
conﬁguration
space
under
consideration,
any
automorphism
of
a
conﬁguration
space
group
is
necessarily
F-admissible
[cf.
[CmbCsp],
Deﬁnition
1.1,
(ii)],
i.e.,
preserves
the
ﬁber
subgroups
that
arise
as
kernels
associated
to
the
various
natural
projections
of
the
4
Yuichiro
Hoshi
and
Shinichi
Mochizuki
conﬁguration
space
under
consideration
to
conﬁguration
spaces
of
lower
dimension.
In
§1,
we
prove
our
ﬁrst
main
result
[cf.
Corollary
1.9],
by
means
of
techniques
that
extend
the
techniques
of
[MT],
§4,
i.e.,
techniques
that
center
around
applying
the
fact
that
the
ﬁrst
Chern
class
associated
to
the
diagonal
divisor
in
a
product
of
two
copies
of
a
proper
hyperbolic
curve
consists,
in
essence,
of
the
identity
matrix
[cf.
Lemma
1.3,
(iii)].
This
result
asserts,
roughly
speaking,
that
if
an
F-admissible
automorphism
of
a
conﬁguration
space
group
arises
from
an
F-admissible
automorphism
of
a
conﬁguration
space
group
[arising
from
a
conﬁguration
space]
of
strictly
higher
dimension,
then
it
is
necessarily
FC-admissible
[cf.
[CmbCsp],
Deﬁnition
1.1,
(ii)],
i.e.,
preserves
the
cuspidal
inertia
subgroups
of
the
various
subquotients
corresponding
to
surface
groups.
Theorem
A
(F-admissibility
and
FC-admissibility).
Let
Σ
be
a
set
of
prime
numbers
which
is
either
of
cardinality
one
or
equal
to
the
set
of
all
prime
numbers;
n
a
positive
integer;
(g,
r)
a
pair
of
nonnegative
integers
such
that
2g
−
2
+
r
>
0;
X
a
hyperbolic
curve
of
type
(g,
r)
over
an
algebraically
closed
ﬁeld
k
of
characteristic
∈
Σ;
Xn
the
n-th
conﬁguration
space
of
X;
Πn
the
maximal
pro-Σ
quotient
of
the
fundamental
group
of
Xn
;
“OutFC
(−)”,
“OutF
(−)”
⊆
“Out(−)”
the
subgroups
of
FC-
and
F-admissible
[cf.
[CmbCsp],
Deﬁnition
1.1,
(ii)]
outomorphisms
[cf.
the
discussion
entitled
“Topological
groups”
in
§0]
of
“(−)”.
Then
the
following
hold:
(i)
Let
α
∈
OutF
(Πn+1
).
Then
α
induces
the
same
outomorphism
of
Πn
relative
to
the
various
quotients
Πn+1

Πn
by
ﬁber
subgroups
of
length
1
[cf.
[MT],
Deﬁnition
2.3,
(iii)].
In
particular,
we
obtain
a
natural
homomorphism
OutF
(Πn+1
)
−→
OutF
(Πn
)
.
(ii)
The
image
of
the
homomorphism
OutF
(Πn+1
)
−→
OutF
(Πn
)
of
(i)
is
contained
in
OutFC
(Πn
)
⊆
OutF
(Πn
)
.
For
the
convenience
of
the
reader,
we
remark
that
our
treatment
of
Theorem
A
in
§1
does
not
require
any
knowledge
of
the
theory
of
semigraphs
of
anabelioids.
On
the
other
hand,
in
a
sequel
to
the
present
paper,
we
intend
to
prove
a
substantial
stengthening
of
Theorem
A,
whose
Combinatorial
anabelian
topics
I
5
proof
makes
quite
essential
use
of
the
theory
of
[CmbGC],
[CmbCsp],
and
[NodNon]
[i.e.,
in
particular,
of
the
theory
of
semi-graphs
of
anabelioids
of
PSC-type].
In
§2
and
§3,
we
develop
various
technical
tools
that
will
play
a
crucial
role
in
the
subsequent
development
of
the
theory
of
the
present
paper.
In
§2,
we
study
various
fundamental
operations
on
semi-graphs
of
anabelioids
of
PSC-type.
A
more
detailed
description
of
these
operations
may
be
found
in
the
discussion
at
the
beginning
of
§2,
as
well
as
in
the
various
illustrations
referred
to
in
this
discussion.
Roughly
speaking,
these
operations
may
be
thought
of
as
abstract
proﬁnite
combinatorial
analogues
of
various
well-known
operations
that
occur
in
the
theory
of
“surgery”
on
topological
surfaces
—
i.e.,
•
restriction
to
a
subsurface
arising
from
a
decomposition,
such
as
a
“pants
decomposition”,
of
the
surface
or
to
a
[suitably
positioned]
cycle;
•
partially
compactifying
the
surface
by
adding
“missing
points”;
•
cutting
a
surface
along
a
[suitably
positioned]
cycle;
•
gluing
together
two
surfaces
along
[suitably
positioned]
cycles.
Most
of
§2
is
devoted
to
the
abstract
combinatorial
formulation
of
these
operations,
as
well
as
to
the
veriﬁcation
of
various
basic
properties
involving
these
operations.
In
§3,
we
develop
the
local
theory
of
the
second
cohomology
group
with
compact
supports
associated
to
various
sub-semi-graphs
and
components
of
a
semi-graph
of
anabelioids
of
PSC-type.
Roughly
speaking,
this
theory
may
be
thought
of
as
a
sort
of
abstract
proﬁnite
combinatorial
analogue
of
the
local
theory
of
orientations
on
a
topological
surface
S,
i.e.,
the
theory
of
the
locally
deﬁned
cohomology
modules
(U,
x)
→
H
2
(U,
U
\
{x};
Z)
(∼
=
Z)
—
where
U
⊆
S
is
an
open
subset,
x
∈
U
.
In
the
abstract
proﬁnite
combinatorial
context
of
the
present
paper,
the
various
locally
deﬁned
second
cohomology
groups
with
compact
supports
give
rise
to
cyclotomes,
i.e.,
copies
of
quotients
of
the
once-Tate-twisted
Galois
module

Z(1).
The
main
result
that
we
obtain
in
§3
concerns
various
canonical
synchronizations
of
cyclotomes
[cf.
Corollary
3.9],
i.e.,
canonical
isomorphisms
between
these
cyclotomes
associated
to
various
local
6
Yuichiro
Hoshi
and
Shinichi
Mochizuki
portions
of
the
given
semi-graph
of
anabelioids
of
PSC-type
which
are
compatible
with
the
various
fundamental
operations
studied
in
§2.
In
§4,
we
apply
the
technical
tools
developed
in
§2,
§3
to
deﬁne
and
study
the
notion
of
a
proﬁnite
Dehn
[multi-]twist
[cf.
Deﬁnition
4.4;
Theorem
4.8,
(iv)].
This
notion
is,
needless
to
say,
a
natural
abstract
proﬁnite
combinatorial
analogue
of
the
usual
notion
of
a
Dehn
twist
in
the
theory
of
topological
surfaces.
On
the
other
hand,
it
is
deﬁned,
in
keeping
with
the
spirit
of
the
present
paper,
in
a
fashion
that
is
purely
combinatorial,
i.e.,
without
resorting
to
the
“crutch”
of
considering,
for
instance,
proﬁnite
closures
of
Dehn
twists
associated
to
cycles
on
topological
surfaces.
Our
main
results
in
§4
[cf.
Theorem
4.8,
(i),
(iv);
Proposition
4.10,
(ii)]
assert,
roughly
speaking,
that
proﬁnite
Dehn
twists
satisfy
a
structure
theory
of
the
sort
that
one
would
expect
from
the
analogy
with
the
topological
case,
and
that
this
structure
theory
is
compatible,
in
a
suitable
sense,
with
the
various
fundamental
operations
studied
in
§2.
Theorem
B
(Properties
of
proﬁnite
Dehn
multi-twists).
Let
Σ
be
a
nonempty
set
of
prime
numbers
and
G
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type.
Write
Aut|grph|
(G)
⊆
Aut(G)
for
the
group
of
automorphisms
of
G
which
induce
the
identity
automorphism
on
the
underlying
semi-graph
of
G
and
Dehn(G)
=
{
α
∈
Aut|grph|
(G)
|
αG|v
=
idG|v
for
any
v
∈
Vert(G)
}
def
—
where
we
write
αG|v
for
the
restriction
of
α
to
the
semi-graph
of
anabelioids
G|v
of
pro-Σ
PSC-type
determined
by
v
∈
Vert(G)
[cf.
Definitions
2.1,
(iii);
2.14,
(ii);
Remark
2.5.1,
(ii)];
we
shall
refer
to
an
element
of
Dehn(G)
as
a
proﬁnite
Dehn
multi-twist
of
G.
Then
the
following
hold:
(i)
(Normality)
Dehn(G)
is
normal
in
Aut(G).
(ii)
(Structure
of
the
group
of
proﬁnite
Dehn
multi-twists)
Write
def

Σ
),
Z
Σ)
ΛG
=
HomZ
Σ
(Hc2
(G,
Z
for
the
cyclotome
associated
to
G
[cf.
Deﬁnitions
3.1,
(ii),
(iv);
3.8,
(i)].
Then
there
exists
a
natural
isomorphism

∼
ΛG
DG
:
Dehn(G)
−→
Node(G)
Combinatorial
anabelian
topics
I
7
that
is
functorial,
in
G,
with
respect
to
isomorphisms
of
semigraphs
of
anabelioids.
In
particular,
Dehn(G)
is
a
ﬁnitely

Σ
-module
of
rank
Node(G)
.
We
shall
generated
free
Z
refer

to
a
nontrivial
proﬁnite
Dehn
multi-twist
whose
image
∈
Node(G)
ΛG
lies
in
a
direct
summand
[i.e.,
in
a
single
“ΛG
”]
as
a
proﬁnite
Dehn
twist.
(iii)
(Exact
sequence
relating
proﬁnite
Dehn
multi-twists
and
glueable
outomorphisms)
Write

Glu(G)
⊆
Aut|grph|
(G|v
)
v∈Vert(G)
for
the
[closed]
subgroup
of
“glueable”
collections
of
outomor
phisms
of
the
direct
product
v∈Vert(G)
Aut|grph|
(G|v
)
consisting
of
elements
(αv
)v∈Vert(G)
such
that
χv
(αv
)
=
χw
(αw
)
for
any
v,
w
∈
Vert(G)
—
where
we
write
G|v
for
the
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
determined
by
v
∈
Vert(G)
[cf.

Σ
)∗
for
the
proDeﬁnition
2.1,
(iii)]
and
χv
:
Aut(G|v
)
→
(Z
Σ
cyclotomic
character
of
v
∈
Vert(G)
[cf.
Deﬁnition
3.8,
(ii)].
Then
the
natural
homomorphism

|grph|
(G|v
)
Aut|grph|
(G)
−→
v∈Vert(G)
Aut
α
→
(αG|v
)v∈Vert(G)

factors
through
Glu(G)
⊆
v∈Vert(G)
Aut|grph|
(G|v
),
and,
moreover,
the
resulting
homomorphism
ρVert
:
Aut|grph|
(G)
→
G
Glu(G)
[cf.
(i)]
ﬁts
into
an
exact
sequence
of
proﬁnite
groups
ρVert
G
1
−→
Dehn(G)
−→
Aut|grph|
(G)
−→
Glu(G)
−→
1
.
The
approach
of
§2,
§3,
§4
is
purely
combinatorial
in
nature.
On
the
other
hand,
in
§5,
we
return
brieﬂy
to
the
world
of
[log]
schemes
in
order
to
compare
the
purely
combinatorial
constructions
of
§2,
§3,
§4
to
analogous
constructions
from
scheme
theory.
The
main
techinical
result
[cf.
Theorem
5.7]
of
§5
asserts
that
the
purely
combinatorial
synchronizations
of
cyclotomes
constructed
in
§3,
§4
for
the
proﬁnite
Dehn
twists
associated
to
the
various
nodes
of
the
semi-graph
of
anabelioids
of
PSC-type
under
consideration
coincide
with
certain
natural
scheme-theoretic
synchronizations
of
cyclotomes.
This
technical
result
is
obtained,
roughly
speaking,
by
applying
the
various
fundamental
operations
of
§2
so
as
to
reduce
to
the
case
where
the
semi-graph
of
8
Yuichiro
Hoshi
and
Shinichi
Mochizuki
anabelioids
of
PSC-type
under
consideration
admits
a
symmetry
that
permutes
the
nodes
[cf.
Fig.
6];
the
desired
coincidence
of
synchronizations
is
then
obtained
by
observing
that
both
the
combinatorial
and
the
scheme-theoretic
synchronizations
are
compatible
with
this
symmetry.
One
way
to
understand
this
fundamental
coincidence
of
synchronizations
is
as
a
sort
of
abstract
combinatorial
analogue
of
the
cyclotomic
synchronization
given
in
[GalSct],
Theorem
4.3;
[AbsHyp],
Lemma
2.5,
(ii)
[cf.
Remark
5.9.1,
(i)].
Another
way
to
understand
this
fundamental
coincidence
of
synchronizations
is
as
a
statement
to
the
eﬀect
that
the
Galois
action
associated
to
a
[scheme-theoretic!]
degenerating
family
of
hyperbolic
curves
over
a
complete
equicharacteristic
discrete
valuation
ring
of
characteristic
zero
—
i.e.,
“an
outer
representation
of
IPSC-type”
—
admits
a
purely
combinatorial
description
[cf.
Corollary
5.9,
(iii)].
That
is
to
say,
one
central
problem
in
the
theory
of
outer
Galois
representations
associated
to
hyperbolic
curves
over
arithmetic
ﬁelds
is
precisely
the
problem
of
giving
such
a
“purely
combinatorial
description”
of
the
outer
Galois
representation.
Indeed,
this
point
of
view
plays
a
central
role
in
the
theory
of
the
Grothendieck-Teichmüller
group.
Thus,
although
an
explicit
solution
to
this
problem
is
well
out
of
reach
at
the
present
time
in
the
case
of
number
ﬁelds
or
mixed-characteristic
local
ﬁelds,
the
theory
of
§5
yields
a
solution
to
this
problem
in
the
case
of
complete
equicharacteristic
discrete
valuation
ﬁelds
of
characteristic
zero.
One
consequence
of
this
solution
is
the
following
criterion
for
an
outer
representation
to
be
of
IPSC-type
[cf.
Corollary
5.10].
Theorem
C
(Combinatorial/group-theoretic
nature
of
scheme-theoreticity).
Let
(g,
r)
be
a
pair
of
nonnegative
integers
such
that
2g
−
2
+
r
>
0;
Σ
a
nonempty
set
of
prime
numbers;
R
a
complete
discrete
valuation
ring
whose
residue
ﬁeld
k
is
separably
closed
of
chardef
acteristic
∈
Σ;
S
log
the
log
scheme
obtained
by
equipping
S
=
Spec
R
with
the
log
structure
determined
by
the
maximal
ideal
of
R;
(Mg,r
)S
the
moduli
stack
of
r-pointed
stable
curves
of
genus
g
over
S
whose
r
marked
points
are
equipped
with
an
ordering;
(Mg,r
)S
⊆
(Mg,r
)S
log
the
open
substack
of
(Mg,r
)S
parametrizing
smooth
curves;
(Mg,r
)S
the
log
stack
obtained
by
equipping
(Mg,r
)S
with
the
log
structure
associated
to
the
divisor
with
normal
crossings
(Mg,r
)S
\
(Mg,r
)S
⊆
(Mg,r
)S
;

the
completion
of
the
x
∈
(Mg,r
)S
(k)
a
k-valued
point
of
(Mg,r
)S
;
O
log
the
log
scheme
obtained
by
local
ring
of
(Mg,r
)S
at
the
image
of
x;
T
Combinatorial
anabelian
topics
I
9

with
the
log
structure
induced
by
the
log
strucequipping
T
=
Spec
O
log
log
the
log
scheme
obtained
by
equipping
the
closed
ture
of
(Mg,r
)S
;
t
point
of
T
with
the
log
structure
induced
by
the
log
structure
of
T
log
;
Xtlog
the
stable
log
curve
over
tlog
corresponding
to
the
natural
strict
(1log
)morphism
tlog
→
(Mg,r
)S
;
IT
log
the
maximal
pro-Σ
quotient
of
the
log
fundamental
group
π1
(T
log
)
of
T
log
;
IS
log
the
maximal
pro-Σ
quotient
of
the
log
fundamental
group
π1
(S
log
)
of
S
log
;
GX
log
the
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
determined
by
the
stable
log
curve
Xtlog
[cf.
[CmbGC],
Example
2.5];
ρuniv
:
IT
log
→
Aut(GX
log
)
the
natural
X
log
def
t
outer
representation
associated
to
Xtlog
[cf.
Deﬁnition
5.5];
I
a
proﬁnite
group;
ρ
:
I
→
Aut(GX
log
)
an
outer
representation
of
pro-Σ
PSC-type
[cf.
[NodNon],
Deﬁnition
2.1,
(i)].
Then
the
following
conditions
are
equivalent:
(i)
ρ
is
of
IPSC-type
[cf.
[NodNon],
Deﬁnition
2.4,
(i)].
(ii)
There
exist
a
morphism
of
log
schemes
φlog
:
S
log
→
T
log
over
S
and
an
isomorphism
of
outer
representations
of
pro-Σ
∼
◦
Iφlog
[cf.
[NodNon],
Deﬁnition
2.1,
(i)]
PSC-type
ρ
→
ρuniv
Xtlog
—
where
we
write
Iφlog
:
IS
log
→
IT
log
for
the
homomorphism
induced
by
φlog
—
i.e.,
there
exist
an
automorphism
β
of
∼
GX
log
and
an
isomorphism
α
:
I
→
ISlog
such
that
the
diagram
ρ
−−−−→
I
⏐
⏐
α
ρ
X
Aut(GX
log
)
⏐
⏐

log
◦Iφlog
t
IS
log
−−−
−−−−→
Aut(GX
log
)
—
where
the
right-hand
vertical
arrow
is
the
automorphism
of
Aut(GX
log
)
induced
by
β
—
commutes.
(iii)
There
exist
a
morphism
of
log
schemes
φlog
:
S
log
→
T
log
over
∼
S
and
an
isomorphism
α
:
I
→
ISlog
such
that
ρ
=
ρuniv
◦Iφlog
◦
Xtlog
α
—
where
we
write
Iφlog
:
IS
log
→
IT
log
for
the
homomorphism
induced
by
φlog
—
i.e.,
the
automorphism
“β”
of
(ii)
may
be
taken
to
be
the
identity.
Before
proceeding,
in
this
context
we
observe
that
one
fundamental
intrinsic
diﬀerence
between
outer
representations
of
IPSC-type
and
more
general
outer
representations
of
NN-type
is
that,
unlike
the
case
with
outer
representations
of
IPSC-type,
the
period
matrices
associated
10
Yuichiro
Hoshi
and
Shinichi
Mochizuki
to
outer
representations
of
NN-type
may,
in
general,
fail
to
be
nondegenerate
—
cf.
the
discussion
of
Remark
5.9.2.
Here,
we
remark
in
passing
that
in
a
sequel
to
the
present
paper,
the
theory
of
§5
will
play
an
important
role
in
the
proofs
of
certain
applications
to
the
theory
of
tempered
fundamental
groups
developed
in
[André].
Finally,
in
§6,
we
apply
the
theory
of
proﬁnite
Dehn
twists
developed
in
§4
to
prove
a
“geometric
version
of
the
Grothendieck
Conjecture”
for
—
i.e.,
put
another
way,
we
compute
the
centralizer
of
the
geometric
monodromy
associated
to
—
the
tautological
curve
over
the
moduli
stack
of
pointed
smooth
curves
[cf.
Theorems
6.13;
6.14].
Theorem
D
(Centralizers
of
geometric
monodromy
groups
arising
from
moduli
stacks
of
pointed
curves).
Let
(g,
r)
be
a
pair
of
nonnegative
integers
such
that
2g
−
2
+
r
>
0;
Σ
a
nonempty
set
of
prime
numbers;
k
an
algebraically
closed
ﬁeld
of
characteristic
zero.
Write
(Mg,r
)k
for
the
moduli
stack
of
r-pointed
smooth
curves
of
genus
g
over
k
whose
r
marked
points
are
equipped
with
an
ordering;
Cg,r
→
Mg,r
for
the
tautological
curve
over
Mg,r
[cf.
the
disdef
cussion
entitled
“Curves”
in
§0];
ΠMg,r
=
π1
((Mg,r
)k
)
for
the
étale
fundamental
group
of
the
moduli
stack
(Mg,r
)k
;
Πg,r
for
the
maximal
pro-Σ
quotient
of
the
kernel
Ng,r
of
the
natural
surjection
π1
((Cg,r
)k
)

π1
((Mg,r
)k
)
=
ΠMg,r
;
ΠCg,r
for
the
quotient
of
the
étale
fundamental
group
π1
((Cg,r
)k
)
of
(Cg,r
)k
by
the
kernel
of
the
natural
surjection
Ng,r

Πg,r
;
OutC
(Πg,r
)
for
the
group
of
outomorphisms
[cf.
the
discussion
entitled
“Topological
groups”
in
§0]
of
Πg,r
which
induce
bijections
on
the
set
of
cuspidal
inertia
subgroups
of
Πg,r
.
Thus,
we
have
a
natural
exact
sequence
of
proﬁnite
groups
1
−→
Πg,r
−→
ΠCg,r
−→
ΠMg,r
−→
1
,
which
determines
an
outer
representation
ρg,r
:
ΠMg,r
−→
Out(Πg,r
)
.
Then
the
following
hold:
(i)
Let
H
⊆
ΠMg,r
be
an
open
subgroup
of
ΠMg,r
.
Suppose
that
one
of
the
following
two
conditions
is
satisﬁed:
(a)
2g
−
2
+
r
>
1,
i.e.,
(g,
r)
∈
{(0,
3),
(1,
1)}.
(b)
(g,
r)
=
(1,
1),
2
∈
Σ,
and
H
=
ΠMg,r
.
Combinatorial
anabelian
topics
I
11
Then
the
composite
of
natural
homomorphisms
Aut(Mg,r
)k
((Cg,r
)k
)
−→
AutΠMg,r
(ΠCg,r
)/Inn(Πg,r
)
∼
−→
ZOut(Πg,r
)
(Im(ρg,r
))
⊆
ZOut(Πg,r
)
(ρg,r
(H))
[cf.
the
discussion
entitled
“Topological
groups”
in
§0]
determines
an
isomorphism
∼
Aut(Mg,r
)k
((Cg,r
)k
)
−→
ZOutC
(Πg,r
)
(ρg,r
(H))
.
Here,
we
recall
that
Aut(Mg,r
)k
((Cg,r
)k
)
is
isomorphic
to
⎧
if
(g,
r)
=
(0,
4);
⎨
Z/2Z
×
Z/2Z
Z/2Z
if
(g,
r)
∈
{(1,
1),
(1,
2),
(2,
0)};
⎩
{1}
if
(g,
r)
∈
{(0,
4),
(1,
1),
(1,
2),
(2,
0)}
.
(ii)
§0.
Let
H
⊆
OutC
(Πg,r
)
be
a
closed
subgroup
of
OutC
(Πg,r
)
that
contains
an
open
subgroup
of
Im(ρg,r
)
⊆
Out(Πg,r
).
Suppose
that
2g
−
2
+
r
>
1,
i.e.,
(g,
r)
∈
{(0,
3),
(1,
1)}.
Then
H
is
almost
slim
[cf.
the
discussion
entitled
“Topological
groups”
in
§0].
If,
moreover,
2g
−
2
+
r
>
2,
i.e.,
(g,
r)
∈
{(0,
3),
(0,
4),
(1,
1),
(1,
2),
(2,
0)},
then
H
is
slim
[cf.
the
discussion
entitled
“Topological
groups”
in
§0].
Notations
and
Conventions
Sets:
If
S
is
a
set,
then
we
shall
denote
by
2S
the
power
set
of
S
and
by
S

the
cardinality
of
S.
Numbers:
The
notation
Primes
will
be
used
to
denote
the
set
of
all
prime
numbers.
The
notation
N
will
be
used
to
denote
the
set
or
[additive]
monoid
of
nonnegative
rational
integers.
The
notation
Z
will
be
used
to
denote
the
set,
group,
or
ring
of
rational
integers.
The
notation
Q
will
be
used
to
denote
the
set,
group,
or
ﬁeld
of
rational
numbers.

will
be
used
to
denote
the
proﬁnite
completion
of
Z.
The
notation
Z
If
p
∈
Primes,
then
the
notation
Zp
(respectively,
Qp
)
will
be
used
to
denote
the
p-adic
completion
of
Z
(respectively,
Q).
If
Σ
⊆
Primes,
then

Σ
will
be
used
to
denote
the
pro-Σ
completion
of
Z.
the
notation
Z
12
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Monoids:
We
shall
write
M
gp
for
the
groupiﬁcation
of
a
monoid
M
.
Topological
groups:
Let
G
be
a
topological
group
and
P
a
property
of
topological
groups
[e.g.,
“abelian”
or
“pro-Σ”
for
some
Σ
⊆
Primes].
Then
we
shall
say
that
G
is
almost
P
if
there
exists
an
open
subgroup
of
G
that
is
P.
Let
G
be
a
topological
group
and
H
⊆
G
a
closed
subgroup
of
G.
Then
we
shall
denote
by
ZG
(H)
(respectively,
NG
(H);
CG
(H))
the
centralizer
(respectively,
normalizer;
commensurator)
of
H
in
G,
i.e.,
ZG
(H)
=
{
g
∈
G
|
ghg
−1
=
h
for
any
h
∈
H
}
,
def
(respectively,
NG
(H)
=
{
g
∈
G
|
g
·
H
·
g
−1
=
H
}
;
def
CG
(H)
=
{
g
∈
G
|
H
∩
g·H·g
−1
is
of
ﬁnite
index
in
H
and
g·H·g
−1
}
);
def
def
we
shall
refer
to
Z(G)
=
ZG
(G)
as
the
center
of
G.
It
is
immediate
from
the
deﬁnitions
that
ZG
(H)
⊆
NG
(H)
⊆
CG
(H)
;
H
⊆
NG
(H)
.
We
shall
say
that
the
closed
subgroup
H
is
centrally
terminal
(respectively,
normally
terminal;
commensurably
terminal)
in
G
if
H
=
ZG
(H)
(respectively,
H
=
NG
(H);
H
=
CG
(H)).
We
shall
say
that
G
is
slim
if
ZG
(U
)
=
{1}
for
any
open
subgroup
U
of
G.
Let
G
be
a
topological
group.
Then
we
shall
write
Gab
for
the
abelianization
of
G,
i.e.,
the
quotient
of
G
by
the
closure
of
the
commutator
subgroup
of
G.
Let
G
be
a
topological
group.
Then
we
shall
write
Aut(G)
for
the
group
of
[continuous]
automorphisms
of
G,
Inn(G)
⊆
Aut(G)
for
the
def
group
of
inner
automorphisms
of
G,
and
Out(G)
=
Aut(G)/Inn(G).
We
shall
refer
to
an
element
of
Out(G)
as
an
outomorphism
of
G.
Now
suppose
that
G
is
center-free
[i.e.,
Z(G)
=
{1}].
Then
we
have
an
exact
sequence
of
groups
∼
1
−→
G
(→
Inn(G))
−→
Aut(G)
−→
Out(G)
−→
1
.
If
J
is
a
group
and
ρ
:
J
→
Out(G)
is
a
homomorphism,
then
we
shall
denote
by
out
G

J
the
group
obtained
by
pulling
back
the
above
exact
sequence
of
proﬁnite
groups
via
ρ.
Thus,
we
have
a
natural
exact
sequence
of
groups
out
1
−→
G
−→
G

J
−→
J
−→
1
.
Combinatorial
anabelian
topics
I
13
Suppose
further
that
G
is
proﬁnite
and
topologically
ﬁnitely
generated.
Then
one
veriﬁes
easily
that
the
topology
of
G
admits
a
basis
of
characteristic
open
subgroups,
which
thus
induces
a
proﬁnite
topology
on
the
groups
Aut(G)
and
Out(G)
with
respect
to
which
the
above
exact
sequence
relating
Aut(G)
and
Out(G)
determines
an
exact
sequence
of
proﬁnite
groups.
In
particular,
one
veriﬁes
easily
that
if,
moreover,
J
is
proﬁnite
and
ρ
:
J
→
Out(G)
is
continuous,
then
the
above
exact
out
sequence
involving
G

J
determines
an
exact
sequence
of
proﬁnite
groups.
Let
G,
J
be
proﬁnite
groups.
Suppose
that
G
is
center-free
and
topologically
ﬁnitely
generated.
Let
ρ
:
J
→
Out(G)
be
a
continuous
out
homomorphism.
Write
AutJ
(G

J)
for
the
group
of
[continuous]
out
automorphisms
of
G

J
that
preserve
and
induce
the
identity
automorphism
on
the
quotient
J.
Then
one
veriﬁes
easily
that
the
operation
of
restricting
to
G
determines
an
isomorphism
of
proﬁnite
groups
out
∼
AutJ
(G

J)/Inn(G)
−→
ZOut(G)
(Im(ρ))
.
Let
G
and
H
be
topological
groups.
Then
we
shall
refer
to
a
homomorphism
of
topological
groups
φ
:
G
→
H
as
a
split
injection
(respectively,
split
surjection)
if
there
exists
a
homomorphism
of
topological
groups
ψ
:
H
→
G
such
that
ψ
◦
φ
(respectively,
φ
◦
ψ)
is
the
identity
automorphism
of
G
(respectively,
H).
Log
schemes:
When
a
scheme
appears
in
a
diagram
of
log
schemes,
the
scheme
is
to
be
understood
as
the
log
scheme
obtained
by
equipping
the
scheme
with
the
trivial
log
structure.
If
X
log
is
a
log
scheme,
then
we
shall
refer
to
the
largest
open
subscheme
of
the
underlying
scheme
of
X
log
over
which
the
log
structure
is
trivial
as
the
interior
of
X
log
.
Fiber
products
of
fs
log
schemes
are
to
be
understood
as
ﬁber
products
taken
in
the
category
of
fs
log
schemes.
Curves:
We
shall
use
the
terms
“hyperbolic
curve”,
“cusp”,
“stable
log
curve”,
“smooth
log
curve”,
and
“tripod”
as
they
are
deﬁned
in
[CmbGC],
§0;
[Hsh],
§0.
If
(g,
r)
is
a
pair
of
nonnegative
integers
such
that
2g
−
2
+
r
>
0,
then
we
shall
denote
by
Mg,r
the
moduli
stack
of
r-pointed
stable
curves
of
genus
g
over
Z
whose
r
marked
points
are
equipped
with
an
ordering,
by
Mg,r
⊆
Mg,r
the
open
substack
of
Mg,r
parametrizing
log
smooth
curves,
by
Mg,r
the
log
stack
obtained
by
equipping
Mg,r
with
the
log
structure
associated
to
the
divisor
with
normal
crossings
Mg,r
\
14
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Mg,r
⊆
Mg,r
,
by
C
g,r
→
Mg,r
the
tautological
curve
over
Mg,r
,
and
by
Dg,r
⊆
C
g,r
the
corresponding
tautological
divisor
of
marked
points
of
C
g,r
→
Mg,r
.
Then
the
divisor
given
by
the
union
of
Dg,r
with
the
inverse
image
in
C
g,r
of
the
divisor
Mg,r
\
Mg,r
⊆
Mg,r
determines
log
a
log
structure
on
C
g,r
;
denote
the
resulting
log
stack
by
C
g,r
.
Thus,
log
log
we
obtain
a
(1-)morphism
of
log
stacks
C
g,r
→
Mg,r
.
We
shall
denote
log
by
Cg,r
⊆
C
g,r
the
interior
of
C
g,r
.
Thus,
we
obtain
a
(1-)morphism
of
def
stacks
Cg,r
→
Mg,r
.
Let
S
be
a
scheme.
Then
we
shall
write
(Mg,r
)S
=
log
log
def
def
Mg,r
×Spec
Z
S,
(Mg,r
)S
=
Mg,r
×Spec
Z
S,
(Mg,r
)S
=
Mg,r
×Spec
Z
log
def
def
def
S,
(C
g,r
)S
=
C
g,r
×Spec
Z
S,
(Cg,r
)S
=
Cg,r
×Spec
Z
S,
and
(C
g,r
)S
=
log
C
g,r
×Spec
Z
S.
log
Let
n
be
a
positive
integer
and
X
a
stable
log
curve
of
type
(g,
r)
over
a
log
scheme
S
log
.
Then
we
shall
refer
to
the
log
scheme
obtained
log
log
by
pulling
back
the
(1-)morphism
Mg,r+n
→
Mg,r
given
by
forgetting
log
the
last
n
points
via
the
classifying
(1-)morphism
S
log
→
Mg,r
of
X
log
as
the
n-th
log
conﬁguration
space
of
X
log
.
§1.
F-admissibility
and
FC-admissibility
In
the
present
§,
we
consider
the
FC-admissibility
[cf.
[CmbCsp],
Deﬁnition
1.1,
(ii)]
of
F-admissible
automorphisms
[cf.
[CmbCsp],
Definition
1.1,
(ii)]
of
conﬁguration
space
groups
[cf.
[MT],
Deﬁnition
2.3,
(i)].
Roughly
speaking,
we
prove
that
if
an
F-admissible
automorphism
of
a
conﬁguration
space
group
arises
from
an
F-admissible
automorphism
of
a
conﬁguration
space
group
[arising
from
a
conﬁguration
space]
of
strictly
higher
dimension,
then
it
is
necessarily
FC-admissible,
i.e.,
preserves
the
cuspidal
inertia
subgroups
of
the
various
subquotients
corresponding
to
surface
groups
[cf.
Theorem
1.8,
Corollary
1.9
below].
Lemma
1.1
(Representations
arising
from
certain
families
of
hyperbolic
curves).
Let
(g,
r)
be
a
pair
of
nonnegative
integers
such
that
2g
−
2
+
r
>
0;
l
a
prime
number;
k
an
algebraically
closed
ﬁeld
of
characteristic
=
l;
B
and
C
hyperbolic
curves
over
k
of
type
(g,
r);
n
a
positive
integer.
Suppose
that
(r,
n)
=
(0,
1).
For
i
=
1,
·
·
·
,
n,
let
pr
∼
fi
:
B
→
C
be
an
isomorphism
over
k;
si
the
section
of
B
×k
C
→1
B
determined
by
the
isomorphism
fi
.
Suppose
that,
for
any
i
=
j,
Combinatorial
anabelian
topics
I
15
Im(si
)
∩
Im(sj
)
=
∅.
Write
def
Z
=
B
×k
C
\
Im(si
)
⊆
B
×k
C
i=1,···
,n
for
the
complement
of
the
images
of
the
si
’s,
where
i
ranges
over
the
pr
integers
such
that
1
≤
i
≤
n;
pr
for
the
composite
Z
→
B
×k
C
→1
B
[thus,
pr
:
Z
→
B
is
a
family
of
hyperbolic
curves
of
type
(g,
r
+
n)];
ΠB
(respectively,
ΠC
;
ΠZ
)
the
maximal
pro-l
quotient
of
the
étale
fundamental
group
π1
(B)
(respectively,
π1
(C);
π1
(Z))
of
B
(respectively,
C;
Z);
pr
:
ΠZ

ΠB
for
the
surjection
induced
by
pr;
ΠZ/B
for
the
kernel
of
pr;
ρZ/B
:
ΠB
→
Out(ΠZ/B
)
for
the
outer
representation
of
ΠB
on
ΠZ/B
determined
by
the
exact
sequence
pr
1
−→
ΠZ/B
−→
ΠZ
−→
ΠB
−→
1
.
Let
b
be
a
geometric
point
of
B
and
Zb
the
geometric
ﬁber
of
pr
:
Z
→
B
at
b.
For
i
=
1,
·
·
·
,
n,
ﬁx
an
inertia
subgroup
[among
its
various
conjugates]
of
the
étale
fundamental
group
π1
(Zb
)
of
Zb
associated
to
the
cusp
of
Zb
determined
by
the
section
si
and
denote
by
Isi
⊆
ΠZ/B
the
image
in
ΠZ/B
of
this
inertia
subgroup
of
π1
(Zb
).
Then
the
following
hold:
(i)
(Fundamental
groups
of
ﬁbers)
The
quotient
ΠZ/B
of
the
étale
fundamental
group
π1
(Zb
)
of
the
geometric
ﬁber
Zb
coincides
with
the
maximal
pro-l
quotient
of
π1
(Zb
).
(ii)
(Abelianizations
of
the
fundamental
groups
of
ﬁbers)
For
i
=
1,
·
·
·
,
n,
write
Jsi
⊆
Πab
Z/B
for
the
image
of
Isi
⊆
ΠZ/B
ab
in
Πab
.
Then
the
composite
I
si
→
ΠZ/B

ΠZ/B
determines
Z/B
∼
an
isomorphism
Isi
→
Jsi
;
moreover,
the
inclusions
Jsi
→
Πab
Z/B
determine
an
exact
sequence
1
−→
(
n

ab
Jsi
)/Jr
−→
Πab
Z/B
−→
ΠC
−→
1
i=1
—
where
Jr
⊆
n

i=1
Jsi
16
Yuichiro
Hoshi
and
Shinichi
Mochizuki
is
a
Zl
-submodule
such
that
Jr
≃
Zl
0
if
r
=
0,
if
r
=
0,
and,
moreover,
if
r
=
0
and
i
=
1,
·
·
·
,
n,
then
the
composite
Jr
→
n

prsi
Jsi

Jsi
i=1
is
an
isomorphism.
(iii)
(Unipotency
of
a
certain
natural
representation)
The
action
of
ΠB
on
Πab
Z/B
determined
by
ρZ/B
preserves
the
exact
sequence
1
−→
(
n

ab
Jsi
)/Jr
−→
Πab
Z/B
−→
ΠC
−→
1
i=1
[cf.
(ii)]
and
induces
the
identity
automorphisms
on
the
n
subquotients
(
i=1
Jsi
)/Jr
and
Πab
C
;
in
particular,
the
natural
homomorphism
ΠB
→
AutZl
(Πab
Z/B
)
factors
through
a
uniquely
determined
homomorphism
n



ΠB
−→
HomZl
Πab
,
(
J
)/J
.
s
r
C
i
i=1
Proof.
Assertion
(i)
follows
immediately
from
the
[easily
veriﬁed]
fact
that
the
natural
action
of
π1
(B)
on
π1
(Zb
)ab
⊗Z
Zl
is
unipotent
—
cf.,
e.g.,
[Hsh],
Proposition
1.4,
(i),
for
more
details.
[Note
that
although
[Hsh],
Proposition
1.4,
(i),
is
only
stated
in
the
case
where
the
hyperbolic
curves
corresponding
to
B
and
C
are
proper,
the
same
proof
may
be
applied
to
the
case
where
these
hyperbolic
curves
are
aﬃne.]
Assertion
(ii)
follows
immediately,
in
light
of
our
assumption
that
(r,
n)
=
(0,
1),
from
assertion
(i),
together
with
the
well-known
structure
of
the
maximal
pro-l
quotient
of
the
fundamental
group
of
a
smooth
curve
over
an
algebraically
closed
ﬁeld
of
characteristic
=
l.
Finally,
we
verify
assertion
(iii).
The
fact
that
the
action
of
ΠB
on
ΠZ/B
preserves
the
exact
sequence
appearing
in
the
statement
of
assertion
(iii)
ab
follows
immediately
from
the
fact
that
the
surjection
Πab
Z/B

ΠC
is
induced
by
the
open
immersion
Z
→
B
×k
C
over
B.
The
fact
that
the
n
action
in
question
induces
the
identity
automorphism
on
(
i=1
Jsi
)/Jr
Combinatorial
anabelian
topics
I
17
(respectively,
Πab
C
)
follows
immediately
from
the
fact
that
the
fi
’s
are
ab
isomorphisms
(respectively,
the
fact
that
the
surjection
Πab
Z/B

ΠC
is
Q.E.D.
induced
by
the
open
immersion
Z
→
B
×k
C
over
B).
Lemma
1.2
(Maximal
cuspidally
central
quotients
of
certain
fundamental
groups).
In
the
notation
of
Lemma
1.1,
for
i
=
1,
·
·
·
,
n,
write
ΠZ/B

Π(Z/B)[i]
(
ΠC
)
for
the
quotient
of
ΠZ/B
by
the
normal
closed
subgroup
topologically
normally
generated
by
the
Isj
’s,
where
j
ranges
over
the
integers
such
that
1
≤
j
≤
n
and
j
=
i;
Π(Z/B)[i]

E(Z/B)[i]
for
the
maximal
cuspidally
central
quotient
[cf.
[AbsCsp],
Deﬁnition
1.1,
(i)]
relative
to
the
surjection
Π(Z/B)[i]

ΠC
determined
by
the
natural
open
immersion
Z
→
B
×k
C;
IsEi
⊆
E(Z/B)[i]
for
the
kernel
of
the
natural
surjection
E(Z/B)[i]

ΠC
;
and
EZ/B
def
=
E(Z/B)[1]
×ΠC
·
·
·
×ΠC
E(Z/B)[n]
.
Then
the
following
hold:
(i)
(Cuspidal
inertia
subgroups)
Let
1
≤
i,
j
≤
n
be
integers.
Then
the
homomorphism
Isi
→
IsEj
determined
by
the
composite
Isi
→
ΠZ/B

E(Z/B)[j]
is
an
isomorphism
(respectively,
trivial)
if
i
=
j
(respectively,
i
=
j).
(ii)
(Surjectivity)
The
homomorphism
ΠZ/B
→
EZ/B
determined
by
the
natural
surjections
ΠZ/B

E(Z/B)[i]
—
where
i
ranges
over
the
integers
such
that
1
≤
i
≤
n
—
is
surjective.
(iii)
(Maximal
cuspidally
central
quotients
and
abelianizations)
The
quotient
ΠZ/B

EZ/B
of
ΠZ/B
[cf.
(ii)]
coincides
with
the
maximal
cuspidally
central
quotient
[cf.
[AbsCsp],
Deﬁnition
1.1,
(i)]
relative
to
the
surjection
ΠZ/B

ΠC
determined
by
the
natural
open
immersion
Z
→
B
×k
C.
In
particular,
the
natural
surjection
ΠZ/B

Πab
Z/B
factors
18
Yuichiro
Hoshi
and
Shinichi
Mochizuki
through
the
surjection
ΠZ/B

EZ/B
,
and
the
resulting
surjection
EZ/B

Πab
Z/B
ﬁts
into
a
commutative
diagram
n
E
−−−−→
EZ/B
−−−−→
ΠC
−−−−→
1
1
−−−−→
i=1
Isi
⏐
⏐
⏐
⏐
⏐
⏐



n
ab
1
−−−−→
(
i=1
Jsi
)/Jr
−−−−→
Πab
Z/B
−−−−→
ΠC
−−−−→
1
—
where
the
horizontal
sequences
are
exact,
and
the
vertical
arrows
are
surjective.
Moreover,
the
left-hand
vertical
arrow
coincides
with
the
surjection
induced
by
the
natural
isomor∼
∼
phisms
Isi
→
Jsi
[cf.
Lemma
1.1,
(ii)]
and
Isi
→
IsEi
[cf.
(i)].
Finally,
if
r
=
0,
then
the
right-hand
square
is
cartesian.
Proof.
Assertion
(i)
follows
immediately
from
the
deﬁnition
of
the
quotient
E(Z/B)[j]
of
ΠZ/B
,
together
with
the
well-known
structure
of
the
maximal
pro-l
quotient
of
the
fundamental
group
of
a
smooth
curve
over
an
algebraically
closed
ﬁeld
of
characteristic
=
l
[cf.,
e.g.,
[MT],
Lemma
4.2,
(iv),
(v)].
Assertion
(ii)
follows
immediately
from
assertion
(i).
Assertion
(iii)
follows
immediately
from
assertions
(i),
(ii)
[cf.
[AbsCsp],
Proposition
1.6,
(iii)].
Q.E.D.
Lemma
1.3
(The
kernels
of
representations
arising
from
certain
families
of
hyperbolic
curves).
In
the
notation
of
Lemmas
1.1,
1.2,
suppose
that
r
=
0.
Then
the
following
hold:
(i)
(Unipotency
of
a
certain
natural
outer
representation)
Consider
the
action
of
ΠB
on
EZ/B
determined
by
the
natural
isomorphism
∼
ΠC
EZ/B
−→
Πab
Z/B
×Πab
C
[cf.
Lemma
1.2,
(iii)],
together
with
the
natural
action
of
ΠB
on
Πab
Z/B
induced
by
ρZ/B
and
the
trivial
action
of
ΠB
on
ΠC
.
Then
the
outer
action
of
ΠB
on
EZ/B
induced
by
this
action
coincides
with
the
natural
outer
action
of
ΠB
on
EZ/B
induced
by
ρZ/B
.
In
particular,
relative
to
the
natural
identiﬁ∼
cation
Isi
→
IsEi
[cf.
Lemma
1.2,
(i)],
the
above
action
of
ΠB
on
EZ/B
factors
through
the
homomorphism
n
n






∼
ΠB
−→
HomZl
ΠC
,
Isi
−→
HomZl
Πab
I
si
C
,
i=1
i=1
Combinatorial
anabelian
topics
I
19
obtained
in
Lemma
1.1,
(iii).
(ii)
(Homomorphisms
arising
from
a
certain
extension)
For
i
=
1,
·
·
·
,
n,
write
φi
for
the
composite
n





ab
,
I
,
I
ΠB
−→
HomZl
Πab
−→
Hom
Π
s
Z
s
C
C
j
i
l
j=1
—
where
the
ﬁrst
arrow
is
the
homomorphism
of
(i),
and
the
second
arrow
n
is
the
homomorphism
determined
by
the
projection
pri
:
j=1
Isj

Isi
.
Then
the
homomorphism
φi
coincides
with
the
image
of
the
element
of
H
2
(ΠB
×
ΠC
,
Isi
)
determined
by
the
extension
1
−→
Isi
−→
ΠEZ[i]
−→
ΠB
×
ΠC
−→
1
def
—
where
we
write
ΠEZ[i]
=
ΠZ
/Ker(ΠZ/B

EZ/B[i]
)
—
of
∼
ΠB
×
ΠC
by
Isi
→
IsEi
[cf.
Lemma
1.2,
(i)]
via
the
composite


∼
∼
H
2
(ΠB
×
ΠC
,
Isi
)
→
H
1
(ΠB
,
H
1
(ΠC
,
Isi
))
→
Hom
ΠB
,
Hom(ΠC
,
Isi
)
—
where
the
ﬁrst
arrow
is
the
isomorphism
determined
by
the
Hochschild-Serre
spectral
sequence
relative
to
the
surjection
pr1
ΠB
×
ΠC

ΠB
.
(iii)
(Factorization)
Write
B
(respectively,
C)
for
the
compactiﬁcation
of
C
(respectively,
B)
and
ΠB
(respectively,
ΠC
)
for
the
maximal
pro-l
quotient
of
the
étale
fundamental
group
π1
(B)
(respectively,
π1
(C))
of
B
(respectively,
C).
Then
the
homomorphism
φi
of
(ii)
factors
as
the
composite




∼
∼
→
Πab
→
HomZl
Πab
,
Isi
→
HomZl
Πab
ΠB

Πab
C
,
I
si
B
C
C
—
where
the
ﬁrst
(respectively,
second;
fourth)
arrow
is
the
∼
homomorphism
induced
by
B
→
B
(respectively,
fi
:
B
→
C;
C
→
C),
and
the
third
arrow
is
the
isomorphism
determined
by
the
Poincaré
duality
isomorphism
in
étale
cohomology,
rel∼
ative
to
the
natural
isomorphism
Isi
→
Zl
(1).
[Here,
the
“(1)”
denotes
a
“Tate
twist”.]
(iv)
(Kernel
of
a
certain
natural
representation)
The
kernel
of
the
homomorphism
ΠB
→
AutZl
(Πab
Z/B
)
determined
by
ρZ/B
coincides
with
the
kernel
of
the
natural
surjection
ΠB

Πab
.
B
20
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Proof.
Assertions
(i),
(ii)
follow
immediately
from
the
various
deﬁnitions
involved.
Next,
we
verify
assertion
(iii).
It
follows
from
assertion
(ii),
together
with
[MT],
Lemma
4.2,
(ii),
(v)
[cf.
also
the
discussion
surrounding
[MT],
Lemma
4.2],
that,
relative
to
the
natural
isomor∼
phism
Isi
→
Zl
(1),
the
image
of
φi
∈
Hom(ΠB
,
HomZl
(Πab
C
,
Isi
))
via
the
isomorphisms
∼
ab
Hom(ΠB
,
HomZl
(Πab
C
,
Isi
))
→
Hom(ΠB
,
HomZl
(ΠC
,
Zl
(1)))
∼
∼
←
H
2
(ΠB
×
ΠC
,
Zl
(1))
→
H
2
(B
×k
C,
Zl
(1))
—
where
the
ﬁrst
(respectively,
second)
isomorphism
is
the
isomor∼
phism
induced
by
the
above
isomorphism
Isi
→
Zl
(1)
(respectively,
the
pr1
Hochschild-Serre
spectral
sequence
relative
to
the
surjection
ΠB
×ΠC

ΠB
)
—
is
the
ﬁrst
Chern
class
of
the
invertible
sheaf
associated
to
the
divisor
determined
by
the
scheme-theoretic
image
of
si
:
Bi
→
B
×k
C.
Thus,
since
the
section
si
extends
uniquely
to
a
section
si
:
B
→
B
×k
C,
whose
scheme-theoretic
image
we
denote
by
Im(si
),
it
follows
that
the
homomorphism
φi
∈
Hom(ΠB
,
HomZl
(Πab
C
,
Isi
))
coincides
with
the
image
of
the
ﬁrst
Chern
class
of
the
invertible
sheaf
on
B
×k
C
associated
to
the
divisor
Im(si
)
via
the
composite
∼
H
2
(B
×k
C,
Zl
(1))
←
H
2
(B
×k
C,
Isi
)
→
H
2
(B
×k
C,
Isi
)


∼
∼
←
H
2
(ΠB
×
ΠC
,
Isi
)
→
Hom
ΠB
,
HomZl
(ΠC
,
Isi
)
—
where
the
ﬁrst
arrow
is
the
isomorphism
induced
by
the
above
isomor∼
phism
Isi
→
Zl
(1),
and
the
second
arrow
is
the
homomorphism
induced
by
the
natural
open
immersion
B
×k
C
→
B
×k
C.
In
particular,
assertion
(iii)
follows
immediately
from
[Mln],
Chapter
VI,
Lemma
12.2
[cf.
also
the
argument
used
in
the
proof
of
[MT],
Lemma
4.4].
Finally,
we
verify
assertion
(iv).
To
this
end,
we
recall
that
by
Lemma
1.1,
(iii),
)
factors
through
the
homomorthe
homomorphism
ΠB
→
AutZl
(Πab
Z/B



n
phism
ΠB
→
HomZl
Πab
of
assertion
(i).
Thus,
assertion
C
,
i=1
Jsi
(iv)
follows
immediately
from
assertion
(iii).
This
completes
the
proof
of
assertion
(iv).
Q.E.D.
Deﬁnition
1.4.
For

∈
{◦,
•},
let
Σ
be
a
set
of
prime
numbers
which
is
either
of
cardinality
one
or
equal
to
the
set
of
all
prime
numbers;
(g

,
r
)
a
pair
of
nonnegative
integers
such
that
2g

−
2
+
r
>
0;
X

a
hyperbolic
curve
of
type
(g

,
r
)
over
an
algebraically
closed
ﬁeld
of
Combinatorial
anabelian
topics
I
21
characteristic
∈
Σ
;
d
a
positive
integer;
Xd
the
d
-th
conﬁguration
the
pro-Σ
conﬁguraspace
of
X

[cf.
[MT],
Deﬁnition
2.1,
(i)];
Π
d
tion
space
group
[cf.
[MT],
Deﬁnition
2.3,
(i)]
obtained
by
forming
the
maximal
pro-Σ
quotient
of
the
étale
fundamental
group
π1
(Xd
)
of
Xd
.
∼
(i)
We
shall
say
that
an
isomorphism
of
proﬁnite
groups
α
:
Π◦d◦
→
Π•d•
is
PF-admissible
[i.e.,
“permutation-ﬁber-admissible”]
if
α
induces
a
bijection
between
the
set
of
ﬁber
subgroups
[cf.
[MT],
Deﬁnition
2.3,
(iii)]
of
Π◦d◦
and
the
set
of
ﬁber
subgroups
of
Π•d•
.
∼
We
shall
say
that
an
outer
isomorphism
Π◦d◦
→
Π•d•
is
PFadmissible
if
it
is
determined
by
a
PF-admissible
isomorphism.
(ii)
We
shall
say
that
an
isomorphism
of
proﬁnite
groups
α
:
Π◦d◦
→
Π•d•
is
PC-admissible
[i.e.,
“permutation-cusp-admissible”]
if
the
following
condition
is
satisﬁed:
Let
∼
{1}
=
Kd◦
⊆
Kd◦
−1
⊆
·
·
·
⊆
Km
⊆
·
·
·
⊆
K2
⊆
K1
⊆
K0
=
Π◦d◦
be
the
standard
ﬁber
ﬁltration
of
Π◦d◦
[cf.
[CmbCsp],
Deﬁnition
1.1,
(i)];
then
for
any
integer
1
≤
a
≤
d◦
,
the
image
α(Ka
)
⊆
Π•d•
is
a
ﬁber
subgroup
of
Π•d•
of
length
d◦
−
a
[cf.
[MT],
Deﬁ∼
nition
2.3,
(iii)],
and,
moreover,
the
isomorphism
Ka−1
/Ka
→
α(Ka−1
)/α(Ka
)
determined
by
α
induces
a
bijection
between
the
set
of
cuspidal
inertia
subgroups
of
Ka−1
/Ka
and
the
set
of
cuspidal
inertia
subgroups
of
α(Ka−1
)/α(Ka
).
[Note
that
it
follows
immediately
from
the
various
deﬁnitions
involved
that
the
proﬁnite
group
Ka−1
/Ka
(respectively,
α(Ka−1
)/α(Ka
))
is
equipped
with
a
natural
structure
of
pro-Σ◦
(respectively,
pro-Σ•
)
surface
group
[cf.
[MT],
Deﬁnition
1.2].]
We
shall
say
∼
that
an
outer
isomorphism
Π◦d◦
→
Π•d•
is
PC-admissible
if
it
is
determined
by
a
PC-admissible
isomorphism.
(iii)
∼
We
shall
say
that
an
isomorphism
of
proﬁnite
groups
α
:
Π◦d◦
→
Π•d•
is
PFC-admissible
[i.e.,
“permutation-ﬁber-cusp-admissible”]
if
α
is
PF-admissible
and
PC-admissible.
We
shall
say
∼
that
an
outer
isomorphism
Π◦d◦
→
Π•d•
is
PFC-admissible
if
it
is
determined
by
a
PFC-admissible
isomorphism.
22
Yuichiro
Hoshi
and
Shinichi
Mochizuki
(iv)
∼
We
shall
say
that
an
isomorphism
of
proﬁnite
groups
α
:
Π◦d◦
→
Π•d•
is
PF-cuspidalizable
if
there
exists
a
commutative
diagram
∼
Π◦d◦
+1
−−−−→
Π•d•
+1
⏐
⏐
⏐
⏐


Π◦d◦
∼
−−−−→
α
Π•d•
—
where
the
upper
horizontal
arrow
is
a
PF-admissible
isomorphism,
and
the
left-hand
(respectively,
right-hand)
vertical
arrow
is
the
surjection
obtained
by
forming
the
quotient
by
a
ﬁber
subgroup
of
length
1
[cf.
[MT],
Deﬁnition
2.3,
(iii)]
of
Π◦d◦
+1
(respectively,
Π•d•
+1
).
We
shall
say
that
an
outer
iso∼
morphism
Π◦d◦
→
Π•d•
is
PF-cuspidalizable
if
it
is
determined
by
a
PF-cuspidalizable
isomorphism.
Remark
1.4.1.
It
follows
immediately
from
the
various
deﬁnitions
involved
that,
in
the
notation
of
Deﬁnition
1.4,
an
automorphism
α
of
Π◦d◦
is
PF-admissible
(respectively,
PC-admissible;
PFC-admissible)
if
and
only
if
there
exists
an
automorphism
σ
of
Π◦d◦
that
lifts
the
outomorphism
[cf.
the
discussion
entitled
“Topological
groups”
in
§0]
of
Π◦d◦
naturally
determined
by
a
permutation
of
the
d◦
factors
of
the
conﬁguration
space
involved
such
that
the
composite
α
◦
σ
is
F-admissible
(respectively,
C-admissible;
FC-admissible)
[cf.
[CmbCsp],
Deﬁnition
1.1,
(ii)].
In
particular,
a(n)
F-admissible
(respectively,
C-admissible;
FC-admissible)
automorphism
of
Π◦d◦
is
PF-admissible
(respectively,
PCadmissible;
PFC-admissible):
F-admissible
⇐=
FC-admissible
=⇒
C-admissible
⇓
⇓
⇓
PF-admissible
⇐=
PFC-admissible
=⇒
PC-admissible
.
Proposition
1.5
(Properties
of
PF-admissible
isomor∼
phisms).
In
the
notation
of
Deﬁnition
1.4,
let
α
:
Π◦d◦
→
Π•d•
be
an
isomorphism.
Then
the
following
hold:
(i)
Σ◦
=
Σ•
.
Combinatorial
anabelian
topics
I
23
(ii)
Suppose
that
the
isomorphism
α
is
PF-admissible.
Let
1
≤
n
≤
d◦
be
an
integer
and
H
⊆
Π◦d◦
a
ﬁber
subgroup
of
length
n
of
Π◦d◦
.
Then
the
subgroup
α(H)
⊆
Π•d•
is
a
ﬁber
subgroup
of
length
n
of
Π•d•
.
In
particular,
it
holds
that
d◦
=
d•
.
(iii)
Write
Ξ◦
⊆
Π◦d◦
(respectively,
Ξ•
⊆
Π•d•
)
for
the
normal
closed
subgroup
of
Π◦d◦
(respectively,
Π•d•
)
obtained
by
taking
the
intersection
of
the
various
ﬁber
subgroups
of
length
d◦
−
1
(respectively,
d•
−1).
Then
the
isomorphism
α
is
PF-admissible
∼
if
and
only
if
α
induces
an
isomorphism
Ξ◦
→
Ξ•
.
Proof.
Assertion
(i)
follows
immediately
from
the
[easily
veriﬁed]
fact
that
Σ
may
be
characterized
as
the
smallest
set
of
primes
Σ∗
for
is
pro-Σ∗
.
Assertion
(ii)
follows
immediately
from
the
various
which
Π
d
deﬁnitions
involved.
Finally,
we
verify
assertion
(iii).
The
necessity
of
the
condition
follows
immediately
from
assertion
(ii).
The
suﬃciency
of
the
condition
follows
immediately
from
a
similar
argument
to
the
argument
used
in
the
proof
of
[CmbCsp],
Proposition
1.2,
(i).
This
completes
the
proof
of
assertion
(iii).
Q.E.D.
Lemma
1.6
(C-admissibility
of
certain
isomorphisms).
In
the
∼
∼
∼
notation
of
Deﬁnition
1.4,
let
α2
:
Π◦2
→
Π•2
,
α11
:
Π◦1
→
Π•1
,
α12
:
Π◦1
→
•
Π1
be
isomorphisms
of
proﬁnite
groups
which,
for
i
=
1,
2,
ﬁt
into
a
commutative
diagram
α2
→
Π•2
Π◦2
−−−−
⏐
⏐
⏐
⏐pr•
pr◦

{i}
{i}

αi
1
Π◦1
−−−−
→
Π•1
—
where
the
vertical
arrow
“pr
{i}
”
is
the
surjection
induced
by
the
pro

jection
“X2
→
X1
”
obtained
by
projecting
to
the
i-th
factor.
Then
the
isomorphism
α11
is
C-admissible.
In
particular,
(g
◦
,
r◦
)
=
(g
•
,
r•
).
def
Proof.
Write
Σ
=
Σ◦
=
Σ•
[cf.
Proposition
1.5,
(i)].
Now
it
follows
from
the
well-known
structure
of
the
maximal
pro-Σ
quotient
of
the
fundamental
group
of
a
smooth
curve
over
an
algebraically
closed
ﬁeld
of
characteristic
∈
Σ
that
Π
1
is
a
free
pro-Σ
group
if
and
only
if
r
=
0
[cf.
[CmbGC],
Remark
1.1.3].
Thus,
if
r◦
=
r•
=
0,
then
it
is
immediate
that
α11
is
C-admissible;
moreover,
it
follows,
by
considering
the
rank
of
the
abelianization
of
Π
1
[cf.
[CmbGC],
Remark
1.1.3],
that
g
◦
=
g
•
.
In
particular,
to
verify
Lemma
1.6,
we
may
assume
without
loss
24
Yuichiro
Hoshi
and
Shinichi
Mochizuki
of
generality
that
r◦
,
r•
=
0.
Then
it
follows
from
[CmbGC],
Theorem
1.6,
(i),
that,
to
verify
Lemma
1.6,
it
suﬃces
to
show
that
α11
is
numerically
cuspidal
[cf.
[CmbGC],
Deﬁnition
1.4,
(ii)],
i.e.,
to
show
that
the
following
assertion
holds:
Let
Π◦Y
⊆
Π◦1
be
an
open
subgroup
of
Π◦1
.
Write
def
Π•Y
=
α11
(Π◦Y
)
⊆
Π•1
,
Y
◦
→
X
◦
(respectively,
Y
•
→
X
•
)
for
the
connected
ﬁnite
étale
covering
of
X
◦
(respectively,
X
•
)
corresponding
to
the
open
subgroup
Π◦Y
⊆
Π◦1
(respectively,
Π•Y
⊆
Π•1
),
and
(gY◦
,
rY◦
)
(respectively,
(gY•
,
rY•
))
for
the
type
of
Y
◦
(respectively,
Y
•
).
Then
it
holds
that
rY◦
=
rY•
.
On
the
other
hand,
in
the
notation
of
the
above
assertion,
one
veriﬁes

easily
that
for
any
l
∈
Σ
and

∈
{◦,
•},
if
Π
Y

⊆
Π1
is
an
open



subgroup
of
Π1
contained
in
ΠY
,
then
the
natural
inclusion
Π
Y

→
ΠY
induces
a
surjection
ab
ab
ab
Ker((Π

(Π
)
⊗Z
Σ
Ql

Ker((Π

(Π
)ab
)
⊗Z
Σ
Ql
)
Y
)
Y)
Y
Y
—
where
we
write
(Π
),
(Π

)
for
the
maximal
pro-Σ
quotients
of
the
Y
Y

étale
fundamental
groups
of
the
compactiﬁcations
Y
,
Y
of
Y
,
Y

,
respectively.
Thus,
since
any
open
subgroup
of
Π◦1
contains
a
characteristic
open
subgroup
of
Π◦1
,
it
follows
immediately
from
the
well-known
ab
Σ(respectively,
(Π
)ab
)
is
a
free
Z
fact
that
for

∈
{◦,
•},
(Π
Y)
Y



module
of
rank
2gY
+
rY
−
1
(respectively,
2gY
)
[cf.,
e.g.,
[CmbGC],
Remark
1.1.3]
that
to
verify
the
above
assertion,
it
suﬃces
to
verify
that
if
Π◦Y
⊆
Π◦1
in
the
above
assertion
is
characteristic,
then
the
∼
isomorphism
Π◦Y
→
Π•Y
determined
by
α11
induces
an
isomorphism
of
Ker((Π◦Y
)ab

(Π◦Y
)ab
)
⊗Z
Σ
Ql
with
Ker((Π•Y
)ab

(Π•Y
)ab
)
⊗Z
Σ
Ql
for
some
l
∈
Σ.

To
this
end,
for

∈
{◦,
•},
write
Π
Z
⊆
Π2
for
the
normal
open

subgroup
of
Π2
obtained
by
forming
the
inverse
image
via
the
surjection




(pr
{1}
,
pr{2}
)
:
Π2

Π1
×
Π1




of
the
image
of
the
natural
inclusion
Π
→
Y
×
ΠY
→
Π1
×
Π1
;
Z

X2
for
the
connected
ﬁnite
étale
covering
corresponding
to
this
normal


open
subgroup
Π
Z
⊆
Π2
;
ΠZ/Y
for
the
kernel
of
the
natural
surjection
pr





→1
X

.
Π
Z

ΠY
induced
by
the
composite
Z
→
X2
→
X
×k
X


Then
the
natural
surjection
ΠZ

ΠY
determines
a
representation

ab
Π
Y
−→
Aut((ΠZ/Y
)
)
;
Combinatorial
anabelian
topics
I
25
moreover,
the
isomorphisms
α2
,
α11
,
and
α12
determine
a
commutative
diagram
Π◦Y
−−−−→
Aut((Π◦Z/Y
)ab
)
⏐
⏐
⏐
⏐


Π•Y
−−−−→
Aut((Π•Z/Y
)ab
)
—
where
the
vertical
arrows
are
isomorphisms.
[Here,
we
note
that
since
Π•Y
is
a
characteristic
subgroup
of
Π•1
,
and
the
composite
α12
◦
(α11
)−1
is
an
automorphism
of
Π•1
,
it
follows
that
Π•Y
=
α12
(Π◦Y
),
hence
that
∼
α2
induces
an
isomorphism
Π◦Z
→
Π•Z
.]
On
the
other
hand,
it
follows
from
the
deﬁnition
of
Z

that
Z

is
isomorphic
to
the
open
subscheme
of
Y

×k
Y

obtained
by
forming
the
complement
of
the
graphs
of
the
various
elements
of
Aut(Y

/X

).
Thus,
it
follows
from
Lemma
1.3,
(iv)
—
by
replacing
the
various
proﬁnite
groups
involved
by
their
maximal
∼
pro-l
quotients
for
some
l
∈
Σ
—
that
the
isomorphism
Π◦Y
→
Π•Y
1
◦
ab
◦
ab
determined
by
α1
induces
an
isomorphism
of
Ker((ΠY
)

(ΠY
)
)⊗Z
Σ
Ql
with
Ker((Π•Y
)ab

(Π•Y
)ab
)
⊗Z
Σ
Ql
for
some
l
∈
Σ.
This
completes
the
proof
of
Lemma
1.6.
Q.E.D.
Lemma
1.7
(PFC-admissibility
of
certain
PF-admissible
iso∼
morphisms).
In
the
notation
of
Deﬁnition
1.4,
let
α
:
Π◦d◦
→
Π•d•
be
a
PF-admissible
isomorphism.
Then
the
following
condition
implies
that
the
isomorphism
α
is
PFC-admissible:
Let
H
◦
⊆
Π◦d◦
be
a
ﬁber
subgroup
of
length
1
[cf.
def
[MT],
Deﬁnition
2.3,
(iii)].
Write
H
•
=
α(H
◦
)
⊆
Π•d•
for
the
ﬁber
subgroup
of
length
1
obtained
as
the
image
of
H
◦
via
α
[cf.
Proposition
1.5,
(ii)].
[Thus,
it
follows
immediately
from
the
various
deﬁnitions
involved
that
H
◦
(respectively,
H
•
)
is
equipped
with
a
natural
structure
of
pro-Σ◦
(respectively,
pro∼
Σ•
)
surface
group.]
Then
the
isomorphism
H
◦
→
H
•
induced
by
α
is
C-admissible.
Proof.
Let

∈
{◦,
•}.
Then
one
may
verify
easily
that
the
following
fact
holds:
Let
1
≤
a
≤
d
be
an
integer
and
F

⊆
F
⊆
Π
d
ﬁber
subgroups
of
Π
such
that
F
is
of
length
a,

d
and
F

is
of
length
a
−
1.
Then
there
exists
a
ﬁber
26
Yuichiro
Hoshi
and
Shinichi
Mochizuki
subgroup
H
⊆
F
⊆
Π
of
Π
of
length
1
such
that
d
d
the
composite
H
→
F

F/F

arises
from
a
natural
open
immersion
of
a
hyperbolic
curve
of
type
(g

,
r
+d
−1)
into
a
hyperbolic
curve
of
type
(g

,
r
+
d
−
a).
[Note
that
it
follows
immediately
from
the
various
deﬁnitions
involved
that
H
(respectively,
F/F

)
is
equipped
with
a
natural
structure
of
pro-Σ
surface
group.]
In
particular,
the
composite
is
a
surjection
whose
kernel
is
topologically
normally
generated
by
suitable
cuspidal
inertia
subgroups
of
H;
moreover,
any
cuspidal
inertia
subgroup
of
F/F

may
be
obtained
as
the
image
of
a
cuspidal
inertia
subgroup
of
H.
On
the
other
hand,
one
may
verify
easily
that
Lemma
1.7
follows
immediately
from
the
above
fact.
This
completes
the
proof
of
Lemma
1.7.
Q.E.D.
Theorem
1.8
(PFC-admissibility
of
certain
isomorphisms).
For

∈
{◦,
•},
let
Σ
be
a
set
of
prime
numbers
which
is
either
of
cardinality
one
or
equal
to
the
set
of
all
prime
numbers;
(g

,
r
)
a
pair
of
nonnegative
integers
such
that
2g

−2+r
>
0;
X

a
hyperbolic
curve
of
type
(g

,
r
)
over
an
algebraically
closed
ﬁeld
of
characteristic
the
pro-Σ
conﬁguration
space
group
∈
Σ
;
d
a
positive
integer;
Π
d
[cf.
[MT],
Deﬁnition
2.3,
(i)]
obtained
by
forming
the
maximal
pro-Σ
quotient
of
the
étale
fundamental
group
of
the
d
-th
conﬁguration
space
of
X

;
∼
α
:
Π◦d◦
−→
Π•d•
an
isomorphism
of
[abstract]
groups.
If

∅,
{(g
◦
,
r◦
),
(g
•
,
r•
)}
∩
{(0,
3),
(1,
1)}
=
then
we
suppose
further
that
the
isomorphism
α
is
PF-admissible
[cf.
Deﬁnition
1.4,
(i)].
Then
the
following
hold:
(i)
Σ◦
=
Σ•
.
(ii)
The
isomorphism
α
is
an
isomorphism
of
proﬁnite
groups.
(iii)
The
isomorphism
α
is
PF-admissible.
In
particular,
d◦
=
d•
.
Combinatorial
anabelian
topics
I
(iv)
27
If
α
is
PF-cuspidalizable
[cf.
Deﬁnition
1.4,
(iv)],
then
α
is
PFC-admissible
[cf.
Deﬁnition
1.4,
(iii)].
In
particular,
(g
◦
,
r◦
)
=
(g
•
,
r•
).
Proof.
Assertion
(ii)
follows
from
[NS],
Theorem
1.1.
In
light
of
assertion
(ii),
assertion
(i)
follows
from
Proposition
1.5,
(i).
Assertion
(iii)
follows
from
Proposition
1.5,
(ii);
[MT],
Corollary
6.3,
together
with
the
assumption
appearing
in
the
statement
of
Theorem
1.8.
Assertion
(iv)
follows
immediately
from
Lemmas
1.6,
1.7.
Q.E.D.
Corollary
1.9
(F-admissibility
and
FC-admissibility).
Let
Σ
be
a
set
of
prime
numbers
which
is
either
of
cardinality
one
or
equal
to
the
set
of
all
prime
numbers;
n
a
positive
integer;
(g,
r)
a
pair
of
nonnegative
integers
such
that
2g
−
2
+
r
>
0;
X
a
hyperbolic
curve
of
type
(g,
r)
over
an
algebraically
closed
ﬁeld
k
of
characteristic
∈
Σ;
Xn
the
n-th
conﬁguration
space
of
X;
Πn
the
maximal
pro-Σ
quotient
of
the
fundamental
group
of
Xn
;
“OutFC
(−)”,
“OutF
(−)”
⊆
“Out(−)”
the
subgroups
of
FC-
and
F-admissible
[cf.
[CmbCsp],
Deﬁnition
1.1,
(ii)]
outomorphisms
[cf.
the
discussion
entitled
“Topological
groups”
in
§0]
of
“(−)”.
Then
the
following
hold:
(i)
Let
α
∈
OutF
(Πn+1
).
Then
α
induces
the
same
outomorphism
of
Πn
relative
to
the
various
quotients
Πn+1

Πn
by
ﬁber
subgroups
of
length
1
[cf.
[MT],
Deﬁnition
2.3,
(iii)].
In
particular,
we
obtain
a
natural
homomorphism
OutF
(Πn+1
)
−→
OutF
(Πn
)
.
(ii)
The
image
of
the
homomorphism
OutF
(Πn+1
)
−→
OutF
(Πn
)
of
(i)
is
contained
in
OutFC
(Πn
)
⊆
OutF
(Πn
)
.
Proof.
First,
we
verify
assertion
(i).
Let
H
1
,
H
2
⊆
Πn+1
be
two
distinct
ﬁber
subgroups
of
Πn+1
of
length
1.
Observe
that
the
normal
closed
subgroup
H
⊆
Πn+1
of
Πn+1
topologically
generated
by
H
1
and
H
2
is
a
ﬁber
subgroup
of
Πn+1
of
length
2
[cf.
[MT],
Proposition
2.4,
(iv)],
hence
is
equipped
with
a
natural
structure
of
pro-Σ
conﬁguration
space
group,
with
respect
to
which
H
i
⊆
H
may
be
regarded
as
a
ﬁber
28
Yuichiro
Hoshi
and
Shinichi
Mochizuki
subgroup
of
length
1
[cf.
[MT],
Proposition
2.4,
(ii)].
Moreover,
it
follows
immediately
from
the
scheme-theoretic
deﬁnition
of
the
various
conﬁguration
space
groups
involved
that
one
has
natural
outer
isomorphisms
∼
∼
Πn+1
/H
i
→
Πn
and
H/H
1
→
H/H
2
.
Thus,
since
for
i
∈
{1,
2},
we
have
natural
outer
isomorphisms
∼
∼
out
Πn
←
Πn+1
/H
i
→
(H/H
i
)

Πn+1
/H
[cf.
the
discussion
entitled
“Topological
groups”
in
§0]
which
are
compatible
with
the
various
natural
outer
isomorphisms
discussed
above,
one
veriﬁes
easily
[cf.
the
argument
given
in
the
ﬁrst
paragraph
of
the
proof
of
[CmbCsp],
Theorem
4.1]
that
to
complete
the
proof
of
assertion
(i),
by
replacing
Πn+1
by
H,
it
suﬃces
to
verify
assertion
(i)
in
the
case
where
n
=
1.
The
rest
of
the
proof
of
assertion
(i)
is
devoted
to
verifying
assertion
(i)
in
the
case
where
n
=
1.
1
,
Let
α

∈
AutF
(Π2
)
be
an
F-admissible
automorphism
of
Π2
;
α
2

relative
to
the
α

∈
Aut(Π1
)
the
automorphisms
of
Π1
induced
by
α
∼
∼
quotients
Π2

Π2
/H
1
→
Π1
,
Π2

Π2
/H
2
→
Π1
,
respectively.
Now
it
is
immediate
that
to
complete
the
proof
of
assertion
(i),
it
suﬃces
to
α2
)−1
∈
Aut(Π1
)
is
Π1
-inner.
Therefore,
verify
that
the
diﬀerence
α
1
◦
(
it
follows
immediately
from
[JR],
Theorem
B,
that
to
complete
the
proof
of
assertion
(i),
it
suﬃces
to
verify
that
(∗1
):
for
any
normal
open
subgroup
N
⊆
Π1
of
Π1
,
2
(N
).
it
holds
that
α
1
(N
)
=
α
To
this
end,
let
N
⊆
Π1
be
a
normal
open
subgroup
of
Π1
.
Write
∼
def
ΠN
=
Π2
×Π1
N
for
the
ﬁber
product
of
Π2

Π2
/H
1
→
Π1
and
pr1
N
→
Π1
and
FN
for
the
kernel
of
the
composite
ΠN
=
Π2
×Π1
N
→
∼
Π2

Π2
/H
2
→
Π1
.
Then
the
surjection
ΠN

N
×
Π1
determined
by
∼
the
natural
surjection
ΠN

ΠN
/FN
→
Π1
and
the
second
projection
pr2
ΠN
=
Π2
×Π1
N

N
ﬁts
into
a
commutative
diagram
of
proﬁnite
groups
1
−−−−→
FN
−−−−→
⏐
⏐

ΠN
⏐
⏐

−−−−→
Π1
−−−−→
1



pr
2
→
Π1
−−−−→
1
1
−−−−→
N
−−−−→
N
×
Π1
−−−−
—
where
the
horizontal
sequences
are
exact,
and
the
vertical
arrows
are
surjective.
Write
ρN
:
Π1
→
Aut(FNab
)
for
the
natural
action
determined
by
the
upper
horizontal
sequence
and
VN
⊆
FNab
for
the
kernel
of
the
natural
surjection
FNab

N
ab
induced
by
the
left-hand
vertical
arrow.
Now
we
claim
that
Combinatorial
anabelian
topics
I
29
(∗2
):
the
action
ρN
of
Π1
on
FNab
preserves
VN
⊆
FNab
,
and,
moreover,
the
resulting
action
ρVN
:
Π1
→
Aut(VN
)
factors
as
the
composite
Π1

Π1
/N
→
Aut(VN
)
—
where
the
second
arrow
is
injective.
Indeed,
the
fact
that
the
action
ρN
of
Π1
on
FNab
preserves
VN
⊆
FNab
follows
immediately
from
the
deﬁnition
of
ρN
[cf.
also
the
above
commutative
diagram].
Next,
let
us
observe
that
it
follows
immediately
from
the
various
deﬁnitions
involved
that
if
we
write
f
:
Y
→
X
for
the
connected
ﬁnite
étale
Galois
covering
of
X
corresponding
to
N
⊆
Π1
,
then
the
right-hand
square
of
the
above
diagram
arises
from
a
commutative
diagram
of
schemes
pr
2
→
X
(Y
×k
X)
\
Γf
−−−−
⏐

⏐



Y
×k
X
pr
2
−−−−
→
X
—
where
we
write
Γf
⊆
Y
×k
X
for
the
graph
of
f
,
and
the
left-hand
vertical
arrow
is
the
natural
open
immersion.
Thus,
it
follows
immediately
from
a
similar
argument
to
the
argument
used
in
the
proof
of
Lemma
1.1,
(i)
[cf.
also
[Hsh],
Proposition
1.4,
(i)],
that
FN
,
N
are
naturally
isomorphic
to
the
maximal
pro-Σ
quotients
of
the
étale
fundamental
groups
of
geometric
ﬁbers
of
the
families
of
hyperbolic
curves
pr
Y
×k
X
\
Γf
,
Y
×k
X
→2
X
over
X,
respectively.
Therefore,
by
the
well-known
structure
of
the
maximal
pro-Σ
quotient
of
the
fundamental
group
of
a
smooth
curve
over
an
algebraically
closed
ﬁeld
of
characteristic
∈
Σ,
we
conclude
—
by
considering
the
natural
action
of
Π1
on
the
pr
set
of
cusps
of
the
family
of
hyperbolic
curves
Y
×k
X
\
Γf
→2
X
—
that
the
resulting
action
ρVN
:
Π1
→
Aut(VN
)
factors
as
the
composite
Π1

Π1
/N
→
Aut(VN
),
and
that
if
X
is
aﬃne
(respectively,
proper),
then
for
any
l
∈
Σ,
the
resulting
representation
Π1
/N
→
Aut(VN
⊗Z
Σ
Ql
)
is
isomorphic
to
the
regular
representation
of
Π1
/N
over
Ql
(respectively,
the
quotient
of
the
regular
representation
of
Π1
/N
over
Ql
by
the
trivial
subrepresentation
[of
dimension
1]).
In
particular,
as
is
well-known,
the
homomorphism
Π1
/N
→
Aut(VN
⊗Z
Σ
Ql
),
hence
also
the
homomorphism
Π1
/N
→
Aut(VN
),
is
injective.
This
completes
the
proof
of
the
claim
(∗2
).
30
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Next,
let
us
observe
that
since
α

is
F-admissible,
it
follows
imme
induces
a
diately
from
the
deﬁnition
of
“ρVN
”
that
the
automorphism
α
commutative
diagram
ρV
Π1
−−−N−→
⏐
⏐
α

2

Aut(VN
)
⏐
⏐

ρV
α

1
(N
)
Π1
−−−−→
Aut(Vα
1
(N
)
)
—
where
the
vertical
arrows
are
isomorphisms
that
are
induced
by
α
.
Thus,
by
considering
the
kernels
of
ρVN
,
ρVα
1
(N
)
,
one
concludes
from
the
claim
(∗2
)
that
α
1
(N
)
=
α
2
(N
).
This
completes
the
proof
of
(∗1
),
hence
also
of
assertion
(i).
Assertion
(ii)
follows
immediately
from
Theorem
1.8,
(iv)
[cf.
also
Remark
1.4.1].
This
completes
the
proof
of
Corollary
1.9.
Q.E.D.
Remark
1.9.1.
The
discrete
versions
of
Theorem
1.8,
Corollary
1.9
will
be
discussed
in
a
sequel
to
the
present
paper.
§2.
Various
operations
on
semi-graphs
of
anabelioids
of
PSCtype
In
the
present
§,
we
study
various
operations
on
semi-graphs
of
anabelioids
of
PSC-type.
These
operations
include
the
following:
(Op1)
the
operation
of
restriction
to
a
sub-semi-graph
[satisfying
certain
conditions]
of
the
underlying
semi-graph
[cf.
Deﬁnition
2.2,
(ii);
Fig.
2
below],
(Op2)
the
operation
of
partial
compactiﬁcation
[cf.
Deﬁnition
2.4,
(ii);
Fig.
3
below],
(Op3)
the
operation
of
resolution
of
a
given
set
[satisfying
certain
conditions]
of
nodes
[cf.
Deﬁnition
2.5,
(ii);
Fig.
4
below],
and
(Op4)
the
operation
of
generization
[cf.
Deﬁnition
2.8;
Fig.
5
below].
A
basic
reference
for
the
theory
of
semi-graphs
of
anabelioids
of
PSCtype
is
[CmbGC].
We
shall
use
the
terms
“semi-graph
of
anabelioids
of
PSC-type”,
“PSC-fundamental
group
of
a
semi-graph
of
anabelioids
of
Combinatorial
anabelian
topics
I
31
PSC-type”,
“ﬁnite
étale
covering
of
semi-graphs
of
anabelioids
of
PSCtype”,
“vertex”,
“edge”,
“cusp”,
“node”,
“verticial
subgroup”,
“edge-like
subgroup”,
“nodal
subgroup”,
“cuspidal
subgroup”,
and
“sturdy”
as
they
are
deﬁned
in
[CmbGC],
Deﬁnition
1.1.
Also,
we
shall
apply
the
various
notational
conventions
established
in
[NodNon],
Deﬁnition
1.1,
and
refer
to
the
“PSC-fundamental
group
of
a
semi-graph
of
anabelioids
of
PSC-type”
simply
as
the
“fundamental
group”
[of
the
semi-graph
of
anabelioids
of
PSC-type].
That
is
to
say,
we
shall
refer
to
the
maximal
pro-Σ
quotient
of
the
fundamental
group
of
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
[as
a
semi-graph
of
anabelioids!]
as
the
“fundamental
group
of
the
semi-graph
of
anabelioids
of
PSC-type”.
Let
Σ
be
a
nonempty
set
of
prime
numbers
and
G
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type.
Write
G
for
the
underlying
semi-graph
of
G,
ΠG
for
the
[pro-Σ]
fundamental
group
of
G,
and
G
→
G
for
the
universal
covering
of
G
corresponding
to
ΠG
.
Then
since
the
fundamental
group
ΠG
of
G
is
topologically
ﬁnitely
generated,
the
proﬁnite
topology
of
ΠG
induces
[proﬁnite]
topologies
on
Aut(ΠG
)
and
Out(ΠG
)
[cf.
the
discussion
entitled
“Topological
groups”
in
§0].
If,
moreover,
we
write
Aut(G)
for
the
automorphism
group
of
G,
then
by
the
discussion
preceding
[CmbGC],
Lemma
2.1,
the
natural
homomorphism
Aut(G)
−→
Out(ΠG
)
is
an
injection
with
closed
image.
[Here,
we
recall
that
an
automorphism
of
a
semi-graph
of
anabelioids
consists
of
an
automorphism
of
the
underlying
semi-graph,
together
with
a
compatible
system
of
isomorphisms
between
the
various
anabelioids
at
each
of
the
vertices
and
edges
of
the
underlying
semi-graph
which
are
compatible
with
the
various
morphisms
of
anabelioids
associated
to
the
branches
of
the
underlying
semi-graph
—
cf.
[SemiAn],
Deﬁnition
2.1;
[SemiAn],
Remark
2.4.2.]
Thus,
by
equipping
Aut(G)
with
the
topology
induced
via
this
homomorphism
by
the
topology
of
Out(ΠG
),
we
may
regard
Aut(G)
as
being
equipped
with
the
structure
of
a
proﬁnite
group.
Deﬁnition
2.1.
(i)
For
z
∈
VCN(G)
such
that
z
∈
Vert(G)
(respectively,
z
∈
Edge(G)),
we
shall
say
that
a
closed
subgroup
of
ΠG
is
a
VCNsubgroup
of
ΠG
associated
to
z
∈
VCN(G)
if
the
closed
subgroup
is
a
verticial
(respectively,
an
edge-like)
subgroup
of
32
Yuichiro
Hoshi
and
Shinichi
Mochizuki

such
that
ΠG
associated
to
z
∈
VCN(G).
For
z
∈
VCN(G)

(respectively,
z
∈
Edge(G)),

we
shall
say
that
a
z
∈
Vert(G)
closed
subgroup
of
ΠG
is
the
VCN-subgroup
of
ΠG
associated

if
the
closed
subgroup
is
the
verticial
(respecto
z
∈
VCN(G)

[cf.
tively,
edge-like)
subgroup
of
ΠG
associated
to
z
∈
VCN(G)
[NodNon],
Deﬁnition
1.1,
(vi)].
(ii)
For
z
∈
VCN(G),
we
shall
write
Gz
for
the
anabelioid
corresponding
to
z
∈
VCN(G).
(iii)
For
v
∈
Vert(G),
we
shall
write
G|v
for
the
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
deﬁned
as
follows
[cf.
Fig.
1
below]:
We
take
Vert(G|v
)
to
consist
of
the
single
element
“v”,
Cusp(G|v
)
to
be
the
set
of
branches
of
G
which
abut
to
v,
and
Node(G|v
)
to
be
the
empty
set.
We
take
the
anabelioid
of
G|v
corresponding
to
the
unique
vertex
“v”
to
be
Gv
[cf.
(ii)].
For
each
edge
e
∈
E(v)
of
G
and
each
branch
b
of
e
that
abuts
to
the
vertex
v,
we
take
the
anabelioid
of
G|v
corresponding
to
the
branch
b
to
be
a
copy
of
the
anabelioid
Ge
[cf.
(ii)].
For
each
edge
e
∈
E(v)
of
G
and
each
branch
b
of
e
that
abuts,
relative
to
G,
to
the
vertex
v,
we
take
the
morphism
of
anabelioids
(G|v
)eb
→
(G|v
)v
of
G|v
—
where
we
write
eb
for
the
cusp
of
G|v
corresponding
to
b
—
to
be
the
morphism
of
anabelioids
Ge
→
Gv
associated,
relative
to
G,
to
the
branch
b.
Thus,
one
has
a
natural
morphism
G|v
−→
G
of
semi-graphs
of
anabelioids.
Remark
2.1.1.
Let
v
∈
Vert(G)
be
a
vertex
of
G
and
Πv
⊆
ΠG
a
verticial
subgroup
of
ΠG
associated
to
v
∈
Vert(G).
Then
it
follows
immediately
from
the
various
deﬁnitions
involved
that
the
fundamental
group
of
G|v
is
naturally
isomorphic
to
Πv
,
and
that
we
have
a
natural
identiﬁcation
Aut(Gv
)
≃
Out(Πv
)
Combinatorial
anabelian
topics
I
33
and
a
natural
injection
Aut(G|v
)
→
Aut(Gv
)
.
•
G
◦
◦
v
◦
⇒
G|v
•
◦
•
◦
Figure
1:
G|v
Deﬁnition
2.2
(cf.
the
operation
(Op1)
discussed
at
the
beginning
the
present
§2).
(i)
Let
K
be
a
[not
necessarily
ﬁnite]
semi-graph
and
H
a
sub-semigraph
of
K
[cf.
[SemiAn],
the
discussion
following
the
ﬁgure
entitled
“A
Typical
Semi-graph”].
Then
we
shall
say
that
H
is
of
PSC-type
if
the
following
three
conditions
are
satisﬁed:
(1)
H
is
ﬁnite
[i.e.,
the
set
consisting
of
vertices
and
edges
of
H
is
ﬁnite]
and
connected.
(2)
H
has
at
least
one
vertex.
(3)
If
v
is
a
vertex
of
H,
and
e
is
an
edge
of
K
that
abuts
to
v,
then
e
is
an
edge
of
H.
[Thus,
if
e
abuts
both
to
a
vertex
lying
in
H
and
to
a
vertex
not
lying
in
H,
then
the
resulting
edge
of
H
is
a
“cusp”,
i.e.,
an
open
edge.]
Thus,
a
sub-semi-graph
of
PSC-type
H
is
completely
determined
by
the
set
of
vertices
that
lie
in
H.
(ii)
Let
H
be
a
sub-semi-graph
of
PSC-type
[cf.
(i)]
of
G.
Then
one
may
verify
easily
that
the
semi-graph
of
anabelioids
obtained
by
restricting
G
to
H
[cf.
the
discussion
preceding
[SemiAn],
Deﬁnition
2.2]
is
of
pro-Σ
PSC-type.
Here,
we
recall
that
the
semi-graph
of
anabelioids
obtained
by
restricting
G
to
H
is
the
semi-graph
of
anabelioids
such
that
the
underlying
semi-graph
is
H;
for
each
vertex
v
(respectively,
edge
e)
of
H,
the
anabelioid
corresponding
to
v
(respectively,
e)
is
Gv
(respectively,
34
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Ge
)
[cf.
Deﬁnition
2.1,
(ii)];
for
each
branch
b
of
an
edge
e
of
H
that
abuts
to
a
vertex
v
of
H,
the
morphism
associated
to
b
is
the
morphism
Ge
→
Gv
associated
to
the
branch
of
G
corresponding
to
b.
We
shall
write
G|H
for
this
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
and
refer
to
G|H
as
the
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
obtained
by
restricting
G
to
H
[cf.
Fig.
2
below].
Thus,
one
has
a
natural
morphism
G|H
−→
G
of
semi-graphs
of
anabelioids.
v
×
×
G
H:
the
sub-semi-graph
of
PSC-type
whose
set
of
vertices
=
{v}
⇓
×
×
G|H
Figure
2:
Restriction
Combinatorial
anabelian
topics
I
35
Deﬁnition
2.3.
Let
(g,
r)
be
a
pair
of
nonnegative
integers
such
that
2g
−
2
+
r
>
0.
(i)
We
shall
say
that
G
is
of
type
(g,
r)
if
G
arises
from
a
stable
log
curve
of
type
(g,
r)
over
an
algebraically
closed
ﬁeld
of
characteristic
∈
Σ,
i.e.,
Cusp(G)
is
of
cardinality
r,
and,
moreover,

rankZ
Σ
(Πab
G
)
=
2g
+
Cusp(G)
−
cG
—
where
def
cG
=
0
if
Cusp(G)
=
∅,
1
if
Cusp(G)
=
∅.
[Here,
we
recall
that
it
follows
from
the
discussion
of
[CmbGC],
Σ
Remark
1.1.3,
that
Πab
G
is
a
free
Z
-module
of
ﬁnite
rank.]
(ii)
Let
H
be
a
sub-semi-graph
of
PSC-type
[cf.
Deﬁnition
2.2,
(i)].
Then
we
shall
say
that
H
is
of
type
(g,
r)
if
the
semi-graph
of
anabelioids
G|H
,
which
is
of
pro-Σ
PSC-type
[cf.
Deﬁnition
2.2,
(ii)],
is
of
type
(g,
r)
[cf.
(i)].
(iii)
Let
v
∈
Vert(G)
be
a
vertex.
Then
we
shall
say
that
v
is
of
type
(g,
r)
if
the
semi-graph
of
anabelioids
G|v
,
which
is
of
pro-Σ
PSC-type
[cf.
Deﬁnition
2.1,
(iii)],
is
of
type
(g,
r)
[cf.
(i)].
(iv)
We
shall
say
that
G
is
totally
degenerate
if
each
vertex
of
G
is
of
type
(0,
3)
[cf.
(iii)].
(v)
One
may
verify
easily
that
there
exists
a
unique,
up
to
isomorphism,
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
that
is
of
type
(g,
r)
[cf.
(i)]
and
has
no
node.
We
shall
write
model
Gg,r
for
this
semi-graph
of
anabelioids
of
pro-Σ
PSC-type.
Remark
2.3.1.
It
follows
immediately
from
the
various
deﬁnitions
involved
that
there
exists
a
unique
pair
(g,
r)
of
nonnegative
integers
such
that
G
is
of
type
(g,
r)
[cf.
Deﬁnition
2.3,
(i)].
Deﬁnition
2.4
(cf.
the
operation
(Op2)
discussed
at
the
beginning
the
present
§2).
36
Yuichiro
Hoshi
and
Shinichi
Mochizuki
(i)
We
shall
say
that
a
subset
S
⊆
Cusp(G)
of
Cusp(G)
is
omittable
if
the
following
condition
is
satisﬁed:
For
each
vertex
v
∈
Vert(G)
of
G,
if
v
is
of
type
(g,
r)
[cf.
Deﬁnition
2.3,
(iii);
Remark
2.3.1],
then
it
holds
that
2g
−
2
+
r
−
(E(v)
∩
S)
>
0.
(ii)
Let
S
⊆
Cusp(G)
be
a
subset
of
Cusp(G)
which
is
omittable
[cf.
(i)].
Then
by
eliminating
the
cusps
[i.e.,
the
open
edges]
contained
in
S,
and,
for
each
vertex
v
of
G,
replacing
the
anabelioid
Gv
corresponding
to
v
by
the
anabelioid
of
ﬁnite
étale
coverings
of
Gv
that
restrict
to
a
trivial
covering
over
the
cusps
contained
in
S
that
abut
to
v,
we
obtain
a
semi-graph
of
anabelioids
G•S
of
pro-Σ
PSC-type.
We
shall
refer
to
G•S
as
the
partial
compactiﬁcation
of
G
with
respect
to
S
[cf.
Fig.
3
below].
Thus,
for
each
v
∈
Vert(G)
=
Vert(G•S
),
the
pro-Σ
fundamental
group
of
the
anabelioid
(G•S
)v
corresponding
to
v
∈
Vert(G)
=
Vert(G•S
)
may
be
naturally
identiﬁed,
up
to
inner
automorphism,
with
the
quotient
of
a
verticial
subgroup
Πv
⊆
ΠG
of
ΠG
associated
to
v
∈
Vert(G)
=
Vert(G•S
)
by
the
subgroup
of
Πv
topologically
normally
generated
by
the
Πe
⊆
Πv
for
e
∈
E(v)
∩
S.
If,
moreover,
we
write
ΠG•S
for
the
[pro-Σ]
fundamental
group
of
G•S
and
NS
⊆
ΠG
for
the
normal
closed
subgroup
of
ΠG
topologically
normally
generated
by
the
cuspidal
subgroups
of
ΠG
associated
to
elements
of
S,
then
we
have
a
natural
outer
isomorphism
∼
ΠG
/NS
−→
ΠG•S
.
Remark
2.4.1.
(i)
Let
S1
⊆
S2
⊆
Cusp(G)
be
subsets
of
Cusp(G).
Then
it
follows
immediately
from
the
various
deﬁnitions
involved
that
the
omittability
of
S2
[cf.
Deﬁnition
2.4,
(i)]
implies
the
omittability
of
S1
.
(ii)
If
G
is
sturdy,
then
it
follows
from
the
various
deﬁnitions
involved
that
Cusp(G),
hence
also
any
subset
of
Cusp(G)
[cf.
(i)],
is
omittable.
Moreover,
the
partial
compactiﬁcation
of
G
with
Combinatorial
anabelian
topics
I
37
respect
to
Cusp(G)
coincides
with
the
compactiﬁcation
of
G
[cf.
[CmbGC],
Remark
1.1.6;
[NodNon],
Deﬁnition
1.11].
c1
c2
×
×
×
G
⇓
×
G•{c1
,c2
}
Figure
3:
Partial
compactiﬁcation
Deﬁnition
2.5
(cf.
the
operation
(Op3)
discussed
at
the
beginning
the
present
§2).
Let
S
⊆
Node(G)
be
a
subset
of
Node(G).
(i)
We
shall
say
that
S
is
of
separating
type
if
the
semi-graph
obtained
by
removing
the
closed
edges
corresponding
to
the
elements
of
S
from
G
is
disconnected.
Moreover,
for
each
node
e
∈
Node(G),
we
shall
say
that
e
is
of
separating
type
if
{e}
⊆
Node(G)
is
of
separating
type.
(ii)
Suppose
that
S
is
not
of
separating
type
[cf.
(i)].
Then
one
may
deﬁne
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
as
follows:
We
take
the
underlying
semi-graph
GS
to
be
the
semi-graph
obtained
by
replacing
each
node
e
of
G
contained
in
S
such
that
V(e)
=
{v1
,
v2
}
⊆
Vert(G)
—
where
v1
,
v2
are
not
necessarily
distinct
—
by
two
cusps
that
abut
to
v1
,
v2
∈
Vert(G),
respectively.
We
take
the
anabelioid
corresponding
to
a
vertex
v
(respectively,
node
e)
of
GS
to
be
Gv
(respectively,
Ge
).
[Note
that
the
set
of
vertices
(respectively,
nodes)
38
Yuichiro
Hoshi
and
Shinichi
Mochizuki
of
GS
may
be
naturally
identiﬁed
with
Vert(G)
(respectively,
Node(G)
\
S).]
We
take
the
anabelioid
corresponding
to
a
cusp
of
GS
arising
from
a
cusp
e
of
G
to
be
Ge
.
We
take
the
anabelioid
corresponding
to
a
cusp
of
GS
arising
from
a
node
e
of
G
to
be
Ge
.
For
each
branch
b
of
GS
that
abuts
to
a
vertex
v
of
a
node
e
(respectively,
of
a
cusp
e
that
does
not
arise
from
a
node
of
G),
we
take
the
morphism
associated
to
b
to
be
the
morphism
Ge
→
Gv
associated
to
the
branch
of
G
corresponding
to
b.
For
each
branch
b
of
GS
that
abuts
to
a
vertex
v
of
a
cusp
of
GS
that
arises
from
a
node
e
of
G,
we
take
the
morphism
associated
to
b
to
be
the
morphism
Ge
→
Gv
associated
to
the
branch
of
G
corresponding
to
b.
We
shall
denote
the
resulting
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
by
GS
and
refer
to
GS
as
the
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
obtained
from
G
by
resolving
S
[cf.
Fig.
4
below].
Thus,
one
has
a
natural
morphism
GS
−→
G
of
semi-graphs
of
anabelioids.
Remark
2.5.1.
(i)
Let
S1
⊆
S2
⊆
Node(G)
be
subsets
of
Node(G).
Then
it
follows
immediately
from
the
various
deﬁnitions
involved
that
if
S2
is
not
of
separating
type
[cf.
Deﬁnition
2.5,
(i)],
then
S1
is
not
of
separating
type.
(ii)
Let
v
∈
Vert(G)
be
a
vertex
of
G.
Then
one
may
verify
easily
that
there
exists
a
unique
sub-semi-graph
of
PSC-type
[cf.
Deﬁnition
2.2,
(i)]
Gv
of
G
such
that
the
set
of
vertices
of
Gv
is
equal
to
{v}.
Moreover,
one
may
also
verify
easily
that
Node(G|Gv
)
[cf.
Deﬁnition
2.2,
(ii)]
is
not
of
separating
type
[cf.
Deﬁnition
2.5,
(i)],
relative
to
G|Gv
,
and
that
the
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
(G|Gv
)Node(G|Gv
)
[cf.
Deﬁnition
2.5,
(ii)]
is
naturally
isomorphic
to
G|v
[cf.
Definition
2.1,
(iii)].
Combinatorial
anabelian
topics
I
39
×
×
G
e
⇓
×
×
×
×
G{e}
Figure
4:
Resolution
40
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Deﬁnition
2.6.
(i)
Let
S
⊆
VCN(G)
be
a
subset
of
VCN(G).
Then
we
shall
denote
by
AutS
(G)
⊆
Aut(G)
the
[closed]
subgroup
of
Aut(G)
consisting
of
automorphisms
α
of
G
such
that
the
automorphism
of
the
underlying
semi-graph
G
of
G
induced
by
α
preserves
S
and
by
Aut|S|
(G)
⊆
AutS
(G)
the
[closed]
subgroup
of
Aut(G)
consisting
of
automorphisms
α
of
G
such
that
the
automorphism
of
the
underlying
semigraph
G
of
G
induced
by
α
preserves
and
induces
the
identity
automorphism
of
S.
Moreover,
we
shall
write
Aut|grph|
(G)
=
Aut|VCN(G)|
(G)
.
def
(ii)
Let
H
⊆
ΠG
be
a
closed
subgroup
of
ΠG
.
Then
we
shall
denote
by
OutH
(ΠG
)
⊆
Out(ΠG
)
the
[closed]
subgroup
of
Out(ΠG
)
consisting
of
outomorphisms
[cf.
the
discussion
entitled
“Topological
groups”
in
§0]
of
ΠG
which
preserve
the
ΠG
-conjugacy
class
of
H
⊆
ΠG
.
Moreover,
we
shall
denote
by
def
AutH
(G)
=
Aut(G)
∩
OutH
(ΠG
)
.
(iii)
Let
H
be
a
sub-semi-graph
of
PSC-type
[cf.
Deﬁnition
2.2,
(i)]
of
G.
Then
VCN(G|H
)
[cf.
Deﬁnition
2.2,
(ii)]
may
be
regarded
as
a
subset
of
VCN(G).
We
shall
write
Aut|H|
(G)
def
=
Aut|VCN(G|H
)|
(G)
⊆
AutH
(G)
def
=
=
AutVCN(G|H
)
(G)
AutVert(G|H
)
(G)
.
Proposition
2.7
(Subgroups
determined
by
sets
of
components).
Let
S
⊆
VCN(G)
be
a
nonempty
subset
of
VCN(G).
Then:
Combinatorial
anabelian
topics
I
(i)
41
It
holds
that
Aut|S|
(G)
=

AutΠz
(G)
z∈S
—
where
we
use
the
notation
Πz
to
denote
a
VCN-subgroup
[cf.
Deﬁnition
2.1,
(i)]
of
ΠG
associated
to
z
∈
VCN(G).
(ii)
It
holds
that
Aut|grph|
(G)
=

OutΠz
(ΠG
)
z∈VCN(G)
—
where
we
use
the
notation
Πz
to
denote
a
VCN-subgroup
of
ΠG
associated
to
z
∈
VCN(G).
(iii)
The
closed
subgroups
Aut|S|
(G),
AutS
(G)
⊆
Aut(G)
are
open
in
Aut(G).
Moreover,
the
closed
subgroup
Aut|S|
(G)
⊆
AutS
(G)
is
normal
in
AutS
(G).
In
particular,
Aut|grph|
(G)
⊆
Aut(G)
is
normal
in
Aut(G).
Proof.
Assertion
(i)
follows
immediately
from
[CmbGC],
Proposition
1.2,
(i).
Next,
we
verify
assertion
(ii).
It
follows
immediately
from
[CmbGC],
Proposition
1.5,
(ii),
that
the
right-hand
side
of
the
equality
in
the
statement
of
assertion
(ii)
is
contained
in
Aut(G).
Thus,
assertion
(ii)
follows
immediately
from
assertion
(i).
Assertion
(iii)
follows
immediately
from
the
ﬁniteness
of
the
semi-graph
G,
together
with
the
various
deﬁnitions
involved.
Q.E.D.
Deﬁnition
2.8
(cf.
the
operation
(Op4)
discussed
at
the
beginning
the
present
§2).
Let
S
⊆
Node(G)
be
a
subset
of
Node(G).
Then
we
deﬁne
the
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
GS
as
follows:
def
(i)
We
take
Cusp(GS
)
=
Cusp(G).
(ii)
We
take
Node(GS
)
=
Node(G)
\
S.
(iii)
We
take
Vert(GS
)
to
be
the
set
of
connected
components
of
the
semi-graph
obtained
from
G
by
omitting
the
edges
e
∈
Edge(G)
\
S.
Alternatively,
one
may
take
Vert(GS
)
to
be
def
42
Yuichiro
Hoshi
and
Shinichi
Mochizuki
the
set
of
equivalence
classes
of
elements
of
Vert(G)
with
respect
to
the
equivalence
relation
“∼”
deﬁned
as
follows:
for
v,
w
∈
Vert(G),
v
∼
w
if
either
v
=
w
or
there
exist
n
elements
e1
,
·
·
·
,
en
∈
S
of
S
and
n
+
1
vertices
v0
,
v1
,
·
·
·
,
vn
∈
Vert(G)
def
def
of
G
such
that
v0
=
v,
vn
=
w,
and,
for
1
≤
i
≤
n,
it
holds
that
V(ei
)
=
{vi−1
,
vi
}.
(iv)
For
each
branch
b
of
an
edge
e
∈
Edge(GS
)
(=
Edge(G)
\
S
—
cf.
(i),
(ii))
and
each
vertex
v
∈
Vert(GS
)
of
GS
,
b
abuts,
relative
to
GS
,
to
v
if
b
abuts,
relative
to
G,
to
an
element
of
the
equivalence
class
v
[cf.
(iii)].
(v)
For
each
edge
e
∈
Edge(GS
)
(=
Edge(G)
\
S
—
cf.
(i),
(ii))
of
GS
,
we
take
the
anabelioid
of
GS
corresponding
to
e
∈
Edge(GS
)
to
be
Ge
[cf.
Deﬁnition
2.1,
(ii)].
(vi)
Let
v
∈
Vert(GS
)
be
a
vertex
of
GS
.
Then
one
veriﬁes
easily
that
there
exists
a
unique
sub-semi-graph
of
PSC-type
[cf.
Deﬁnition
2.2,
(i)]
Hv
of
G
such
that
the
set
of
vertices
of
Hv
consists
of
the
elements
of
the
equivalence
class
v
[cf.
(iii)].
Write
def
Tv
=
Node(G|Hv
)
\
(S
∩
Node(G|Hv
))
[cf.
Deﬁnition
2.2,
(ii)].
Then
we
take
the
anabelioid
of
GS
corresponding
to
v
∈
Vert(GS
)
to
be
the
anabelioid
determined
by
the
ﬁnite
étale
coverings
of
(G|Hv
)Tv
[cf.
Deﬁnition
2.5,
(ii)]
of
degree
a
product
of
primes
∈
Σ.
(vii)
Let
b
be
a
branch
of
an
edge
e
∈
Edge(GS
)
(=
Edge(G)
\
S
—
cf.
(i),
(ii))
that
abuts
to
a
vertex
v
∈
Vert(GS
).
Then
since
b
abuts
to
v,
one
veriﬁes
easily
that
there
exists
a
unique
vertex
w
of
G
which
belongs
to
the
equivalent
class
v
[cf.
(iii)]
such
that
b
abuts
to
w
relative
to
G.
We
take
the
morphism
of
anabelioids
associated
to
b,
relative
to
GS
,
to
be
the
morphism
naturally
determined
by
the
morphism
of
anabelioids
G
e
→
Gw
corresponding
to
the
branch
b
relative
to
G
and
the
morphism
of
semi-graphs
of
anabelioids
of
pro-Σ
PSC-type
G|w
→
(G|Hv
)Tv
Combinatorial
anabelian
topics
I
43
[cf.
(vi);
Deﬁnition
2.1,
(iii)].
Here,
we
recall
that
the
anabelioid
obtained
by
considering
the
connected
ﬁnite
étale
coverings
of
G|w
may
be
naturally
identiﬁed
with
Gw
[cf.
Remark
2.1.1].
We
shall
refer
to
this
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
GS
as
the
generization
of
G
with
respect
to
S
[cf.
Fig.
5
below].
×
G
e
×
⇓
×
×
G{e}
Figure
5:
Generization
Remark
2.8.1.
It
follows
immediately
from
the
various
deﬁnitions
involved
that
if
G
is
of
type
(g,
r)
[cf.
Deﬁnition
2.3,
(i)],
then
the
generization
GNode(G)
of
G
with
respect
to
Node(G)
is
isomorphic
to
model
[cf.
Deﬁnition
2.3,
(v)].
Gg,r
Proposition
2.9
(Specialization
outer
isomorphisms).
Let
S
⊆
Node(G)
be
a
subset
of
Node(G).
Write
ΠGS
for
the
[pro-Σ]
fundamental
group
of
the
generization
GS
of
G
with
respect
to
S
[cf.
Deﬁnition
2.8].
Then
the
following
hold:
44
Yuichiro
Hoshi
and
Shinichi
Mochizuki
(i)
There
exists
a
natural
outer
isomorphism
of
proﬁnite
groups
∼
ΦGS
:
ΠGS
−→
ΠG
which
satisﬁes
the
following
three
conditions:
(1)
ΦGS
induces
a
bijection
between
the
set
of
cuspidal
subgroups
of
ΠGS
and
the
set
of
cuspidal
subgroups
of
ΠG
.
(2)
ΦGS
induces
a
bijection
between
the
set
of
nodal
subgroups
of
ΠGS
and
the
set
of
nodal
subgroups
of
ΠG
associated
to
the
elements
of
Node(G)
\
S.
(3)
Let
v
∈
Vert(GS
)
be
a
vertex
of
GS
;
Hv
,
Tv
as
in
Deﬁnition
2.8,
(vi).
Then
ΦGS
induces
a
bijection
between
the
ΠGS
-conjugacy
class
of
any
verticial
subgroup
Πv
⊆
ΠGS
of
ΠGS
associated
to
v
∈
Vert(GS
)
and
the
ΠG
-conjugacy
class
of
subgroups
determined
by
the
image
of
the
outer
homomorphism
Π(G|Hv
)Tv
−→
ΠG
induced
by
the
natural
morphism
(G|Hv
)Tv
→
G
[cf.
Definitions
2.2,
(ii);
2.5,
(ii)]
of
semi-graphs
of
anabelioids
of
pro-Σ
PSC-type.
∼
Moreover,
any
two
outer
isomorphisms
ΠGS
→
ΠG
that
satisfy
the
above
three
conditions
diﬀer
by
composition
with
a
graphic
[cf.
[CmbGC],
Deﬁnition
1.4,
(i)]
outomorphism
[cf.
the
discussion
entitled
“Topological
groups”
in
§0]
of
ΠGS
.
(ii)
The
isomorphism
∼
Out(ΠG
)
−→
Out(ΠGS
)
induced
by
the
natural
outer
isomorphism
of
(i)
determines
an
injection
AutS
(G)
→
Aut(GS
)
[cf.
Deﬁnition
2.6,
(i)].
Proof.
First,
we
verify
assertion
(i).
An
outer
isomorphism
that
satisﬁes
the
three
conditions
of
assertion
(i)
may
be
obtained
by
observing
that,
after
sorting
through
the
various
deﬁnitions
involved,
a
ﬁnite
étale
covering
of
GS
amounts
to
the
same
data
as
a
ﬁnite
étale
covering
of
G.
The
ﬁnal
portion
of
assertion
(i)
follows
immediately,
in
light
of
the
three
conditions
in
the
statement
of
assertion
(i),
from
Combinatorial
anabelian
topics
I
45
[CmbGC],
Proposition
1.5,
(ii).
This
completes
the
proof
of
assertion
(i).
Assertion
(ii)
follows
immediately
from
[CmbGC],
Proposition
1.5,
(ii),
together
with
the
three
conditions
in
the
statement
of
assertion
(i).
This
completes
the
proof
of
Proposition
2.9.
Q.E.D.
Deﬁnition
2.10.
Let
S
⊆
Node(G)
be
a
subset
of
Node(G).
Write
ΠGS
for
the
[pro-Σ]
fundamental
group
of
the
generization
GS
of
G
with
respect
to
S
[cf.
Deﬁnition
2.8].
Then
we
shall
refer
to
the
natural
outer
isomorphism
∼
ΦGS
:
ΠGS
−→
ΠG
obtained
in
Proposition
2.9,
(i),
as
the
specialization
outer
isomorphism
with
respect
to
S.
Proposition
2.11
(Commensurable
terminality
of
closed
subgroups
determined
by
certain
semi-graphs).
Let
H
be
a
sub-semi-graph
of
PSC-type
[cf.
Deﬁnition
2.2,
(i)]
of
G
and
S
⊆
Node(G|H
)
[cf.
Deﬁnition
2.2,
(ii)]
a
subset
of
Node(G|H
)
that
is
not
of
separating
type
[cf.
Deﬁnition
2.5,
(i)].
Then
the
natural
morphism
(G|H
)S
→
G
[cf.
Deﬁnitions
2.2,
(ii);
2.5,
(ii)]
of
semi-graphs
of
anabelioids
of
pro-Σ
PSC-type
determines
an
outer
injection
of
proﬁnite
groups
Π(G|H
)S
→
ΠG
.
Moreover,
the
image
of
this
outer
injection
is
commensurably
terminal
in
ΠG
[cf.
the
discussion
entitled
“Topological
groups”
in
§0].
def
def
Proof.
Write
H
=
(G|H
)S
and
T
=
Node(G|H
)
\
S.
Note
that
it
follows
from
the
deﬁnition
of
G|H
that
T
may
be
regarded
as
the
subset
of
Node(G)
determined
by
Node(H);
for
simplicity,
we
shall
identify
T
with
Node(H).
Now
it
follows
immediately
from
the
deﬁnition
of
“GT
”
that
the
composite
ΦH,S
Φ−1
GT
∼
ΠH
−→
ΠG
−→
ΠGT
factors
through
a
verticial
subgroup
Πv
⊆
ΠGT
of
ΠGT
associated
to
a
vertex
v
∈
Vert(GT
),
and
that
the
composite
ΠH
−→
Π(GT
)|v
of
the
resulting
outer
homomorphism
ΠH
→
Πv
[which
is
well-deﬁned
in
light
of
the
commensurable
terminality
of
Πv
in
ΠGS
—
cf.
[CmbGC],
46
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Proposition
1.2,
(ii)]
and
the
natural
outer
isomorphism
Πv
≃
Π(GT
)|v
[cf.
Remark
2.1.1]
may
be
identiﬁed
with
“Φ−1
HT
”
[cf.
Deﬁnition
2.10].
Thus,
Proposition
2.11
follows
immediately
from
the
fact
that
ΦHT
is
an
outer
isomorphism,
together
with
the
fact
that
Πv
⊆
ΠGS
is
commensurably
terminal
in
ΠGS
[cf.
[CmbGC],
Proposition
1.2,
(ii)].
This
completes
the
proof
of
Proposition
2.11.
Q.E.D.
Lemma
2.12
(Restrictions
of
outomorphisms).
Let
H
⊆
ΠG
be
a
closed
subgroup
of
ΠG
which
is
normally
terminal
[cf.
the
discussion
entitled
“Topological
groups”
in
§0]
and
α
∈
OutH
(ΠG
)
[cf.
Deﬁnition
2.6,
(ii)].
Then
the
following
hold:
(i)

preserves
There
exists
a
lifting
α

∈
Aut(ΠG
)
of
α
such
that
α

is
the
closed
subgroup
H
⊆
ΠG
.
Moreover,
such
a
lifting
α
uniquely
determined
up
to
composition
with
an
H-inner
automorphism
of
ΠG
.
(ii)
Write
αH
for
the
outomorphism
[cf.
the
discussion
entitled
“Topological
groups”
in
§0]
of
H
determined
by
the
restriction
of
a
lifting
α

as
obtained
in
(i)
to
the
closed
subgroup
H
⊆
ΠG
.
Then
the
map
OutH
(ΠG
)
−→
Out(H)
given
by
assigning
α
→
αH
is
a
homomorphism.
(iii)
The
homomorphism
OutH
(ΠG
)
−→
Out(H)
obtained
in
(ii)
depends
only
on
the
conjugacy
class
of
the
def
closed
subgroup
H
⊆
ΠG
,
i.e.,
if
we
write
H
γ
=
γ
·
H
·
γ
−1
for
γ
∈
ΠG
,
then
the
diagram
OutH
(ΠG
)
−−−−→
Out(H)

⏐

⏐


γ
OutH
(ΠG
)
−−−−→
Out(H
γ
)
—
where
the
upper
(respectively,
lower)
horizontal
arrow
is
the
homomorphism
given
by
mapping
α
→
αH
(respectively,
α
→
αH
γ
),
and
the
right-hand
vertical
arrow
is
the
isomorphism
Combinatorial
anabelian
topics
I
47
obtained
by
mapping
φ
∈
Out(H)
to
H
γ
Inn(γ
−1
)
∼
−→
φ
∼
Inn(γ)
∼
H
−→
H
−→
H
γ
—
commutes.
Proof.
Assertion
(i)
follows
immediately
from
the
normal
terminality
of
H
in
ΠG
.
Assertion
(ii)
follows
immediately
from
assertion
(i).
Assertion
(iii)
follows
immediately
from
the
various
deﬁnitions
involved.
Q.E.D.
Deﬁnition
2.13.
Let
H
⊆
ΠG
be
a
[closed]
subgroup
of
ΠG
which
is
normally
terminal
[cf.
the
discussion
entitled
“Topological
groups”
in
§0].
Then
we
shall
write
Out|H|
(ΠG
)
⊆
OutH
(ΠG
)
for
the
closed
subgroup
of
OutH
(ΠG
)
consisting
of
outomorphisms
[cf.
the
discussion
entitled
“Topological
groups”
in
§0]
α
of
ΠG
such
that
the
image
αH
of
α
via
the
homomorphism
OutH
(G)
→
Out(H)
obtained
in
Lemma
2.12,
(ii),
is
trivial.
Also,
we
shall
write
Aut|H|
(G)
=
Out|H|
(ΠG
)
∩
Aut(G)
.
def
Deﬁnition
2.14.
(i)
Let
T
⊆
Cusp(G)
be
an
omittable
[cf.
Deﬁnition
2.4,
(i)]
subset
of
Cusp(G).
Write
ΠG•T
for
the
[pro-Σ]
fundamental
group
of
G•T
[cf.
Deﬁnition
2.4,
(ii)]
and
NT
⊆
ΠG
for
the
normal
closed
subgroup
of
ΠG
topologically
normally
generated
by
the
cuspidal
subgroups
of
ΠG
associated
to
elements
of
T
.
Then
one
veriﬁes
easily
that
the
natural
outer
isomorphism
∼
ΠG
/NT
→
ΠG•T
[cf.
Deﬁnition
2.4,
(ii)]
induces
a
homomorphism
OutNT
(ΠG
)
→
Out(ΠG•T
)
that
ﬁts
into
a
commutative
diagram
AutT
(G)
⏐
⏐

−−−−→
Aut(G•T
)
⏐
⏐

OutNT
(ΠG
)
−−−−→
Out(ΠG•T
)
48
Yuichiro
Hoshi
and
Shinichi
Mochizuki
—
where
the
vertical
arrows
are
the
natural
injections.
For
α
∈
OutNT
(ΠG
),
we
shall
write
αG•T
∈
Out(ΠG•T
)
for
the
image
of
α
via
the
lower
horizontal
arrow
in
the
above
commutative
diagram.
If,
moreover,
α
∈
AutT
(G),
then,
in
light
of
the
injectivity
of
the
right-hand
vertical
arrow
in
the
above
diagram,
we
shall
write
[by
abuse
of
notation]
αG•T
∈
Aut(G•T
)
for
the
image
of
α
via
the
upper
horizontal
arrow
in
the
above
commutative
diagram.
(ii)
Let
H
be
a
sub-semi-graph
of
PSC-type
[cf.
Deﬁnition
2.2,
(i)]
of
G
and
S
⊆
Node(G|H
)
[cf.
Deﬁnition
2.2,
(ii)]
a
subset
of
Node(G|H
)
that
is
not
of
separating
type
[cf.
Deﬁnition
2.5,
(i)].
Write
Π(G|H
)S
for
the
[pro-Σ]
fundamental
group
of
(G|H
)S
[cf.
Deﬁnition
2.5,
(ii)].
Then
the
natural
outer
homomorphism
Π(G|H
)S
→
ΠG
is
an
outer
injection
whose
image
is
commensurably
terminal
[cf.
Proposition
2.11].
Thus,
it
follows
from
Lemma
2.12,
(iii),
that
we
have
a
homomorphism
OutΠ(G|H
)S
(ΠG
)
→
Out(Π(G|H
)S
)
that
ﬁts
into
a
commutative
diagram
AutHS
(G)
=
AutH
(G)
∩
AutS
(G)
−−−−→
Aut((G|H
)S
)
⏐
⏐
⏐
⏐


def
OutΠ(G|H
)S
(ΠG
)
−−−−→
Out(Π(G|H
)S
)
—
where
the
vertical
arrows
are
the
natural
injections.
For
α
∈
OutΠ(G|H
)S
(ΠG
),
we
shall
write
α(G|H
)S
∈
Out(Π(G|H
)S
)
for
the
image
of
α
via
the
lower
horizontal
arrow
in
the
above
commutative
diagram.
If,
moreover,
α
∈
AutHS
(G),
then,
in
light
of
the
injectivity
of
the
right-hand
vertical
arrow
in
the
above
diagram,
we
shall
write
[by
abuse
of
notation]
α(G|H
)S
∈
Aut((G|H
)S
)
for
the
image
of
α
via
the
upper
horizontal
arrow
in
the
above
commutative
diagram.
Finally,
if
T
⊆
Cusp((G|H
)S
)
is
an
Combinatorial
anabelian
topics
I
49
omittable
subset
of
Cusp((G|H
)S
),
then
we
shall
write
AutHS•T
(G)
⊆
AutHS
(G)
for
the
inverse
image
of
the
closed
subgroup
AutT
((G|H
)S
)
⊆
Aut((G|H
)S
)
of
Aut((G|H
)S
)
in
AutHS
(G)
via
the
upper
horizontal
arrow
AutHS
(G)
→
Aut((G|H
)S
)
of
the
above
commutative
diagram;
thus,
we
have
a
natural
homomorphism
[cf.
(i)]
AutHS•T
(G)
α
(iii)
−→
Aut(((G|H
)S
)•T
)
→
α((G|H
)S
)•T
.
Let
z
∈
VCN(G)
be
an
element
of
VCN(G)
and
Πz
⊆
ΠG
a
VCN-subgroup
of
ΠG
associated
to
z
∈
VCN(G).
Then
it
follows
from
[CmbGC],
Proposition
1.2,
(ii),
that
the
closed
subgroup
Πz
⊆
ΠG
is
commensurably
terminal.
Thus,
it
follows
from
Lemma
2.12,
(iii),
that
we
obtain
a
homomorphism
OutΠz
(ΠG
)
→
Out(Πz
)
that
ﬁts
into
a
commutative
diagram
Aut{z}
(G)
−−−−→
Aut(Gz
)
⏐
⏐
⏐
⏐


OutΠz
(ΠG
)
−−−−→
Out(Πz
)
—
where
the
left-hand
vertical
arrow
is
injective,
and
the
righthand
vertical
arrow
is
an
isomorphism.
For
α
∈
OutΠz
(ΠG
),
we
shall
write
αz
∈
Out(Πz
)
for
the
image
of
α
via
the
lower
horizontal
arrow
in
the
above
commutative
diagram.
§3.
Synchronization
of
cyclotomes
In
the
present
§,
we
introduce
and
study
the
notion
of
the
second
cohomology
group
with
compact
supports
of
a
semi-graph
of
anabelioids
of
PSC-type
[cf.
Deﬁnition
3.1,
(ii),
(iii)
below].
In
particular,
we
show
that
such
cohomology
groups
are
compatible
with
graph-theoretic
localization
[cf.
Deﬁnition
3.4,
Lemma
3.5
below].
This
leads
naturally
50
Yuichiro
Hoshi
and
Shinichi
Mochizuki
to
a
discussion
of
the
phenomenon
of
synchronization
among
the
various
cyclotomes
[cf.
Deﬁnition
3.8
below]
arising
from
a
semi-graph
of
anabelioids
of
PSC-type
[cf.
Corollary
3.9
below].
Let
Σ
be
a
nonempty
set
of
prime
numbers
and
G
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type.
Write
G
for
the
underlying
semi-graph
of
G,
ΠG
for
the
[pro-Σ]
fundamental
group
of
G,
and
G
→
G
for
the
universal
covering
of
G
corresponding
to
ΠG
.

Σ
-module
and
v
∈
Deﬁnition
3.1.
Let
M
be
a
ﬁnitely
generated
Z
Vert(G)
a
vertex
of
G.
(i)
We
shall
write
def
H
2
(G,
M
)
=
H
2
(ΠG
,
M
)
—
where
we
regard
M
as
being
equipped
with
the
trivial
action
of
ΠG
—
and
refer
to
H
2
(G,
M
)
as
the
second
cohomology
group
of
G.
(ii)


Let
s
be
a
section
of
the
natural
surjection
Cusp(G)
Cusp(G).
Given
a
central
extension
of
proﬁnite
groups
1
−→
M
−→
E
−→
ΠG
−→
1
,
and
a
cusp
e
∈
Cusp(G),
we
shall
refer
to
a
section
of
this
extension
over
the
edge-like
subgroup
Πs(e)
⊆
ΠG
of
ΠG
deter
as
a
trivialization
of
this
extension
mined
by
s(e)
∈
Cusp(G)
at
the
cusp
e.
We
shall
write
Hc2
(G,
M
)
for
the
set
of
equivalence
classes
[E,
(ιe
:
Πs(e)
→
E)e∈Cusp(G)
]
of
collections
of
data
(E,
(ιe
:
Πs(e)
→
E)e∈Cusp(G)
)
as
follows:
(a)
E
is
a
central
extension
of
proﬁnite
groups
1
−→
M
−→
E
−→
ΠG
−→
1
;
(b)
for
each
e
∈
Cusp(G),
ιe
is
a
trivialization
of
this
extension
at
the
cusp
e.
The
equivalence
relation
“∼”
is
then
deﬁned
as
follows:
for
two
collections
of
data
(E,
(ιe
))
and
(E

,
(ιe
)),
we
shall
write
(E,
(ιe
))
∼
(E

,
(ιe
))
if
there
exists
an
isomorphism
Combinatorial
anabelian
topics
I
51
∼
of
proﬁnite
groups
α
:
E
→
E

over
ΠG
which
induces
the
identity
automorphism
of
M
,
and,
moreover,
for
each
e
∈
Cusp(G),
maps
ιe
to
ιe
.
We
shall
refer
to
Hc2
(G,
M
)
as
the
second
cohomology
group
with
compact
supports
of
G.
(iii)
We
shall
write
def
Hc2
(v,
M
)
=
Hc2
(G|v
,
M
)
[cf.
(ii);
Deﬁnition
2.1,
(iii)]
and
refer
to
Hc2
(v,
M
)
as
the
second
cohomology
group
with
compact
supports
of
v.
(iv)
ΣThe
set
Hc2
(G,
M
)
is
equipped
with
a
natural
structure
of
Z
module
deﬁned
as
follows:
•
Let
[E,
(ιe
)],
[E

,
(ιe
)]
∈
Hc2
(G,
M
).
Then
the
ﬁber
product
E
×ΠG
E

of
the
surjections
E

ΠG
,
E


ΠG
is
an
extension
of
ΠG
by
M
×
M
.
Thus,
the
quotient
S
of
E
×ΠG
E

by
the
image
of
the
composite
M
m
→

→
M
×M
(m,
−m)
→
E
×
ΠG
E

is
an
extension
of
ΠG
by
M
.
On
the
other
hand,
it
follows
from
the
deﬁnition
of
S
that
for
each
e
∈
Cusp(G),
the
sections
ιe
and
ιe
naturally
determine
a
section
ιSe
:
Πs(e)
→
S
over
Πs(e)
.
Thus,
we
deﬁne
[E,
(ιe
)]
+
[E

,
(ιe
)]
=
[S,
(ιSe
)]
.
def
Here,
one
may
verify
easily
that
the
equivalence
class
[S,
(ιSe
)]
depends
only
on
the
equivalence
classes
[E,
(ιe
)],
[E

,
(ιe
)],
and
that
this
deﬁnition
of
“+”
determines
a
module
structure
on
Hc2
(G,
M
).
•
Let
[E,
(ιe
)]
∈
Hc2
(G,
M
)
be
an
element
of
Hc2
(G,
M
)
and
pr

Σ
.
Now
the
composite
E
×
M
1
E

ΠG
detera∈Z
mines
an
extension
of
ΠG
by
M
×
M
.
Thus,
the
quotient
P
of
E
×
M
by
the
image
of
the
composite
M
m
→
→
M
×M
(m,
−am)
→
E×M
is
an
extension
of
ΠG
by
M
.
On
the
other
hand,
it
follows
from
the
deﬁnition
of
P
that
for
each
e
∈
Cusp(G),
the
52
Yuichiro
Hoshi
and
Shinichi
Mochizuki
section
ιe
and
the
zero
homomorphism
Πs(e)
→
M
naturally
determine
a
section
ιP
e
:
Πs(e)
→
P
over
Πs(e)
.
Thus,
we
deﬁne
def
a
·
[E,
(ιe
)]
=
[P,
(ιP
e
)]
.
Here,
one
may
verify
easily
that
the
equivalence
class
[P,
(ιP
e
)]
depends
only
on
the
equivalence
class
[E,
(ιe
)]

Σ
,
and
that
this
deﬁnition
of
“·”
determines
a
and
a
∈
Z
Σ

Z
-module
structure
on
Hc2
(G,
M
).
Finally,
we
note
that
it
follows
from
Lemma
3.2
below
that

Σ
-module
“H
2
(G,
M
)”
does
not
depend
on
the
choice
of
the
Z
c

Σ
-module
“H
2
(G,
M
)”
is
the
section
s.
More
precisely,
the
Z
c
uniquely
determined
by
G
and
M
up
to
the
natural
isomorphism
obtained
in
Lemma
3.2.
Lemma
3.2
(Independence
of
the
choice
of
section).
Let
M

Σ
-module
and
s,
s
sections
of
the
natural
surbe
a
ﬁnitely
generated
Z


Cusp(G).
Write
Hc2
(G,
M,
s),
Hc2
(G,
M,
s
)
for
the
jection
Cusp(G)

Σ
-modules
“H
2
(G,
M
)”
deﬁned
in
Deﬁnition
3.1
by
means
of
the
secZ
c
tions
s,
s
,
respectively.
Then
there
exists
a
natural
isomorphism
of

Σ
-modules
Z
∼
Hc2
(G,
M,
s)
−→
Hc2
(G,
M,
s
)
.
Proof.
Let
[E,
(ιe
)]
∈
Hc2
(G,
M,
s)
be
an
element
of
Hc2
(G,
M,
s).
Now
it
follows
from
the
various
deﬁnitions
involved
that,
for
each
e
∈
Cusp(G),
there
exists
an
element
γe
∈
ΠG
such
that
Πs
(e)
=
γe
·
Πs(e)
·
γe−1
.
For
each
e
∈
Cusp(G),
ﬁx
a
lifting
γ
e
∈
E
of
γe
∈
ΠG
and
write
ιe
:
Πs
(e)
→
E
for
the
section
given
by
Πs
(e)
=
γe
·
Πs(e)
·
γe−1
γe
aγe−1
−→
E
→
γ
e
ιe
(a)
γe−1
.
Then
it
follows
immediately
from
the
fact
that
M
⊆
E
is
contained
in
the
center
Z(E)
of
E
that
this
section
ιe
does
not
depend
on
the
choice
of
the
lifting
γ
e
∈
E
of
γe
∈
ΠG
.
Moreover,
it
follows
immediately
from
the
various
deﬁnitions
involved
that
the
assignment
“[E,
(ιe
)]
→
[E,
(ιe
)]”

Σ
-modules
determines
an
isomorphism
of
Z
∼
Hc2
(G,
M,
s)
−→
Hc2
(G,
M,
s
)
.
This
completes
the
proof
of
Lemma
3.2.
Q.E.D.
Combinatorial
anabelian
topics
I
53
Lemma
3.3
(Exactness
of
certain
sequences).
Let
M
be
a

Σ
-module.
Suppose
that
Cusp(G)
=
∅.
Then
the
ﬁnitely
generated
Z
natural
inclusions
Πe
→
ΠG
—
where
e
ranges
over
the
cusps
of
G,
and,
for
each
cusp
e
∈
Cusp(G),
we
use
the
notation
Πe
to
denote
an
edge-like
subgroup
of
ΠG
associated
to
the
cusp
e
—
determine
an
exact
sequence

Σ
-modules
of
Z

HomZ
Σ
(Πab
HomZ
Σ
(Πe
,
M
)
−→
Hc2
(G,
M
)
−→
0
.
G
,
M
)
−→
e∈Cusp(G)


Proof.
Let
s
be
a
section
of
the
natural
surjection
Cusp(G)
Cusp(G).
Then
given
an
element

HomZ
Σ
(Πe
,
M
)
,
(φe
:
Πe
→
M
)e∈Node(G)
∈
e∈Cusp(G)
one
may
construct
an
element
pr2
[M
×
ΠG
(

ΠG
),
(ιe
:
Πs(e)
→
M
×
ΠG
)e∈Node(G)
]
—
where
we
write
ιe
:
Πs(e)
→
M
×
ΠG
for
the
section
determined
by
φe
:
Πs(e)
→
M
and
the
natural
inclusion
Πs(e)
→
ΠG
—
of
Hc2
(G,
M
).

In
particular,
we
obtain
a
map
e∈Cusp(G)
HomZ
Σ
(Πe
,
M
)
→
Hc2
(G,
M
),

Σ
-modules.
Now
the
which,
as
is
easily
veriﬁed,
is
a
homomorphism
of
Z
exactness
of
the
sequence
in
question
follows
immediately
from
the
fact
that
ΠG
is
free
pro-Σ
[cf.
[CmbGC],
Remark
1.1.3].
This
completes
the
proof
of
Lemma
3.3.
Q.E.D.

Σ
-module.
Deﬁnition
3.4.
Let
M
be
a
ﬁnitely
generated
Z
(i)
Let
E
be
a
semi-graph
of
anabelioids.
Denote
by
VCN(E)
the
set
of
components
of
E
[i.e.,
the
set
of
vertices
and
edges
of
E]
and,
for
each
z
∈
VCN(E),
by
ΠEz
the
fundamental
group
of
the
anabelioid
Ez
of
E
corresponding
to
z
∈
VCN(E).
Then
we
deﬁne
a
central
extension
of
G
by
M
to
be
a
collection
of
data
∼
(E,
α
=
(αz
:
M
→
ΠEz
)z∈VCN(E)
,
β
:
E/α
→
G)
as
follows:
(a)
For
each
z
∈
VCN(E),
αz
:
M
→
ΠEz
is
an
injective
homomorphism
of
proﬁnite
groups
whose
image
is
contained
54
Yuichiro
Hoshi
and
Shinichi
Mochizuki
in
the
center
Z(ΠEz
)
of
ΠEz
.
[Thus,
the
image
of
αz
is
a
normal
closed
subgroup
of
ΠEz
.]
(b)
For
each
branch
b
of
an
edge
e
that
abuts
to
a
vertex
v
of
E,
we
assume
that
the
outer
homomorphism
ΠEe
→
ΠEv
associated
to
b
is
injective
and
ﬁts
into
a
commutative
diagram
of
[outer]
homomorphisms
of
proﬁnite
groups
M
⏐
⏐α

v
M
⏐
⏐
αe

ΠEe
−−−−→
ΠEv
—
i.e.,
where
the
lower
horizontal
arrow
is
the
outer
injection
associated
to
b.
(c)
Write
E/α
for
the
semi-graph
of
anabelioids
deﬁned
as
follows:
We
take
the
underlying
semi-graph
of
E/α
to
be
the
underlying
semi-graph
of
E;
for
each
z
∈
VCN(E),
we
take
the
anabelioid
(E/α)z
of
E/α
corresponding
to
z
∈
VCN(E)
to
be
the
anabelioid
determined
by
the
proﬁnite
group
ΠEz
/Im(αz
)
[cf.
condition
(a)];
for
each
branch
b
of
an
edge
e
that
abuts
to
a
vertex
v
of
E,
we
take
the
associated
morphism
of
anabelioids
(E/α)e
→
(E/α)v
to
be
the
morphism
of
anabelioids
naturally
determined
by
the
morphism
Ee
→
Ev
associated,
relative
to
E,
to
b
[cf.
condition
(b)].
(d)
β
:
E/α
→
G
is
an
isomorphism
of
semi-graphs
of
anabelioids.
∼
There
is
an
evident
notion
of
isomorphisms
of
central
extensions
of
G
by
M
.
Also,
given
a
central
extension
of
G
by
M
,


Cusp(G),
and
a
section
s
of
the
natural
surjection
Cusp(G)
there
is
an
evident
notion
of
trivialization
of
the
given
central
extension
of
G
by
M
at
a
cusp
of
G
[cf.
the
discussion
of
Deﬁnition
3.1,
(ii),
(iv)].
(ii)
Let
1
−→
M
−→
E
−→
ΠG
−→
1
be
a
central
extension
of
ΠG
by
M
.
Then
we
shall
deﬁne
a
semi-graph
of
anabelioids
GE
Combinatorial
anabelian
topics
I
55
—
which
we
shall
refer
to
as
the
semi-graph
of
anabelioids
associated
to
the
central
extension
E
—
as
follows:
We
take
the
underlying
semi-graph
of
GE
to
be
the
underlying
semi-graph
of
G.
We
take
the
anabelioid
of
GE
corresponding
to
z
∈
VCN(G)
to
be
the
anabelioid
determined
by
the
ﬁber
product
E
×ΠG
Πz
of
the
surjection
E
→
ΠG
and
a
natural
inclusion
Πz
→
ΠG
—
where
we
use
the
notation
Πz
⊆
ΠG
to
denote
a
VCN-subgroup
[cf.
Deﬁnition
2.1,
(i)]
of
ΠG
associated
to
z
∈
VCN(G);
for
each
branch
b
of
an
edge
e
that
abuts
to
a
vertex
v
of
G,
if
we
write
(GE
)v
,
(GE
)e
for
the
anabelioids
of
GE
corresponding
to
v,
e,
respectively,
then
we
take
the
morphism
of
anabelioids
(GE
)e
→
(GE
)v
associated
to
the
branch
b
to
be
the
morphism
naturally
determined
by
the
morphism
of
anabelioids
Ge
→
Gv
associated,
relative
to
G,
to
b.
(iii)
In
the
notation
of
(ii),
one
may
verify
easily
that
the
semigraph
of
anabelioids
GE
associated
to
the
central
extension
E
is
equipped
with
a
natural
structure
of
central
extension
of
G
by
M
.
More
precisely,
for
each
z
∈
VCN(G),
if
we
denote
by
αz
:
M
→
Π(GE
)z
=
E
×ΠG
Πz
the
homomorphism
determined
by
the
natural
inclusion
M
→
E
and
the
trivial
homomorphism
M
→
Πz
,
then
there
exists
a
natural
isomorphism
∼
β
:
GE
/(αz
)z∈VCN(G)
→
G
such
that
the
collection
of
data
(GE
,
(αz
)z∈VCN(G)
,
β)
forms
a
central
extension
of
G
by
M
,
which
we
shall
refer
to
as
the
central
extension
of
G
by
M
associated
to
the
central
extension
E.
Lemma
3.5
(Graph-theoretic
localizability
of
central
extenΣsions
of
fundamental
groups).
Let
M
be
a
ﬁnitely
generated
Z
module.
Then
the
following
hold:
(i)
(Exactness
and
centrality)
Let
∼
(E,
α
=
(αz
:
M
→
ΠEz
)z∈VCN(E)
,
β
:
E/α
→
G)
(‡1
)
56
Yuichiro
Hoshi
and
Shinichi
Mochizuki
be
a
central
extension
of
G
by
M
[cf.
Deﬁnition
3.4,
(i)].
Write
ΠE
for
the
pro-Σ
fundamental
group
of
E,
i.e.,
the
maximal
pro-Σ
quotient
of
the
fundamental
group
of
E
[cf.
the
discussion
preceding
[SemiAn],
Deﬁnition
2.2].
Then
the
composβ
∼
ite
E
→
E/α
→
G
determines
an
exact
sequence
of
proﬁnite
groups
1
−→
M
−→
ΠE
−→
ΠG
−→
1
(‡2
)
which
is
central.
(ii)
(Natural
isomorphism
I)
In
the
notation
of
(i),
the
central
extension
of
G
by
M
associated
to
the
central
extension
(‡2
)
[cf.
Deﬁnition
3.4,
(iii)]
is
naturally
isomorphic,
as
a
central
extension
of
G
by
M
,
to
(‡1
).
(iii)
(Natural
isomorphism
II)
Let
1
−→
M
−→
E
−→
ΠG
−→
1
be
a
central
extension
of
ΠG
by
M
.
Then
the
pro-Σ
fundamental
group
of
the
semi-graph
of
anabelioids
GE
associated
to
the
central
extension
E
[cf.
Deﬁnition
3.4,
(ii)]
—
i.e.,
the
maximal
pro-Σ
quotient
of
the
fundamental
group
of
GE
—
is
naturally
isomorphic,
over
ΠG
,
to
E.
(iv)
(Equivalence
of
categories)
The
correspondences
of
(i),
(ii),
(iii)
determine
a
natural
equivalence
of
categories
between
the
category
of
central
extensions
of
G
by
M
and
the
category
of
central
extensions
of
ΠG
by
M
.
[Here,
we
take
the
morphisms
in
both
categories
to
be
the
isomorphisms
of
central
extensions
of
the
sort
under
consideration.]
Moreover,
this
equivalence
extends
to
a
similar
natural
equivalence
of
categories
between
categories
of
central
extensions
equipped
with
trivializations
at
the
cusps
of
G
[cf.
Deﬁnitions
3.1,
(ii);
3.4,
(i)].
Proof.
First,
we
verify
assertion
(i).
If
Node(G)
=
∅,
then
assertion
(i)
is
immediate;
thus,
suppose
that
Node(G)
=
∅.
For
each
connected
ﬁnite
étale
covering
E

→
E
of
E,
denote
by
ΠE

the
pro-Σ
fundamental
group
of
E

,
by
VCN(E

)
the
set
of
components
of
E

[i.e.,
the
set
of
vertices
and
edges
of
E

],
and
by
Vert(E

)
the
set
of
vertices
of
E

;
for
each
z
∈
VCN(E

),
denote
by
Ez
the
anabelioid
of
E

corresponding
to
z
∈
VCN(E

)
and
by
ΠEz
the
fundamental
group
of
Ez
.
Now
we
claim
that
Combinatorial
anabelian
topics
I
57
∼
(∗1
):
the
composite
in
question
E
→
E/α
→
G
induces
an
isomorphism
between
the
underlying
semigraphs,
as
well
as
an
outer
surjection
ΠE

ΠG
.
Indeed,
the
fact
that
the
composite
in
question
determines
an
isomorphism
between
the
underlying
semi-graphs
follows
from
conditions
(c),
∼
(d)
of
Deﬁnition
3.4,
(i).
In
particular,
we
obtain
a
bijection
VCN(E)
→
∼
VCN(G).
Now
for
each
z
∈
VCN(E)
→
VCN(G),
again
by
conditions
∼
(c),
(d)
of
Deﬁnition
3.4,
(i),
the
composite
E
→
E/α
→
G
induces
an
outer
surjection
ΠEz

Πz
,
where
we
use
the
notation
Πz
⊆
ΠG
to
denote
a
VCN-subgroup
[cf.
Deﬁnition
2.1,
(i)]
of
ΠG
associated
to
z
∈
VCN(G).
Therefore,
in
light
of
the
isomorphism
veriﬁed
above
between
the
semi-graphs
of
E
and
G,
one
may
verify
easily
that
the
natural
outer
homomorphism
ΠE
→
ΠG
is
surjective.
This
completes
the
proof
of
the
claim
(∗1
).
∼
For
each
vertex
v
∈
Vert(E)
→
Vert(G)
[cf.
claim
(∗1
)],
it
follows
from
the
assumption
that
Node(G)
=
∅
that
any
verticial
subgroup
Πv
⊆
ΠG
of
ΠG
associated
to
a
vertex
v
∈
Vert(G)
is
a
free
pro-Σ
group
[cf.
[CmbGC],
Remark
1.1.3];
thus,
there
exists
a
section
of
the
natural
surjection
ΠEv

Πv
.
Now
for
each
vertex
v
∈
Vert(G),
let
us
ﬁx
such
a
section
of
the
natural
surjection
ΠEv

Πv
,
hence
also
—
since
the
extension
ΠEv
of
Πv
by
M
is
central
[cf.
condition
(a)
of
∼
Deﬁnition
3.4,
(i)]
—
an
isomorphism
tv
:
M
×
Πv
→
ΠEv
.
Let
G1
→
G
def
be
a
connected
ﬁnite
étale
Galois
covering
of
G
and
write
E1
=
E
×G
G1
.
Then
it
follows
from
the
claim
(∗1
)
that
E1
is
connected;
moreover,
one
may
verify
easily
that
the
structure
of
central
extension
of
G
by
M
on
E
naturally
determines
a
structure
of
central
extension
of
G1
by
∼
M
on
E1
,
and
that
for
each
vertex
v
∈
Vert(E)
→
Vert(G)
and
each
∼
vertex
w
∈
Vert(E1
)
→
Vert(G1
)
that
lies
over
v,
the
normal
closed
subgroup
Π(E1
)w
⊆
ΠEv
corresponds
to
M
×
Πw
⊆
M
×
Πv
relative
∼
to
the
isomorphism
tv
:
M
×
Πv
→
ΠEv
ﬁxed
above,
i.e.,
we
obtain
an
∼
isomorphism
tw
:
M
×
Πw
→
Π(E1
)w
.
Now
for
a
ﬁnite
quotient
M

Q
of
M
and
a
connected
ﬁnite
étale
Galois
covering
G1
→
G
of
G,
we
shall
say
that
a
connected
ﬁnite
étale
covering
E2
→
E
of
E
satisﬁes
the
condition
(†Q,G1
)
if
the
following
two
conditions
are
satisﬁed:
def
(†1Q,G1
)
E2
→
E
factors
through
E1
=
E
×G
G1
→
E,
the
resulting
covering
E2
→
E1
is
Galois,
and
for
each
vertex
v
∈
VCN(E1
),
the
composite
M
→
Π(E1
)v
→
ΠE1

ΠE1
/ΠE2
58
Yuichiro
Hoshi
and
Shinichi
Mochizuki
is
surjective,
with
kernel
equal
to
the
kernel
of
M

Q.
(†2Q,G1
)
E2
→
E
is
Galois.
Then
we
claim
that
(∗2
):
for
any
ﬁnite
quotient
M

Q
of
M
and
any
connected
ﬁnite
étale
Galois
covering
G1
→
G,
there
exists
—
after
possibly
replacing
G1
→
G
by
a
connected
ﬁnite
étale
Galois
covering
of
G
that
factors
through
G1
→
G
—
a
connected
ﬁnite
étale
covering
of
E
which
satisﬁes
the
condition
(†Q,G1
).
Indeed,
let
M

Q
be
a
ﬁnite
quotient
of
M
,
G1
→
G
a
connected
ﬁnite
def
étale
Galois
covering
of
G,
and
E1
=
E
×G
G1
.
For
each
vertex
v
∈
∼
Vert(E1
)
→
Vert(G1
)
[cf.
the
above
discussion],
denote
by
Π(E1
)v

Qv
the
quotient
of
Π(E1
)v
obtained
by
forming
the
composite
tv
∼
pr1
Π(E1
)v
←
M
×
Πv

M

Q
.
∼
Thus,
we
have
a
natural
isomorphism
Q
→
Qv
.
Next,
let
e
be
a
node
of
E1
;
b,
b
the
two
distinct
branches
of
e;
v,
v

the
[not
necessarily
distinct]
vertices
of
E1
to
which
b,
b
abut.
Then
since
the
quotient
Q
[≃
Qv
≃
Qv
]
is
ﬁnite,
one
may
verify
easily
that
—
after
possibly
replacing
G1
→
G
by
a
connected
ﬁnite
étale
Galois
covering
of
G
that
factors
through
G1
→
G
—
the
kernels
of
the
two
composites
Π(E1
)e
→
Π(E1
)v

Qv
,
Π(E1
)e
→
Π(E1
)v

Qv
—
where
Π(E1
)e
→
Π(E1
)v
,
Π(E1
)e
→
Π(E1
)v
are
the
natural
outer
injections
corresponding
to
b,
b
,
respectively
—
coincide.
Moreover,
if
we
write
Ne
⊆
Π(E1
)e
for
this
kernel,
then
it
follows
immediately
from
condition
(b)
of
Deﬁnition
3.4,
(i),
that
the
∼
∼
actions
of
Q
induced
by
the
natural
isomorphisms
Q
→
Qv
←
Π(E1
)e
/Ne
,
∼
∼
Q
→
Qv
←
Π(E1
)e
/Ne
on
the
connected
ﬁnite
étale
Galois
covering
of
(E1
)e
corresponding
to
Ne
⊆
Π(E1
)e
coincide.
Therefore,
since
the
underlying
semi-graph
of
E1
is
ﬁnite,
by
applying
this
argument
to
the
various
nodes
of
E1
and
then
gluing
the
connected
ﬁnite
étale
Galois
coverings
of
the
various
(E1
)v
’s
corresponding
to
the
quotients
Π(E1
)v

Qv
to
one
another
by
means
of
Q-equivariant
isomorphisms,
we
obtain
a
connected
ﬁnite
étale
Galois
covering
E2
→
E1
which
satisﬁes
the
condition
(†1Q,G1
).
Write
E20
→
E
for
the
Galois
closure
of
the
connected
ﬁnite
étale
covering
E2
→
E;
thus,
since
E1
is
Galois
over
E,
we
have
connected
ﬁnite
étale
Galois
coverings
E20
→
E2
→
E1
of
E1
.
Now
it
follows
Combinatorial
anabelian
topics
I
59
immediately
from
the
condition
(†1Q,G1
)
that
E2
→
E1
induces
an
isomorphism
between
the
underlying
semi-graphs.
In
particular,
it
follows
from
Lemma
3.6
below,
in
light
of
the
claim
(∗1
),
that
the
natural
outer
homomorphisms
ΠE2
→
ΠE1

ΠG1
induce
outer
isomorphisms
∼
∼
ΠE2
/Πvert
→
ΠE1
/Πvert
→
ΠG1
/Πvert
≃
π1top
(G1
)Σ
,
where
we
write
E2
E1
G1
vert
“Π(−)
⊆
Π(−)
”
for
the
normal
closed
subgroup
of
“Π(−)
”
topologically
normally
generated
by
the
verticial
subgroups
and
π1top
(G1
)Σ
for
the
pro-Σ
completion
of
the
[discrete]
topological
fundamental
group
of
the
underlying
semi-graph
G1
of
G1
.
On
the
other
hand,
since
for
each
ver∼
∼
tex
v
∈
Vert(E)
→
Vert(G)
and
each
vertex
w
∈
Vert(E1
)
→
Vert(G1
)
∼
that
lies
over
v,
the
isomorphism
tw
:
M
×
Πw
→
Π(E1
)w
arises
from
the
∼
isomorphism
tv
:
M
×
Πv
→
ΠEv
,
one
may
verify
easily
that
the
closed
subgroup
Π(E2
)w
⊆
ΠEv
is
normal.
[Here,
we
regard
w
∈
Vert(E1
)
as
∼
an
element
of
Vert(E2
)
by
the
bijection
Vert(E2
)
→
Vert(E1
)
induced
by
E2
→
E1
.]
In
particular,
it
follows
immediately
that
the
connected
ﬁnite
étale
Galois
covering
E20
→
E2
arises
from
a
normal
open
sub∼
group
of
the
quotient
ΠE2

ΠE2
/Πvert
→
π1
(G1
)Σ
.
Therefore,
there
E2
exists
a
connected
ﬁnite
étale
Galois
covering
G1
→
G
that
factors
through
G1
→
G
[and
arises
from
a
normal
open
subgroup
of
the
quotient
ΠG1

π1top
(G1
)Σ
]
such
that
the
connected
ﬁnite
étale
covering
E2
×G1
G1
of
E
is
Galois.
Now
it
follows
immediately
from
the
fact
that
E2
→
E
satisﬁes
the
condition
(†1Q,G1
)
that
E2
×G1
G1
→
E
satisﬁes
both
conditions
(†1Q,G1
)
and
(†2Q,G1
),
as
desired.
This
completes
the
proof
of
the
claim
(∗2
).
Next,
we
claim
that
∼
(∗3
):
the
composite
E
→
E/α
→
G,
together
with
the
composites
M
→
ΠEv
→
ΠE
for
v
∈
Vert(E),
determine
an
exact
sequence
of
proﬁnite
groups
1
−→
M
−→
ΠE
−→
ΠG
−→
1
.
Indeed,
it
follows
immediately
from
the
claim
(∗2
)
—
by
arguing
as
in
the
ﬁnal
portion
of
the
proof
of
(∗2
)
—
that
any
connected
ﬁnite
étale
Galois
covering
of
E
is
a
subcovering
of
a
covering
of
E
which
satisﬁes
the
condition
(†Q,G1
)
for
some
ﬁnite
quotient
M

Q
of
M
and
some
connected
ﬁnite
étale
Galois
covering
G1
of
G.
Therefore,
the
exactness
of
the
sequence
in
question
follows
immediately
from
the
various
deﬁnitions
involved,
together
with
the
claim
(∗1
).
This
completes
the
proof
of
the
claim
(∗3
).
60
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Finally,
we
claim
that
(∗4
):
the
exact
sequence
of
proﬁnite
groups
1
−→
M
−→
ΠE
−→
ΠG
−→
1
of
(∗3
)
is
central,
i.e.,
if
we
write
ρ
:
ΠG
→
Aut(M
)
for
the
representation
of
ΠG
on
M
determined
by
this
extension
ΠE
,
then
ρ
is
trivial.
Indeed,
it
follows
immediately
from
condition
(a)
of
Deﬁnition
3.4,
(i),
⊆
Ker(ρ),
where
we
write
Πvert
⊆
ΠG
for
the
normal
closed
that
Πvert
G
G
subgroup
of
ΠG
topologically
normally
generated
by
the
verticial
subgroups
of
ΠG
.
On
the
other
hand,
it
follows
immediately
from
condition
(b)
of
Deﬁnition
3.4,
(i),
by
“parallel
transporting”
along
loops
on
G,
that
the
restriction
to
π1top
(G)
⊆
π1top
(G)Σ
of
the
representa∼
→]
π1top
(G)Σ
→
Aut(M
)
[cf.
Lemma
3.6
below]
tion
[ΠG

ΠG
/Πvert
G
induced
by
ρ
—
where
we
write
π1top
(G)
for
the
[discrete]
topological
fundamental
group
of
the
semi-graph
G
and
π1top
(G)Σ
for
the
pro-Σ
completion
of
π1top
(G)
—
is
trivial.
In
particular,
since
the
subgroup
π1top
(G)
⊆
π1top
(G)Σ
is
dense,
the
representation
ρ
is
trivial,
as
desired.
This
completes
the
proof
of
the
claim
(∗4
),
hence
also
the
proof
of
assertion
(i).
Assertion
(ii)
follows
immediately
from
the
various
deﬁnitions
involved.
Next,
we
verify
assertion
(iii).
It
follows
immediately
from
assertion
(i),
together
with
Deﬁnition
3.4,
(iii),
that
if
we
write
ΠGE
for
the
pro-Σ
fundamental
group
of
GE
,
then
we
have
a
natural
exact
sequence
of
proﬁnite
groups
1
−→
M
−→
ΠGE
−→
ΠG
−→
1
.
On
the
other
hand,
it
follows
immediately
from
the
deﬁnition
of
GE
that
one
may
construct
a
tautological
proﬁnite
covering
of
GE
[i.e.,
a
pro-object
of
the
category
B(GE
)
that
appears
in
the
discussion
following
[SemiAn],
Deﬁnition
2.1]
equipped
with
a
tautological
action
by
E.
In
particular,
one
obtains
an
outer
surjection
ΠGE

E
that
is
compatible
with
the
respective
outer
surjections
to
ΠG
.
Thus,
one
concludes
from
the
“Five
Lemma”
that
this
outer
surjection
ΠGE

E
is
an
outer
isomorphism,
as
desired.
This
completes
the
proof
of
assertion
(iii).
Assertion
(iv)
follows
immediately,
in
light
of
assertions
(i),
(ii),
(iii),
from
the
various
deﬁnitions
involved.
This
completes
the
proof
of
Lemma
3.5.
Q.E.D.
Combinatorial
anabelian
topics
I
61
Lemma
3.6
(Quotients
by
verticial
subgroups).
Let
H
be
a
semi-graph
of
anabelioids.
Write
ΠH
for
the
pro-Σ
fundamental
group
of
H
[i.e.,
the
pro-Σ
quotient
of
the
fundamental
group
of
H]
and
Πvert
H
⊆
ΠH
for
the
normal
closed
subgroup
of
ΠH
topologically
normally
generated
by
the
verticial
subgroups
of
ΠH
.
Then
the
natural
injection
→
ΠH
determines
an
exact
sequence
of
proﬁnite
groups
Πvert
H
top
Σ
1
−→
Πvert
H
−→
ΠH
−→
π1
(H)
−→
1
—
where
we
write
π1top
(H)Σ
for
the
pro-Σ
completion
of
the
[discrete]
topological
fundamental
group
π1top
(H)
of
the
underlying
semi-graph
H
of
H.
Proof.
This
follows
immediately
from
the
various
deﬁnitions
involved.
Q.E.D.
Theorem
3.7
(Properties
of
the
second
cohomology
group
with
compact
supports).
Let
Σ
be
a
nonempty
set
of
prime
numbers,
G
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type,
and
M
a
ﬁnitely

Σ
-module.
Then
the
following
hold:
generated
Z
(i)
(Change
of
coeﬃcients)
There
exists
a
natural
isomor
Σ
-modules
phism
of
Z
∼

Σ)
⊗Σ
M
Hc2
(G,
M
)
−→
Hc2
(G,
Z
Z
that
is
functorial
with
respect
to
isomorphisms
of
the
pair
(G,
M
).
If,
moreover,
Cusp(G)
=
∅,
then
there
exists
a
natu
Σ
-modules
ral
isomorphism
of
Z
∼
Hc2
(G,
M
)
−→
H
2
(G,
M
)
that
is
functorial
with
respect
to
isomorphisms
of
the
pair
(G,
M
).
(ii)
(Structure
as
an
abstract
proﬁnite
group)
The
second
cohomology
group
with
compact
supports
Hc2
(G,
M
)
of
G
is
[noncanonically]
isomorphic
to
M
.
(iii)
(Synchronization
with
respect
to
generization)
Let
S
⊆
Node(G)
be
a
subset
of
Node(G).
Then
the
specialization
∼
outer
isomorphism
ΦGS
:
ΠGS
→
ΠG
with
respect
to
S
[cf.
Deﬁnition
2.10]
determines
a
natural
isomorphism
∼
Hc2
(G,
M
)
−→
Hc2
(GS
,
M
)
62
Yuichiro
Hoshi
and
Shinichi
Mochizuki
that
is
functorial
with
respect
to
isomorphisms
of
the
triple
(G,
S,
M
).
(iv)
(Synchronization
with
respect
to
“surgery”)
Let
H
be
a
sub-semi-graph
of
PSC-type
[cf.
Deﬁnition
2.2,
(i)]
of
G,
S
⊆
Node(G|H
)
[cf.
Deﬁnition
2.2,
(ii)]
a
subset
of
Node(G|H
)
that
is
not
of
separating
type
[cf.
Deﬁnition
2.5,
(i)],
and
T
⊆
Cusp((G|H
)S
)
[cf.
Deﬁnition
2.5,
(ii)]
an
omittable
[cf.
Deﬁnition
2.4,
(i)]
subset
of
Cusp((G|H
)S
).
Then
there
exists
a
natural
isomorphism
—
given
by
“extension
by
zero”
—
∼
Hc2
(((G|H
)S
)•T
,
M
)
−→
Hc2
(G,
M
)
[cf.
Deﬁnition
2.4,
(ii)]
that
is
functorial
with
respect
to
isomorphisms
of
the
quintuple
(G,
H,
S,
T,
M
).
In
particular,
for
each
vertex
v
∈
Vert(G)
of
G,
there
exists
a
natural
isomor
Σ
-modules
phism
of
Z
∼
Hc2
(v,
M
)
−→
Hc2
(G,
M
)
[cf.
Remark
2.5.1,
(ii)]
that
is
functorial
with
respect
to
isomorphisms
of
the
triple
(G,
v,
M
).
(v)
(Homomorphisms
induced
by
ﬁnite
étale
coverings)
Let
H
→
G
be
a
connected
ﬁnite
étale
covering
of
G.
Then
the
image
of
the
natural
homomorphism
Hc2
(G,
M
)
−→
Hc2
(H,
M
)
is
given
by
[ΠG
:
ΠH
]
·
Hc2
(H,
M
)
.
Proof.
Assertion
(iii)
follows
immediately
from
condition
(1)
of
Proposition
2.9,
(i).
Next,
we
verify
assertions
(i),
(ii)
in
the
case
where
Cusp(G)
=
∅.
∼

Σ)
⊗Σ
M
The
existence
of
a
natural
isomorphism
Hc2
(G,
M
)
→
Hc2
(G,
Z
Z
follows
immediately
from
Lemma
3.3.
On
the
other
hand,
the
fact
that
Hc2
(G,
M
)
is
[noncanonically]
isomorphic
to
M
follows
immediately
from
Lemma
3.3,
together
with
the
following
well-known
facts
[cf.
[CmbGC],
Remark
1.1.3]:
(A)
ΠG
is
a
free
pro-Σ
group.
Combinatorial
anabelian
topics
I
63
(B)
For
any
cusp
e0
∈
Cusp(G)
of
G,
the
natural
homomorphism

Σ
-modules
of
Z

Πe
−→
Πab
G
e∈Cusp(G)\{e0
}

Σ
-modules
[cf.
the
discussion
entitled
is
a
split
injection
of
free
Z
“Topological
groups”
in
§0],
and
its
image
contains
the
image
of
Πe0
in
Πab
G
.
This
completes
the
proof
of
assertions
(i),
(ii)
in
the
case
where
Cusp(G)
=
∅.
Next,
we
verify
assertions
(i),
(ii)
in
the
case
where
Cusp(G)
=
∅.
∼
The
existence
of
a
natural
isomorphism
Hc2
(G,
M
)
→
H
2
(G,
M
)
is
wellknown
[cf.,
e.g.,
[NSW],
Theorem
2.7.7].
Now
it
follows
from
assertion
(iii)
that
to
verify
assertions
(i),
(ii)
in
the
case
where
Cusp(G)
=
∅,
we
may
assume
without
loss
of
generality
—
by
replacing
G
by
GNode(G)
—
that
Node(G)
=
∅.
Then
the
existence
of
a
natural
isomorphism
∼

Σ
)
⊗

Σ
M
and
the
fact
that
H
2
(G,
M
)
is
[nonHc2
(G,
M
)
→
Hc2
(G,
Z
c
Z
canonically]
isomorphic
to
M
follow
immediately
from
the
existence
of
∼
a
natural
isomorphism
Hc2
(G,
M
)
→
H
2
(G,
M
)
and
the
fact
that
any
compact
Riemann
surface
of
genus
=
0
is
a
“K(π,
1)”
space
[i.e.,
its
universal
covering
is
contractible],
together
with
the
well-known
structure
of
the
second
cohomology
group
of
a
compact
Riemann
surface.
This
completes
the
proof
of
assertions
(i),
(ii)
in
the
case
where
Cusp(G)
=
∅.
Next,
we
verify
assertion
(iv)
in
the
case
where
H
=
G
and
S
=
∅,
i.e.,
((G|H
)S
)•T
=
G•T
.
Thus,
suppose
that
H
=
G
and
S
=
∅.
Now

Σ
-modules
deﬁne
a
homomorphism
of
Z
Hc2
(G•T
,
M
)
−→
Hc2
(G,
M
)
as
follows:
Let
G•T
→
G•T
be
a
universal
covering
of
G•T
which
is
compatible
[in
the
evident
sense]
with
the
universal
covering
G
→
G
of
G,
s•
a
section
of
the
natural
surjection
Cusp(G•T
)

Cusp(G•T
),
and
[E
•
,
(ι•e
:
Πs•
(e)
→
E
•
)e∈Cusp(G•T
)
]
∈
Hc2
(G•T
,
M
)
an
element
of
Hc2
(G•T
,
M
).
Write
E
for
the
ﬁber
product
of
the
surjection
E
•

ΠG•T
and
the
natural
surjection
ΠG

ΠG•T
[arising
from
the
compatibility
of
the
respective
universal
coverings].
Next,
we
introduce
notation
as
follows:
•
for
e
∈
Cusp(G•T
)
(=
Cusp(G)
\
T
⊆
Cusp(G)),
denote
by
ιe
:
Πe
→
E
—
where
we
use
the
notation
Πe
⊆
ΠG
to
denote
an
edge-like
subgroup
of
ΠG
associated
to
e
such
that
the
64
Yuichiro
Hoshi
and
Shinichi
Mochizuki
composite
Πe
→
ΠG

ΠG•T
determines
an
isomorphism
of
Πe
with
Πs•
(e)
⊆
ΠG•T
—
the
section
over
Πe
naturally
determined
by
the
composite
ι•
∼
e
E•
,
Πe
−→
Πs•
(e)
−→
and
•
for
e
∈
Cusp(G)
\
Cusp(G•T
)
(=
T
⊆
Cusp(G)),
denote
by
ιe
:
Πe
→
E
—
where
we
use
the
notation
Πe
⊆
ΠG
to
denote
an
edge-like
subgroup
of
ΠG
associated
to
e
—
the
section
over
Πe
naturally
determined
by
the
trivial
homomorphism
Πe
→
E
•
.
Then
it
follows
immediately
from
the
various
deﬁnitions
involved
that
the
assignment
“[E
•
,
(ι•e
)e∈Cusp(G•T
)
]
→
(E,
(ιe
)e∈Cusp(G)
)”
determines
a

Σ
-modules
homomorphism
of
Z
Hc2
(G•T
,
M
)
−→
Hc2
(G,
M
)
,
as
desired.
Next,
we
verify
that
this
homomorphism
Hc2
(G•T
,
M
)
→
Hc2
(G,
M
)
is
an
isomorphism.
First,
let
us
observe
that
it
follows
from
assertion
(ii)
that,
to
verify
that
the
homomorphism
in
question
is
an
isomorphism,
it
suﬃces
to
verify
that
it
is
surjective.
The
rest
of
the
proof
of
assertion
(iv)
in
the
case
where
H
=
G
and
S
=
∅
is
devoted
to
verifying
this
surjectivity.
To
verify
the
desired
surjectivity,
by
induction
on
the
cardinality
T

of
the
ﬁnite
set
T
,
we
may
assume
without
loss
of
generality
that
T

=
1,
i.e.,
T
=
{e0
}
for
some
e0
∈
Cusp(G).
To
verify
the
desired
surjectivity,
let
[E,
(ιe
)e∈Cusp(G)
]
∈
Hc2
(G,
M
)
be
an
element
of
Hc2
(G,
M
).
Then
since
ΠG
is
a
free
pro-Σ
group,
there
exists
a
continuous
section
ΠG
→
E
of
the
surjection
E

ΠG
,
hence
also
∼
—
since
the
extension
E
of
ΠG
is
central
—
an
isomorphism
M
×ΠG
→
E.
Write
ΠG

Π
for
the
maximal
cuspidally
central
quotient
[cf.
[AbsCsp],
Deﬁnition
1.1,
(i)]
relative
to
the
surjection
ΠG

ΠG•T
,
EΠ
for
the
quotient
of
E
by
the
normal
closed
subgroup
of
E
corresponding
to
∼
{1}
×
Ker(ΠG

Π)
⊆
M
×
ΠG
[thus,
EΠ
←
M
×
Π],
and
N
⊆
EΠ
for
the
image
of
the
composite
ιe0
Πs(e0
)
→
E

EΠ
.
Now
we
claim
that
N
⊆
EΠ
is
contained
in
the
center
Z(EΠ
)
of
EΠ
,
hence
also
normal
in
EΠ
.
Indeed,
since
the
composite
Πs(e0
)
→
ΠG

Π
Combinatorial
anabelian
topics
I
65
is
injective,
and
its
image
coincides
with
the
kernel
of
the
natural
surjection
Π

ΠG•T
,
it
holds
that
the
image
of
the
composite
ιe0
∼
Πs(e0
)
→
E

EΠ
←
M
×
Π
is
contained
in
M
×
Ker(Π
→
ΠG•T
).
On
the
other
hand,
since
the
extension
E
of
ΠG
is
central,
it
follows
from
the
deﬁnition
of
the
quotient
∼
Π
of
ΠG
that
the
image
of
M
×
Ker(Π

ΠG•T
)
in
EΠ
via
M
×
Π
→
EΠ
is
contained
in
the
center
Z(EΠ
)
of
EΠ
.
This
completes
the
proof
of
the
above
claim.
Now
it
follows
from
the
deﬁnition
of
N
⊆
EΠ
,
together
with
the
above
claim,
that
we
obtain
a
commutative
diagram
of
proﬁnite
groups
1
−−−−→
M
−−−−→



E
⏐
⏐

−−−−→
ΠG
⏐
⏐

−−−−→
1
1
−−−−→
M
−−−−→
EΠ
/N
−−−−→
ΠG•T
−−−−→
1
—
where
the
horizontal
sequences
are
exact,
and
the
vertical
arrows
are
surjective.
In
particular,
we
obtain
an
extension
EΠ
/N
of
ΠG•T
by
M
,
which
is
central
since
the
extension
E
is
central.
For
e
∈
Cusp(G•T
)
=
Cusp(G)
\
{e0
},
write
Π•e
⊆
ΠG•T
for
the
edge-like
subgroup
of
ΠG•T
[associated
to
e
∈
Cusp(G•T
)]
determined
by
the
image
of
Πs(e)
⊆
ΠG
and
ι•e
for
the
section
Π•e
→
EΠ
/N
over
Π•e
determined
by
ιe
:
Πs(e)
→
E.
Then
it
follows
immediately
from
the
various
deﬁnitions
involved
that
the
image
of
[EΠ
/N,
(ι•e
)e
∈Cusp(G•T
)
]
∈
Hc2
(G•T
,
M
)
in
Hc2
(G,
M
)
is
[E,
(ιe
)e∈Cusp(G)
]
∈
Hc2
(G,
M
).
This
completes
the
proof
of
the
desired
surjectivity
and
hence
of
assertion
(iv)
in
the
case
where
H
=
G
and
S
=
∅.
Next,
to
complete
the
proof
of
assertion
(iv)
in
the
general
case,
one
veriﬁes
immediately
that
it
suﬃces
to
verify
assertion
(iv)
in
the
case
where
T
=
∅,
i.e.,
((G|H
)S
)•T
=
(G|H
)S
.
Thus,
suppose
that
def
ΣT
=
∅.
Write
H
=
(G|H
)S
.
To
deﬁne
a
natural
homomorphism
of
Z
2
2

→
H
be
a
universal
covering
of
modules
Hc
(H,
M
)
→
Hc
(G,
M
),
let
H
H
which
is
compatible
[in
the
evident
sense]
with
the
universal
covering


Cusp(H),
G
→
G
of
G,
sH
a
section
of
the
natural
surjection
Cusp(H)
H
2
:
Π
→
E
)
]
∈
H
(H,
M
)
an
element
of
and
[E
H
,
(ιH
sH
(e)
e∈Cusp(H)
e
c
2
H
Hc
(H,
M
).
Since
the
extension
E
of
ΠH
by
M
is
central,
the
secH
naturally
determines
an
isomorphism
tion
ιH
e
:
ΠsH
(e)
→
E
∼
M
×
ΠsH
(e)
−→
E
H
×ΠH
ΠsH
(e)
66
Yuichiro
Hoshi
and
Shinichi
Mochizuki
of
the
direct
product
M
×
ΠsH
(e)
with
the
ﬁber
product
E
H
×ΠH
ΠsH
(e)
of
the
surjection
E
H

ΠH
and
the
natural
inclusion
ΠsH
(e)
→
ΠH
.
Write
GE
H
for
the
semi-graph
of
anabelioids
associated
to
the
central
extension
E
H
[cf.
Deﬁnition
3.4,
(ii)].
Then
one
may
deﬁne
a
central
extension
of
G
by
M
∼
(E,
α,
β
:
E/α
→
G)
[cf.
Deﬁnition
3.4,
(i)]
whose
restriction
to
H,
relative
to
the
isomor∼
phism
β
:
E/α
→
G,
is
isomorphic
to
the
semi-graph
of
anabelioids
GE
H
as
follows:
We
take
the
underlying
semi-graph
of
E
to
be
the
underlying
semi-graph
of
G;
for
each
vertex
v
∈
Vert(G|H
),
we
take
the
anabelioid
Ev
of
E
corresponding
to
the
vertex
v
∈
Vert(G|H
)
to
be
the
anabelioid
(GE
H
)v
of
GE
H
corresponding
to
the
vertex
v;
for
each
vertex
v
∈
Vert(G)
\
Vert(G|H
),
we
take
the
anabelioid
Ev
of
E
corresponding
to
v
∈
Vert(G)
\
Vert(G|H
)
to
be
the
anabelioid
associated
to
the
proﬁnite
group
M
×
Πv
.
Then
the
above
isomorphisms
∼
M
×
ΠsH
(e)
→
E
H
×ΠH
ΠsH
(e)
induced
by
the
various
ιH
e
’s
naturally
determine
the
remaining
data
[i.e.,
consisting
of
anabelioids
associated
to
edges
and
morphisms
of
anabelioids
associated
to
branches]
necessary
to
deﬁne
a
semi-graph
of
anabelioids
E
which
is
naturally
equipped
with
a
structure
of
central
extension
of
G
by
M
whose
restriction
to
H
is
naturally
isomorphic
to
the
semi-graph
of
anabelioids
GE
H
,
as
desired.
Now
it
follows
from
Lemma
3.5,
(i),
that
if
we
denote
by
ΠE
the
pro-Σ
fundamental
group
of
E
—
i.e.,
the
maximal
pro-Σ
quotient
of
the
fundamental
group
of
E
—
then
ΠE
is
a
central
extension
of
ΠG
by
M
.
Thus,
it
follows
from
the
equivalences
of
categories
of
Lemma
3.5,
(iv),
that
the
sections
ιH
e
—
where
e
ranges
over
the
cusps
of
G
that
abut
to
a
vertex
of
G|H
—
and
the
tautological
sections
Πe
→
M
×
Πe
=
ΠEe
—
where
e
ranges
over
the
cusps
of
G
that
do
not
abut
to
a
vertex
of
G|H
—
naturally
determine
an
equivalence
class
[ΠE
,
(ιe
)e∈Cusp(G)
]
∈
Hc2
(G,
M
).
In
particular,
we
obtain
a
map
Hc2
(H,
M
)
−→
Hc2
(G,
M
)
by
assigning
[E
H
,
(ιH
e
)e∈Cusp(H)
]
→
[ΠE
,
(ιe
)e∈Cusp(G)
].
Moreover,
it
follows
immediately
from
the
various
deﬁnitions
involved
that
this
map
is

Σ
-modules,
as
desired.
a
homomorphism
of
Z
Next,
we
verify
that
this
homomorphism
Hc2
(H,
M
)
→
Hc2
(G,
M
)
is
an
isomorphism.
Since,
for
any
vertex
v
∈
Vert(G|H
),
the
natural
morphism
G|v
→
G
factors
through
(G|H
)S
=
H
→
G,
by
replacing
H
by
G|v
[cf.
Remark
2.5.1,
(ii)],
we
may
assume
without
loss
of
generality
that
H
=
G|v
.
Moreover,
if
Node(G)
=
∅,
then
assertion
(iv)
in
the
case
where
T
=
∅
is
immediate;
thus,
we
may
assume
without
loss
Combinatorial
anabelian
topics
I
67
of
generality
that
Node(G)
=
∅.
On
the
other
hand,
it
follows
from
assertion
(ii)
that
to
verify
that
the
homomorphism
in
question
is
an
isomorphism,
it
suﬃces
to
verify
that
it
is
surjective.
The
rest
of
the
proof
of
assertion
(iv)
in
the
case
where
T
=
∅
is
devoted
to
verifying
the
surjectivity
of
the
homomorphism
Hc2
(v,
M
)
→
Hc2
(G,
M
).
Let
J
be
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
such
that
there
exist
a
vertex
w
∈
Vert(J
)
and
an
“omittable”
cusp
e
∈
C(w)
[i.e.,
a
cusp
that
abuts
to
w
such
that
{e}
is
omittable]
such
that
J•{e}
∼
is
isomorphic
to
G,
and,
moreover,
the
isomorphism
J•{e}
→
G
induces
∼
an
isomorphism
of
(J
|w
)•{e}
→
G|v
.
[Note
that
one
may
verify
easily
that
such
a
semi-graph
of
anabelioids
of
pro-Σ
PSC
type
always
exists.]
Then
it
follows
immediately
from
assertion
(iv)
in
the
case
where
H
=
G
and
S
=
∅,
together
with
the
various
deﬁnitions
involved,
that
we
have
a
commutative
diagram
∼
∼
Hc2
(v,
M
)
−−−−→
Hc2
((J
|w
)•{e}
,
M
)
−−−−→
Hc2
(w,
M
)
⏐
⏐
⏐
⏐


∼
Hc2
(G,
M
)
−−−−→
Hc2
(J•{e}
,
M
)
∼
−−−−→
Hc2
(J
,
M
)
—
where
the
left-hand
horizontal
arrows
are
isomorphisms
induced
by
∼
∼
the
isomorphisms
(J
|w
)•{e}
→
G|v
,
J•{e}
→
G,
respectively,
and
the
right-hand
horizontal
arrows
are
isomorphisms
obtained
by
applying
assertion
(iv)
in
the
case
where
H
=
G
and
S
=
∅.
In
particular,
to
verify
the
desired
surjectivity
of
the
homomorphism
Hc2
(v,
M
)
→
Hc2
(G,
M
),
by
replacing
G
(respectively,
v)
by
J
(respectively,
w),
we
may
assume
without
loss
of
generality
that
C(v)
=
∅.
To
verify
the
desired
surjectivity
of
the
homomorphism
Hc2
(v,
M
)
→
2
Hc
(G,
M
)
in
the
case
where
C(v)
=
∅,
let
[E,
(ιe
)e∈Cusp(G)
]
∈
Hc2
(G,
M
)
be
an
element
of
Hc2
(G,
M
).
Now
it
follows
from
Lemma
3.3,
together
with
the
assumption
that
C(v)
=
∅,
that
we
have
two
exact
sequences

Σ
-modules
of
Z

HomZ
Σ
(Πab
HomZ
Σ
(Πe
,
M
)
−→
Hc2
(G,
M
)
−→
0
;
G
,
M
)
−→
e∈Cusp(G)
HomZ
Σ
(Πab
G|v
,
M
)
−→

HomZ
Σ
(Πe
,
M
)
−→
Hc2
(v,
M
)
−→
0
.
e∈Cusp(G|v
)
Let
e0
∈
C(v)
be
a
cusp
of
G
that
abuts
to
v.
Here,
note
that
it
follows
immediately
from
the
deﬁnition
of
G|v
that
e0
may
be
regarded
as
a
cusp
of
G|v
.
Then
it
follows
immediately
from
the
facts
(A),
(B)
used
in
the
proof
of
assertions
(i),
(ii)
in
the
case
where
Cusp(G)
=
∅
68
Yuichiro
Hoshi
and
Shinichi
Mochizuki

that
there
exists
a
lifting
(φe
)e∈Cusp(G)
∈

Σ
(Πe
,
M
)
e∈Cusp(G)
HomZ
of
[E,
(ιe
)e∈Cusp(G)
]
∈
Hc2
(G,
M
)
[with
respect
to
the
ﬁrst
exact
sequence
of
the
above

display]
such
that
if
e
=
e0
,
then
φe
=
0.
Write
(ψe
)e∈Cusp(G|v
)
∈
e∈Cusp(G|v
)
HomZ
Σ
(Πe
,
M
)
for
the
element
such
that
ψe0
=
φe0
,
ψe
=
0
for
e
=
e0
.
Then
it
follows
immediately
from
the
deﬁnitions
of
the
above
exact
sequences
and
the
homomorphism
H
2
(v,
M
)
→
Hc2
(G,
M
)
in
question
that
the
image
of
(ψe
)e∈Cusp(G|v
)
∈
c
2

Σ
(Πe
,
M
)
in
Hc
(v,
M
)
is
mapped
to
[E,
(ιe
)e∈Cusp(G)
]
e∈Cusp(G|v
)
HomZ
2
∈
Hc
(G,
M
)
via
the
homomorphism
Hc2
(v,
M
)
→
Hc2
(G,
M
)
in
question.
This
completes
the
proof
of
assertion
(iv)
in
the
case
where
T
=
∅,
hence
also
of
assertion
(iv)
in
the
general
case.
Finally,
we
verify
assertion
(v).
If
Cusp(G)
=
∅,
then
it
follows
immediately
from
a
similar
argument
to
the
argument
used
in
the
proof
of
assertions
(i),
(ii)
in
the
case
where
Cusp(G)
=
∅,
together
with
the
well-known
structure
of
the
second
cohomology
group
of
a
compact
Riemann
surface,
that
assertion
(v)
holds.
Next,
suppose
that
Cusp(G)
=
∅.
Write
G

for
the
double
of
G
[cf.
[CmbGC],
Proposition
2.2,
(i)]
—
i.e.,
the
analogue
in
the
theory
of
semi-graphs
of
anabelioids
of
pro-Σ
PSCtype
to
the
well-known
“double”
of
a
Riemann
surface
with
boundary.
Write
H
for
the
double
of
H.
Then
it
follows
from
the
various
deﬁnitions
involved
that
the
connected
ﬁnite
étale
covering
H
→
G
determines
a
connected
ﬁnite
étale
covering
H
→
G

of
degree
[ΠG
:
ΠH
].
Next,
let
us
observe
G
(respectively,
H)
may
be
naturally
identiﬁed
with
the
restriction
[cf.
Deﬁnition
2.2,
(ii)]
of
G

(respectively,
H
)
to
a
suitable
sub-semi-graph
of
PSC-type
of
the
underlying
semi-graph
of
G

(respectively,
H
).
Thus,
it
follows
from
assertion
(iv)
that
we
have
a

Σ
-modules
commutative
diagram
of
Z
∼
Hc2
(G,
M
)
−−−−→
Hc2
(G

,
M
)
⏐
⏐
⏐
⏐


∼
Hc2
(H,
M
)
−−−−→
Hc2
(H
,
M
)
—
where
the
horizontal
arrows
are
the
isomorphisms
of
assertion
(iv),
and
the
vertical
arrows
are
the
homomorphisms
induced
by
the
connected
ﬁnite
étale
coverings
H
→
G,
H
→
G

,
respectively
—
and
hence
that
assertion
(v)
in
the
case
where
Cusp(G)
=
∅
follows
immediately
from
assertion
(v)
in
the
case
where
Cusp(G)
=
∅.
This
completes
the
proof
of
assertion
(v).
Q.E.D.
Combinatorial
anabelian
topics
I
69
Deﬁnition
3.8.
(i)
We
shall
write

Σ
),
Z
Σ)
ΛG
=
HomZ
Σ
(Hc2
(G,
Z
def
and
refer
to
ΛG
as
the
cyclotome
associated
to
G.
For
a
vertex
v
∈
Vert(G)
of
G,
we
shall
write

Σ
),
Z
Σ)
Λv
=
HomZ
Σ
(Hc2
(v,
Z
def
and
refer
to
Λv
as
the
cyclotome
associated
to
v
∈
Vert(G).
Note
that
it
follows
from
Theorem
3.7,
(ii),
that
the
cyclotomes

Σ
-modules
of
rank
1.
ΛG
and
Λv
are
free
Z
(ii)
We
shall
write

Σ
)∗
χG
:
Aut(G)
−→
Aut(ΛG
)
≃
(Z
for
the
natural
homomorphism
induced
by
the
natural
action
of

Σ
)
and
refer
to
χG
as
the
pro-Σ
cyclotomic
Aut(G)
on
Hc2
(G,
Z
character
of
G.
For
a
vertex
v
∈
Vert(G)
of
G,
we
shall
write
def

Σ
)∗
χv
=
χG|v
:
Aut(G|v
)
−→
Aut(Λv
)
≃
(Z
and
refer
to
χv
as
the
pro-Σ
cyclotomic
character
of
v.
Remark
3.8.1.
One
veriﬁes
easily
that
if
l
∈
Σ,
then
the
composite
χG

Σ
)∗

Z∗
Aut(G)
→
(Z
l
coincides
with
the
pro-l
cyclotomic
character
of
Aut(G)
deﬁned
in
the
statement
of
[CmbGC],
Lemma
2.1.
Corollary
3.9
(Synchronization
of
cyclotomes).
Let
Σ
be
a
nonempty
set
of
prime
numbers
and
G
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type.
Then
the
following
hold:
(i)
(Synchronization
with
respect
to
generization)
Let
S
⊆
Node(G)
be
a
subset
of
Node(G).
Then
the
specialization
outer
70
Yuichiro
Hoshi
and
Shinichi
Mochizuki
∼
isomorphism
ΦGS
:
ΠGS
→
ΠG
with
respect
to
S
[cf.
Deﬁnition
2.10]
determines
a
natural
isomorphism
∼
ΛGS
−→
ΛG
that
is
functorial
with
respect
to
isomorphisms
of
the
pair
(G,
S).
(ii)
(Synchronization
with
respect
to
“surgery”)
Let
H
be
a
sub-semi-graph
of
PSC-type
[cf.
Deﬁnition
2.2,
(i)]
of
G,
S
⊆
Node(G|H
)
[cf.
Deﬁnition
2.2,
(ii)]
a
subset
of
Node(G|H
)
that
is
not
of
separating
type
[cf.
Deﬁnition
2.5,
(i)],
and
T
⊆
Cusp((G|H
)S
)
[cf.
Deﬁnition
2.5,
(ii)]
an
omittable
[cf.
Deﬁnition
2.4,
(i)]
subset
of
Cusp((G|H
)S
).
Then
there
exists
a
natural
isomorphism
—
given
by
“extension
by
zero”
—
∼
ΛG
−→
Λ((G|H
)S
)•T
[cf.
Deﬁnition
2.4,
(ii)]
that
is
functorial
with
respect
to
isomorphisms
of
the
quadruple
(G,
H,
S,
T
).
In
particular,
[by
taking
the
inverse
of
this
isomorphism]
we
obtain,
for
each
vertex

Σ
-modules
v
∈
Vert(G)
of
G,
a
natural
isomorphism
of
Z
∼
syn
v
:
Λv
−→
ΛG
that
is
functorial
with
respect
to
isomorphisms
of
the
pair
(G,
v).
(iii)
(Synchronization
with
respect
to
ﬁnite
étale
coverings)
Let
H
→
G
be
a
connected
ﬁnite
étale
covering
of
G.
Then
there
exists
a
natural
isomorphism
∼
ΛH
−→
ΛG
that
is
functorial
with
respect
to
isomorphisms
of
the
pair
(G,
H).
(iv)
(Synchronization
of
cyclotomic
characters)
Let
v
∈
Vert(G)
be
a
vertex
of
G
and
α
∈
Aut{v}
(G)
[cf.
Deﬁnition
2.6,
(i)].
Then
it
holds
that
χG
(α)
=
χv
(αG|v
)
[cf.
Deﬁnitions
2.14,
(ii);
3.8,
(ii);
Remark
2.5.1,
(ii)].
Combinatorial
anabelian
topics
I
(v)
71
(Synchronization
associated
to
branches)
Let
e
∈
Edge(G)
be
an
edge
of
G,
b
a
branch
of
e
that
abuts
to
a
vertex
v
∈
V(e),
and
Πe
⊆
ΠG
an
edge-like
subgroup
of
ΠG
associated
to
e
∈
Edge(G).
Then
there
exists
a
natural
isomorphism
∼
syn
b
:
Πe
−→
Λv
that
is
functorial
with
respect
to
isomorphisms
of
the
quadruple
(G,
b,
e,
v).
(vi)
(Diﬀerence
between
two
synchronizations
associated
to
the
two
branches
of
a
node)
Let
e
∈
Node(G)
be
a
node
of
G
with
branches
b1
=
b2
that
abut
to
vertices
v1
,
v2
∈
Vert(G),
respectively.
Then
the
two
composites
syn
b1
∼
syn
b2
∼
syn
v1
∼
syn
v2
∼
Πe
−→
Λv1
−→
ΛG
;
Πe
−→
Λv2
−→
ΛG
diﬀer
by
the
automorphism
of
ΛG
given
by
multiplication
by
Σ.
−1
∈
Z
Proof.
Assertion
(i)
(respectively,
(ii))
follows
immediately
from
Theorem
3.7,
(iii)
(respectively,
Theorem
3.7,
(iv)).
Assertion
(iv)
follows
immediately
from
assertion
(ii).
Next,
we
verify
assertion
(iii).
It
follows
immediately
from
Theo
Σ
-modules
ΛH
→
ΛG
obtained
rem
3.7,
(v),
that
the
homomorphism
of
Z

Σ
)”
to
the
induced
homomorphism
by
applying
the
functor
“HomZ
Σ
(−,
Z
2
Σ
2
Σ

)
→
H
(H,
Z

)
and
dividing
by
the
index
[ΠG
:
ΠH
]
is
an
isoHc
(G,
Z
c
morphism.
This
completes
the
proof
of
assertion
(iii).
Next,
we
verify
assertion
(v).
First,
we
observe
that
to
verify
assertion
(v),
by
replacing
G
by
G|v
and
e
∈
Edge(G)
by
the
cusp
of
G|v
corresponding
to
b,
we
may
assume
without
loss
of
generality
that

Σ
-modules
e
∈
Cusp(G).
Then
we
have
homomorphisms
of
Z

HomZ
Σ
(Πe
,
Πe
)
→

Σ
(Πe
,
Πe
)
e
∈Cusp(G)
HomZ

Hc2
(G,
Πe
)
∼
→
HomZ
Σ
(ΛG
,
Πe
)
—
where
the
ﬁrst
arrow
is
the
natural
inclusion
into
the
component
indexed
by
e,
and
the
second
arrow
is
the
surjection
appearing
in
the
exact
sequence
of
Lemma
3.3
in
the
case
where
M
=
Πe
.
Here,
we
note
that
it
follows
immediately
from
the
facts
(A),
(B)
used
in
the
proof
of
Theorem
3.7,
(i),
(ii),
that
the
composite
of
these
homomorphisms
is
an
72
Yuichiro
Hoshi
and
Shinichi
Mochizuki
isomorphism.
Therefore,
we
obtain
a
natural
isomorphism
∼
syn
b
:
Πe
−→
ΛG
by
forming
the
inverse
of
the
image
of
the
identity
automorphism
of
Πe
via
the
composite
of
the
homomorphisms
of
the
above
display.
This
completes
the
proof
of
assertion
(v).
Finally,
we
verify
assertion
(vi).
First,
we
observe
that
one
may
verify
easily
that
there
exist
•
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
H†
,
•
a
sub-semi-graph
of
PSC-type
K†
of
the
underlying
semi-graph
of
H†
,
•
an
omittable
subset
S
†
⊆
Cusp((H†
)|K†
),
and
•
an
isomorphism
∼
((H†
)|K†
)•S
†
−→
G
such
that
the
node
eH†
∈
Node(H†
)
of
H†
corresponding,
relative
to
∼
the
isomorphism
((H†
)|K†
)•S
†
→
G,
to
the
node
e
∈
Node(G)
is
not
of
separating
type.
[Note
that
it
follows
immediately
from
the
various
def∼
initions
involved
that
Node(G)
←
Node(((H†
)|K†
)•S
†
)
may
be
regarded
†
as
a
subset
of
Node(H
).]
Thus,
it
follows
immediately
from
assertions
(i),
(ii)
—
by
replacing
G
(respectively,
e)
by
(H†
)Node(H†
)\{eH†
}
(respectively,
eH†
)
—
that
to
verify
assertion
(vi),
we
may
assume
without
loss
of
generality
that
Node(G)
=
{e},
and
that
e
is
not
of
separating
type.
Next,
we
observe
that
one
may
verify
easily
that
there
exists
a
semigraph
of
anabelioids
of
pro-Σ
PSC-type
H‡
such
that
•
Node(H‡
)
consists
of
precisely
two
elements
eH‡
,
eH‡
;
•
V(eH‡
)
consists
of
precisely
one
element
vH‡
of
type
(0,
3)
[cf.
Deﬁnition
2.3,
(iii)].
•
eH‡
is
of
separating
type;
•
(H‡
){e
‡
}
is
isomorphic
to
G.
H
Thus,
if
we
write
K‡
for
the
unique
sub-semi-graph
of
PSC-type
of
the
underlying
semi-graph
of
H‡
whose
set
of
vertices
=
{vH‡
},
then
it
follows
immediately
from
assertions
(i),
(ii)
—
by
replacing
G
(respectively,
e)
by
H‡
|K‡
(respectively,
eH‡
)
—
that
to
verify
assertion
(vi),
we
may
assume
without
loss
of
generality
that
Node(G)
=
{e},
that
e
is
not
of
Combinatorial
anabelian
topics
I
73
separating
type
[so
Vert(G)
consists
of
precisely
one
element],
and
that
G
is
of
type
(1,
1).
Write
v
∈
Vert(G)
for
the
unique
vertex
of
G.
Note
that
it
follows
immediately
from
the
various
assumptions
on
G
that
G|v
is
of
type
(0,
3).
Write
e1
,
e2
∈
Cusp(G|v
)
for
the
cusps
of
G|v
corresponding,
respectively,
to
the
two
branches
b1
,
b2
of
the
node
e;
write
e3
∈
Cusp(G|v
)
for
the
unique
element
of
Cusp(G|v
)
\
{e1
,
e2
}.
Then
since
G|v
is
of
type
(0,
3),
there
exists
a
graphic
isomorphism
of
G|v
with
the
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
[without
nodes]
determined
by
the
tripod
[cf.
the
discussion
entitled
“Curves”
in
§0]
P1k
\
{0,
1,
∞}
over
an
algebraically
closed
ﬁeld
k
of
characteristic
∈
Σ
such
that
the
cusps
e1
,
e2
of
G|v
correspond
to
the
cusps
0,
∞
of
P1k
\
{0,
1,
∞},
respectively,
relative
to
the
graphic
isomorphism.
Thus,
by
considering
the
automorphism
of
P1k
\
{0,
1,
∞}
over
k
given
by
“t
→
1/t”,
we
obtain
an
automorphism
τv
∈
Aut(G|v
)
of
G|v
that
maps
e1
→
e2
,
e2
→
e1
.
Moreover,
since
this
automorphism
of
P1k
\
{0,
1,
∞}
induces
an
automorphism
of
the
stable
log
curve
of
type
(1,
1)
obtained
by
identifying
the
cusps
0
and
∞
of
P1k
\
{0,
1,
∞},
we
also
obtain
an
automorphism
τG
∈
Aut(G)
of
G.
Note
that
it
follows
immediately
from
the
deﬁnition
of
τv
,
together
with
the
well-known
structure
of
the
étale
fundamental
group
of
the
tripod
P1k
\
{0,
1,
∞},
that
the
automorphism
τv
induces
the
identity
automorphism
of
the
anabeloid
(G|v
)e3
corresponding
to
e3
.
Next,
let
us
observe
that
it
follows
immediately
from
the
deﬁnition
of
G|v
,
together
with
the
proof
of
assertion
(v),
that
for
i
=
1,
2,
there
∼
exists
a
natural
isomorphism
Πe
→
Πei
—
where
we
use
the
notations
Πe
,
Πei
to
denote
edge-like
subgroups
of
ΠG
,
ΠG|v
associated
to
e,
ei
,
respectively
—
such
that
the
composite
∼
syn
b
i
∼
syn
v
∼
Πe
−→
Πei
−→
Λv
[=
ΛG|v
]
−→
ΛG
—
where
we
write
bi
for
the
[unique]
branch
of
ei
—
coincides
with
the
composite
in
question
syn
bi
∼
syn
v
∼
Πe
−→
Λv
−→
ΛG
.
Next,
let
us
observe
that
it
follows
immediately
from
the
functoriality
portion
of
assertion
(v)
that
the
automorphisms
τv
,
τG
induce
a
74
Yuichiro
Hoshi
and
Shinichi
Mochizuki

Σ
-modules
commutative
diagram
of
Z
∼
syn
b
syn
v
∼
syn
b
syn
v
i
Πe
−−−−→
Πe1
−−−−→
Λv
[=
ΛG|v
]
−−−−→
ΛG
⏐
⏐
⏐
⏐
⏐
⏐
⏐
⏐




2
Πe
−−−−→
Πe2
−−−−→
Λv
[=
ΛG|v
]
−−−−→
ΛG
—
where
the
vertical
arrows
are
the
isomorphisms
induced
by
the
automorphisms
τv
,
τG
.
Now
by
considering
the
well-known
local
structure
of
a
stable
log
curve
in
a
neighborhood
of
a
node,
one
may
verify
easily
that
the
left-hand
vertical
arrow
in
the
above
diagram
is
the
automor
Σ
.
Thus,
to
complete
the
phism
of
Πe
given
by
multiplication
by
−1
∈
Z
veriﬁcation
of
assertion
(vi),
it
suﬃces,
in
light
of
the
commutativity
of
the
above
diagram,
to
verify
that
τv
∈
Aut(G|v
)
induces
the
identity
automorphism
of
ΛG|v
=
Λv
.
On
the
other
hand,
this
follows
immediately
from
assertion
(v),
applied
to
the
cusp
e3
,
together
with
the
fact
that
the
automorphism
τv
induces
the
identity
automorphism
of
(G|v
)e3
.
This
completes
the
proof
of
assertion
(vi).
Q.E.D.
§4.
Proﬁnite
Dehn
multi-twists
In
the
present
§,
we
introduce
and
discuss
the
notion
of
a
proﬁnite
Dehn
multi-twist.
Although
our
deﬁnition
of
this
notion
[cf.
Deﬁnition
4.4
below]
is
entirely
group-theoretic
in
nature,
our
main
result
concerning
this
notion
[cf.
Theorem
4.8
below]
asserts,
in
eﬀect,
that
this
group-theoretic
notion
coincides
with
the
usual
geometric
notion
of
a
“Dehn
multi-twist”.
Let
Σ
be
a
nonempty
set
of
prime
numbers
and
G
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type.
Write
G
for
the
underlying
semi-graph
of
G,
ΠG
for
the
[pro-Σ]
fundamental
group
of
G,
and
G
→
G
for
the
universal
covering
of
G
corresponding
to
ΠG
.
Deﬁnition
4.1.
We
shall
say
that
G
is
cyclically
primitive
(respectively,
noncyclically
primitive)
if
Node(G)
=
1,
and
the
unique
node
of
G
is
not
of
separating
type
(respectively,
is
of
separating
type)
[cf.
Deﬁnition
2.5,
(i)].
Combinatorial
anabelian
topics
I
75
Remark
4.1.1.
If
G
is
cyclically
primitive
(respectively,
noncyclically
primitive),
then
Vert(G)
=
1
(respectively,
2),
and
the
[discrete]
topological
fundamental
group
π1top
(G)
of
the
underlying
semi-graph
G
of
G
is
noncanonically
isomorphic
to
Z
(respectively,
is
trivial).
Lemma
4.2
(Structure
of
the
fundamental
group
of
a
noncyclically
primitive
semi-graph
of
anabelioids
of
PSC-type).
Suppose
that
G
is
noncyclically
primitive
[cf.
Deﬁnition
4.1].
Let
v,
w
∈
Vert(G)
be
the
two
distinct
vertices
of
G
[cf.
Remark
4.1.1];

elements
of
VCN(G)

such
that
v(G)
=
v,
w(G)
e,
v,
w

∈
VCN(G)

=
w,
and,
moreover,
e
∈
N
(
v
)
∩
N
(w).

Then
the
natural
inclusions
Πe,
Πv
,
Πw
→
ΠG
determine
an
isomorphism
of
pro-Σ
groups
∼
lim(Πv
←
Πe
→
Πw
)
−→
ΠG
−→
—
where
the
inductive
limit
is
taken
in
the
category
of
pro-Σ
groups.
Proof.
This
may
be
thought
of
as
a
consequence
of
the
“van
Kampen
Theorem”
in
elementary
algebraic
topology.
At
a
more
combinatorial
level,
one
may
reason
as
follows:
It
follows
immediately
from
the
simple
structure
of
the
underlying
semi-graph
G
that
there
is
a
natural
equivalence
of
categories
between
•
the
category
of
ﬁnite
sets
with
continuous
ΠG
-action
[and
ΠG
equivariant
morphisms]
and
•
the
category
of
ﬁnite
sets
with
continuous
actions
of
Πv
,
Πw
which
restrict
to
the
same
action
on
Πe
[and
Πv
-,
Πw
-equivariant
morphisms].
The
isomorphism
between
ΠG
and
the
inductive
limit
appearing
in
the
statement
of
Lemma
4.2
now
follows
formally
from
this
equivalence
of
categories.
Q.E.D.
Lemma
4.3
(Inﬁnite
cyclic
tempered
covering
of
a
cyclically
primitive
semi-graph
of
anabelioids
of
PSC-type).
Suppose
that
G
is
cyclically
primitive
[cf.
Deﬁnition
4.1].
Denote
by
π1temp
(G)
the
tempered
fundamental
group
of
G
[cf.
the
discussion
preceding
[SemiAn],
Proposition
3.6],
by
π1top
(G)
[≃
Z
—
cf.
Remark
4.1.1]
the
[discrete]
topological
fundamental
group
of
the
underlying
semi-graph
G
of
G,
and
by
G∞
→
G
the
connected
tempered
covering
of
G
corresponding
to
the
natural
surjection
π1temp
(G)

π1top
(G)
[where
we
refer
to
[SemiAn],
§3,
76
Yuichiro
Hoshi
and
Shinichi
Mochizuki
concerning
tempered
coverings
of
a
semi-graph
of
anabelioids].
Then
the
following
hold:
(i)
(Exact
sequence)
The
natural
morphism
G∞
→
G
induces
an
exact
sequence
1
−→
π1temp
(G∞
)
−→
π1temp
(G)
−→
π1top
(G)
−→
1
.
Moreover,
the
subgroup
π1temp
(G∞
)
⊆
π1temp
(G)
of
π1temp
(G)
is
characteristic.
(ii)
(Automorphism
groups)
There
exist
natural
injective
homomorphisms
Aut|grph|
(G)
→
Aut|grph|
(G∞
)
,
π1top
(G)
→
Aut(G∞
)
—
where
we
write
Aut|grph|
(G∞
)
for
the
group
of
automorphisms
of
G∞
that
induce
the
identity
automorphism
of
the
underlying
semi-graph
of
G∞
.
Moreover,
the
centralizer
of
π1top
(G)
in
Aut|grph|
(G∞
)
satisﬁes
the
equality
ZAut|grph|
(G∞
)
(π1top
(G))
=
Aut|grph|
(G)
.
(iii)
(Action
of
the
fundamental
group
of
the
underlying
semi-graph)
Let
γ∞
∈
π1top
(G)
⊆
Aut(G∞
)
[cf.
(ii)]
be
a
generator
of
π1top
(G)
≃
Z.
Write
Vert(G∞
),
Node(G∞
),
and
Cusp(G∞
)
for
the
sets
of
vertices,
nodes
[i.e.,
closed
edges],
and
cusps
[i.e.,
open
edges]
of
G∞
,
respectively.
Then
there
exist
bijections
∼
∼
V
:
Z
−→
Vert(G∞
)
,
N
:
Z
−→
Node(G∞
)
,
∼
C
:
Z
×
Cusp(G)
−→
Cusp(G∞
)
such
that,
for
each
a
∈
Z,
•
the
set
of
edges
that
abut
to
the
vertex
V
(a)
is
equal
to
the
disjoint
union
of
{N
(a),
N
(a
+
1)}
and
{
C(a,
z)
|
z
∈
Cusp(G)};
•
the
automorphism
of
Vert(G∞
)
(respectively,
Node(G∞
);
Cusp(G∞
))
induced
by
γ∞
∈
Aut(G∞
)
maps
V
(a)
(respectively,
N
(a);
C(a,
z))
to
V
(a
+
1)
(respectively,
N
(a
+
1);
C(a
+
1,
z)).
Combinatorial
anabelian
topics
I
77
(iv)
(Restriction
to
a
ﬁnite
sub-semi-graph)
Let
a
≤
b
∈
Z
be
integers.
Denote
by
G[a,b]
the
[uniquely
determined]
subsemi-graph
of
PSC-type
[cf.
Deﬁnition
2.2,
(i)]
of
the
underlying
semi-graph
of
G∞
such
that
the
set
of
vertices
of
G[a,b]
is
equal
to
{V
(a),
V
(a
+
1),
·
·
·
,
V
(b)}
[cf.
(iii)];
denote
by
G[a,b]
the
semi-graph
of
anabelioids
obtained
by
restricting
G∞
to
G[a,b]
[cf.
the
discussion
preceding
[SemiAn],
Deﬁnition
2.2].
Then
G[a,b]
is
a
semi-graph
of
anabelioids
of
pro-Σ
PSCtype.
Moreover,
G[a,a+1]
is
noncyclically
primitive.
(v)
(Restriction
to
a
sub-semi-graph
having
precisely
one
vertex)
Let
a
≤
c
≤
b
∈
Z
be
integers.
Then
the
natural
morphism
of
semi-graphs
of
anabelioids
G[c,c]
→
G[a,b]
[cf.
(iv)]
de∼
termines
an
isomorphism
G[c,c]
→
G[a,b]
|V
(c)
—
where
we
regard
V
(c)
∈
Vert(G∞
)
as
a
vertex
of
G[a,b]
.
Moreover,
if
we
write
v
∈
Vert(G)
for
the
unique
vertex
of
G
[cf.
Remark
4.1.1],
then
the
composite
of
natural
morphisms
of
semi-graphs
of
anabelioids
G[c,c]
→
G∞
→
G
determines
an
isomorphism
of
G[c,c]
with
G|v
.
(vi)
(Natural
isomorphisms
between
restrictions
to
ﬁnite
sub-semi-graphs)
Let
a
≤
b
∈
Z
be
integers
and
γ∞
∈
π1top
(G)
⊆
Aut(G∞
)
the
automorphism
of
G∞
appearing
in
∼
(iii).
Then
γ∞
determines
an
isomorphism
G[a,b]
→
G[a+1,b+1]
.
Proof.
First,
we
verify
assertion
(i).
To
show
that
the
natural
morphism
G∞
→
G
induces
an
exact
sequence
1
−→
π1temp
(G∞
)
−→
π1temp
(G)
−→
π1top
(G)
−→
1
,
it
suﬃces
to
verify
that
every
tempered
covering
of
G∞
determines,
via
the
morphism
G∞
→
G,
a
tempered
covering
of
G.
But
this
follows
immediately,
in
light
of
the
deﬁnition
of
a
tempered
covering,
from
the
ﬁniteness
of
the
underlying
semi-graph
G
and
the
topologically
ﬁnitely
generated
nature
of
the
verticial
subgroups
of
the
tempered
fundamental
group
π1temp
(G∞
)
of
G∞
.
On
the
other
hand,
the
fact
that
the
subgroup
π1temp
(G∞
)
⊆
π1temp
(G)
is
characteristic
follows
immediately
from
the
observation
that
the
quotient
π1temp
(G)

π1temp
(G)/π1temp
(G∞
)
may
be
characterized
as
the
maximal
discrete
free
quotient
of
π1temp
(G)
[cf.
the
argument
of
[André],
Lemma
6.1.1].
This
completes
the
proof
of
assertion
(i).
Next,
we
verify
assertion
(ii).
The
existence
of
a
natural
injection
π1top
(G)
→
Aut(G∞
)
follows
immediately
from
the
deﬁnition
of
78
Yuichiro
Hoshi
and
Shinichi
Mochizuki
the
connected
tempered
covering
G∞
→
G,
together
with
the
fact
that
π1top
(G)
is
abelian.
On
the
other
hand,
it
follows
immediately
from
assertion
(i),
together
with
the
various
deﬁnitions
involved,
that
any
element
of
Aut|grph|
(G)
determines
—
up
to
composition
with
an
element
of
π1top
(G)
⊆
Aut(G∞
)
—
an
automorphism
of
G∞
.
Therefore,
by
composing
with
a
suitable
element
of
π1top
(G)
⊆
Aut(G∞
),
one
obtains
a
uniquely
determined
element
of
Aut|grph|
(G∞
),
hence
also
a
natural
injective
homomorphism
Aut|grph|
(G)
→
Aut|grph|
(G∞
).
Next,
to
verify
the
equality
ZAut|grph|
(G∞
)
(π1top
(G))
=
Aut|grph|
(G),
observe
that
π1temp
(G∞
)
is
center-free
[cf.
[SemiAn],
Example
2.10;
[SemiAn],
Proposition
3.6,
(iv)];
this
implies
that
we
have
a
natural
isomorphism
out
π1temp
(G)
≃
π1temp
(G∞
)

π1top
(G)
[cf.
the
discussion
entitled
“Topological
groups”
in
§0].
Thus,
in
light
of
the
[easily
veriﬁed]
inclusion
Aut|grph|
(G)
⊆
ZAut|grph|
(G∞
)
(π1top
(G)),
the
desired
equality
follows
immediately
from
[CmbGC],
Proposition
1.5,
(ii).
This
completes
the
proof
of
assertion
(ii).
Assertions
(iii),
(iv),
(v),
and
(vi)
follow
immediately
from
the
deﬁQ.E.D.
nition
of
the
connected
tempered
covering
G∞
→
G.
Deﬁnition
4.4.
We
shall
write
Dehn(G)
=
{
α
∈
Aut|grph|
(G)
|
αG|v
=
idG|v
for
any
v
∈
Vert(G)
}
def
—
where
we
refer
to
Deﬁnitions
2.1,
(iii);
2.14,
(ii);
Remark
2.5.1,
(ii),
concerning
“αG|v
”.
We
shall
refer
to
an
element
of
Dehn(G)
as
a
proﬁnite
Dehn
multi-twist
of
G.
Proposition
4.5
(Equalities
concerning
the
group
of
proﬁnite
Dehn
multi-twists).
It
holds
that


|Πv
|
|Πz
|
(G)
=
(G)
Dehn(G)
=
v∈Vert(G)
Aut
z∈VCN(G)
Aut
=

z∈VCN(G)
Out
|Πz
|
(ΠG
)
⊆
Aut|grph|
(G)
[cf.
Deﬁnitions
2.13;
2.6,
(i);
[CmbGC],
Proposition
1.2,
(ii)]
—
where
we
use
the
notation
“Π(−)
”
to
denote
a
VCN-subgroup
[cf.
Deﬁnition
2.1,
(i)]
of
ΠG
associated
to
“(−)”
∈
VCN(G).
Proof.
The
ﬁrst
equality
follows
immediately
from
the
various
definitions
involved
[cf.
also
[CmbGC],
Proposition
1.2,
(i)].
The
second
Combinatorial
anabelian
topics
I
79
equality
follows
immediately
from
the
fact
that
any
edge-like
subgroup
is
contained
in
a
verticial
subgroup.
The
third
equality
follows
immediately
from
Proposition
2.7,
(ii).
This
completes
the
proof
of
Proposition
4.5.
Q.E.D.
Lemma
4.6
(Construction
of
certain
homomorphisms).
Let

e
def
=
e(G)
∈
Node(G).
Then
the
following
hold:
e
∈
Node(G),
(i)
Let
α
∈
Dehn(G)
be
a
proﬁnite
Dehn
multi-twist
of
G
and

Write
w
v
∈
V(
e)
⊆
Vert(G).

for
the
unique
element
of
the
complement
V(
e)
\
{
v
}
[cf.
[NodNon],
Remark
1.2.1,
(iii)].
Then
there
exists
a
unique
lifting
α[
v
]
∈
Aut(ΠG
)
of
α
which
preserves
the
verticial
subgroup
Πv
⊆
ΠG
of
ΠG
associated
to

and
induces
the
identity
automorphism
of
Πv
.
v
∈
Vert(G)
Moreover,
this
lifting
α[
v
]
preserves
the
verticial
subgroup

and
there
exists

∈
Vert(G),
Πw
⊆
ΠG
of
ΠG
associated
to
w
a
unique
element
δe,v
∈
Πe
of
the
edge-like
subgroup
Πe
⊆
ΠG

such
that
the
restriction
of
of
ΠG
associated
to
e
∈
Node(G)
α[
v
]
to
Πw
is
the
inner
automorphism
determined
by
δe,v
∈
Πe
(⊆
Πw
).
(ii)
For
v
∈
V(
e),
denote
by
De,v
:
Dehn(G)
→
ΛG
the
composite
of
the
map
Dehn(G)
−→
Πe
given
by
assigning
α
→
δe,v
∈
Πe
[cf.
(i)]
and
the
isomorphism
syn
b
∼
syn
v
∼
Πe
−→
Λv
−→
ΛG
def
[cf.
Corollary
3.9,
(ii),
(v)]
—
where
we
write
v
=
v(G)
and
b
for
the
branch
of
e
determined
by
the
unique
branch
of
e
which
abuts
to
v.
Then
the
map
De,v
:
Dehn(G)
→
ΛG
is
a
homomorphism
of
proﬁnite
groups
which
does
not
depend
on
the
choice
of
the
element
v
∈
V(
e),
i.e.,
if
w

∈
V(
e)
\
{
v
},
then
De,v
=
De,w
.
Moreover,
the
homomorphism
De,v
(=
De,w
)
depends
only
on
e
∈
Node(G),
i.e.,
it
does
not

such
that
depend
on
the
choice
of
the
element
e
∈
Node(G)
e(G)
=
e.
Proof.
First,
we
verify
assertion
(i).
The
fact
that
there
exists
a
unique
lifting
α[
v
]
∈
Aut(ΠG
)
of
α
which
preserves
Πv
and
induces
the
80
Yuichiro
Hoshi
and
Shinichi
Mochizuki
identity
automorphism
of
Πv
follows
immediately,
in
light
of
the
slimness
of
Πv
[cf.
[CmbGC],
Remark
1.1.3]
and
the
commensurable
terminality
of
Πv
in
ΠG
[cf.
[CmbGC],
Proposition
1.2,
(ii)],
from
the
fact
that
α
∈
Out|Πv
|
(ΠG
)
[cf.
Proposition
4.5].
The
fact
that
α[
v
]
preserves
v
],
from
the
fact
Πw
follows
immediately,
in
light
of
the
graphicity
of
α[
that
Πw
is
the
unique
verticial
subgroup
H
of
ΠG
such
that
H
=
Πv
and
Πe
⊆
H
[cf.
[NodNon],
Remark
1.2.1,
(iii);
[NodNon],
Lemma
1.7],
together
with
the
fact
that
α[
v
]
preserves
Πv
,
Πe
⊆
ΠG
.
The
fact
that
there
exists
a
unique
element
δe,v
∈
Πe
of
Πe
such
that
the
restriction
of
α[
v
]
to
Πw
is
the
inner
automorphism
determined
by
δe,v
follows
immediately,
in
light
of
the
slimness
of
Πw
[cf.
[CmbGC],
Remark
1.1.3]
and
the
commensurable
terminality
of
Πe
[cf.
[CmbGC],
Proposition
1.2,
(ii)],
from
the
fact
that
α
∈
Out|Πw|
(ΠG
)
[cf.
Proposition
4.5].
This
completes
the
proof
of
assertion
(i).
Next,
we
verify
assertion
(ii).
The
fact
that
the
map
De,v
is
a
homomorphism
follows
immediately
from
the
various
uniqueness
properties
discussed
in
assertion
(i).
The
fact
that
the
map
De,v
does
not
depend
on
the
choice
of
the
element
v
∈
V(
e)
follows
immediately
from
Corollary
3.9,
(vi).
The
fact
that
the
homomorphism
De,v
does
not
depend
on
the
choice
of
the
element

such
that
e(G)
=
e
follows
immediately
from
the
deﬁnition
e
∈
Node(G)
Q.E.D.
of
the
map
De,v
.
This
completes
the
proof
of
assertion
(ii).
Deﬁnition
4.7.
For
each
node
e
∈
Node(G)
of
G,
we
shall
write
def
De
=
De,v
:
Dehn(G)
−→
ΛG
for
the
homomorphism
obtained
in
Lemma
4.6,
(ii).
[Note
that
it
follows
from
Lemma
4.6,
(ii),
that
this
homomorphism
depends
only
on
e
∈
Node(G).]
We
shall
write
def
DG
=

e∈Node(G)
De
:
Dehn(G)
−→

ΛG
.
Node(G)
Theorem
4.8
(Properties
of
proﬁnite
Dehn
multi-twists).
Let
Σ
be
a
nonempty
set
of
prime
numbers
and
G
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type.
Then
the
following
hold:
(i)
(Normality)
Dehn(G)
is
normal
in
Aut(G).
Combinatorial
anabelian
topics
I
(ii)
81
(Compatibility
with
generization)
Let
S
⊆
Node(G).
Then
—
relative
to
the
inclusion
AutS
(G)
⊆
Aut(GS
)
[cf.
Deﬁnition
2.8]
induced
by
the
specialization
outer
isomorphism
∼
ΠG
→
ΠGS
with
respect
to
S
[cf.
Proposition
2.9,
(ii)]
—
we
have
a
diagram
of
inclusions
Dehn(G)
←
∩
AutS
(G)
Dehn(GS
)
∩
→
Aut(GS
)
.
Moreover,
if
we
regard
Node(GS
)
as
a
subset
of
Node(G),
then
the
above
inclusion
Dehn(GS
)
→
Dehn(G)
ﬁts
into
a
commutative
diagram
of
proﬁnite
groups
Dehn(GS
)
−−−−→
Dehn(G)
⏐
⏐
⏐
⏐D
DGS


G


−−−−→
Node(GS
)
ΛG
Node(G)
ΛG
—
where
the
lower
horizontal
arrow
is
the
natural
inclusion
determined
by
the
inclusion
Node(GS
)
→
Node(G)
and
the
∼
natural
isomorphism
ΛGS
→
ΛG
[cf.
Corollary
3.9,
(i)].
(iii)
(Compatibility
with
“surgery”)
Let
H
be
a
sub-semi-graph
of
PSC-type
[cf.
Deﬁnition
2.2,
(i)]
of
G,
S
⊆
Node(G|H
)
[cf.
Deﬁnition
2.2,
(ii)]
a
subset
of
Node(G|H
)
that
is
not
of
separating
type
[cf.
Deﬁnition
2.5,
(i)],
and
T
⊆
Cusp((G|H
)S
)
[cf.
Deﬁnition
2.5,
(ii)]
an
omittable
[cf.
Deﬁnition
2.4,
(i)]
subset
of
Cusp((G|H
)S
).
Then
the
natural
homomorphism
AutHS•T
(G)
α
−→
Aut(((G|H
)S
)•T
)
→
α((G|H
)S
)•T
[cf.
Deﬁnitions
2.4,
(ii);
2.14,
(ii)]
induces
a
homomorphism
Dehn(G)
−→
Dehn(((G|H
)S
)•T
)
.
Moreover,
if
we
regard
Node(((G|H
)S
)•T
)
as
a
subset
of
Node(G),
then
the
above
homomorphism
Dehn(G)
→
82
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Dehn(((G|H
)S
)•T
)
ﬁts
into
a
commutative
diagram
of
proﬁnite
groups
Dehn(G)
−−−−→
Dehn(((G|H
)S
)•T
)
⏐
⏐
⏐
⏐D((G|
)
)
DG


H
S
•T


Node(G)
ΛG
−−−−→
Node(((G|H
)S
)•T
)
ΛG
—
where
the
lower
horizontal
arrow
is
the
natural
projection,
∼
and
we
apply
the
natural
isomorphism
ΛG
→
Λ((G|H
)S
)•T
[cf.
Corollary
3.9,
(ii)].
(iv)
(Structure
of
the
group
of
proﬁnite
Dehn
multi-twists)
The
homomorphism
deﬁned
in
Deﬁnition
4.7

ΛG
DG
:
Dehn(G)
−→
Node(G)
is
an
isomorphism
of
proﬁnite
groups
that
is
functorial,
in
G,
with
respect
to
isomorphisms
of
semi-graphs
of
anabelioids
of
pro-Σ
PSC-type.
In
particular,
Dehn(G)
is
a
ﬁnitely

Σ
-module
of
rank
Node(G)
.
We
shall
generated
free
Z
refer

to
a
nontrivial
proﬁnite
Dehn
multi-twist
whose
image
∈
Node(G)
ΛG
lies
in
a
direct
summand
[i.e.,
in
a
single
“ΛG
”]
as
a
proﬁnite
Dehn
twist.
(v)
(Conjugation
action
on
the
group

of
proﬁnite
Dehn
multi-twists)
The
action
of
Aut(G)
on
Node(G)
ΛG
∼
Aut(G)
−→
Aut(Dehn(G))
−→
Aut(

ΛG
)
Node(G)
determined
by
conjugation
by
elements
of
Aut(G)
[cf.
(i)]
and
the

isomorphism
of
(iv)
coincides
with
the
action
of
Aut(G)
on
Node(G)
ΛG
determined
by
the
action
χG
of
Aut(G)
on
ΛG
and
the
natural
action
of
Aut(G)
on
the
ﬁnite
set
Node(G).
Proof.
Assertions
(i),
(ii),
and
(iii)
follow
immediately
from
the
various
deﬁnitions
involved.
Next,
we
verify
assertion
(iv).
The
functoriality
of
the
homomorphism
DG
follows
immediately
from
the
various
deﬁnitions
involved.
The
rest
of
the
proof
of
assertion
(iv)
is
devoted
to
verifying
that
the
homomorphism
DG
is
an
isomorphism.
First,
we
claim
that
Combinatorial
anabelian
topics
I
83
(∗1
):
if
G
is
noncyclically
primitive
[cf.
Deﬁnition
4.1],
then
the
homomorphism
DG
is
injective.
Indeed,
this
follows
immediately
from
Lemma
4.2,
together
with
the
deﬁnition
of
the
homomorphism
DG
.
This
completes
the
proof
of
the
above
claim
(∗1
).
Next,
we
claim
that
(∗2
):
if
G
is
cyclically
primitive
[cf.
Deﬁnition
4.1],
then
the
homomorphism
DG
is
injective.
Indeed,
let
α
∈
Ker(DG
)
⊆
Out(ΠG
)
be
an
element
of
Ker(DG
).
Since
we
are
in
the
situation
of
Lemma
4.3,
we
shall
apply
the
notational
conventions
established
in
Lemma
4.3.
Denote
by
α∞
∈
Aut|grph|
(G∞
)
the
automorphism
of
G∞
determined
by
α
[cf.
Lemma
4.3,
(ii)];
for
integers
a
≤
b
∈
Z,
denote
by
α[a,b]
∈
Aut|grph|
(G[a,b]
)
the
automorphism
of
G[a,b]
obtained
by
restricting
α∞
∈
Aut|grph|
(G∞
).
Then
since
α
is
a
proﬁnite
Dehn
multi-twist,
one
may
verify
easily
that
α[a,b]
is
a
proﬁnite
Dehn
multi-twist
of
G[a,b]
.
Thus,
since
G[a,a+1]
is
noncyclically
primitive
[cf.
Lemma
4.3,
(iv)],
it
follows
immediately
from
the
fact
that
α
∈
Ker(DG
),
together
with
the
claim
(∗1
),
that
α[a,a+1]
is
trivial.
Moreover,
for
any
a
<
b
∈
Z,
it
follows
—
by
applying
induction
on
b
−
a
and
considering,
in
light
of
the
claim
(∗1
),
the
various
generizations
[cf.
assertion
(ii)]
of
G[a,b]
with
respect
to
sets
of
the
form
“Node(G[a.b]
)
\
{e}”
—
that
the
proﬁnite
Dehn
multi-twist
α[a,b]
,
hence
also
the
automorphism
α∞
,
is
trivial.
In
particular,
it
holds
that
α
is
trivial
[cf.
Lemma
4.3,
(ii)],
as
desired.
This
completes
the
proof
of
the
above
claim
(∗2
).
Next,
we
claim
that
(∗3
):
for
arbitrary
G,
the
homomorphism
DG
is
injective.
We
verify
this
claim
(∗3
)
by
induction
on
Node(G)
.
If
Node(G)
≤
1,
then
the
claim
(∗3
)
follows
formally
from
the
claims
(∗1
)
and
(∗2
).
Now
suppose
that
Node(G)
>
1,
and
that
the
induction
hypothesis
is
in
force.
Let
e
∈
Node(G)
be
a
node
of
G.
Write
H
for
the
unique
sub-semi-graph
of
PSC-type
of
G
whose
set
of
vertices
is
V(e).
Then
one
may
verify
def
easily
that
S
=
Node(G|H
)
\
{e}
is
not
of
separating
type
as
a
subset
of
Node(G|H
).
Thus,
since
(G|H
)S
has
precisely
one
node,
it
follows
immediately
from
assertion
(iii),
together
with
the
claims
(∗1
)
and
(∗2
),
that
the
proﬁnite
Dehn
multi-twist
α(G|H
)S
of
(G|H
)S
determined
by
α
∈
Dehn(G)
is
trivial.
In
particular,
it
follows
immediately
from
the
definition
of
a
generization
[cf.,
especially,
the
deﬁnition
of
the
anabelioids
corresponding
to
the
vertices
of
a
generization
given
in
Deﬁnition
2.8,
(vi)],
together
with
the
deﬁnition
of
a
proﬁnite
Dehn
multi-twist,
that
84
Yuichiro
Hoshi
and
Shinichi
Mochizuki
the
automorphism
αG{e}
of
the
generization
G{e}
determined
by
α
[cf.
Proposition
2.9,
(ii)]
is
a
proﬁnite
Dehn
multi-twist.
Therefore,
since
Node(G{e}
)
<
Node(G)
,
it
follows
immediately
from
assertion
(ii),
together
with
the
induction
hypothesis,
that
αG{e}
∈
Ker(DG{e}
),
hence
also
α
∈
Ker(DG
),
is
trivial.
This
completes
the
proof
of
the
claim
(∗3
).
Next,
we
claim
that
(∗4
):
if
G
is
noncyclically
primitive
[cf.
Deﬁnition
4.1],
then
the
homomorphism
DG
is
surjective.
Indeed,
this
follows
immediately
from
Lemma
4.2,
together
with
the
various
deﬁnitions
involved.
This
completes
the
proof
of
the
claim
(∗4
).
Next,
we
claim
that
(∗5
):
if
G
is
cyclically
primitive
[cf.
Deﬁnition
4.1],
then
the
homomorphism
DG
is
surjective.
Indeed,
let
λ
∈
ΛG
be
an
element
of
ΛG
.
Since
we
are
in
the
situation
of
Lemma
4.3,
we
shall
apply
the
notational
conventions
established
in
Lemma
4.3.
Then
it
follows
immediately
from
Corollary
3.9,
(ii),
together
with
Lemma
4.3,
(v),
that
for
any
integers
a
≤
0
<
b
∈
Z,
the
natural
morphisms
G[0,0]
→
G[a,b]
and
G[0,0]
→
G∞
→
G
induce
∼
∼
isomorphisms
ΛG[a,b]
←
ΛG[0,0]
→
ΛG
.
By
abuse
of
notation,
write
λ
∈
ΛG[a,b]
for
the
element
of
ΛG[a,b]
corresponding
to
λ
∈
ΛG
.
Now
since
G[0,1]
is
noncyclically
primitive
[cf.
Lemma
4.3,
(iv)],
it
follows
from
the
claims
(∗1
),
(∗4
)
that
there
exists
a
unique
proﬁnite
Dehn
multi-twist
λ[0,1]
∈
Dehn(G[0,1]
)
such
that
DG[0,1]
(λ[0,1]
)
=
λ.
Next,
we
claim
that
(†)
:
for
any
a
≤
0
<
b
∈
Z,
there
exists
a
[necessarily
unique
—
cf.
claim
(∗3
)]
proﬁnite
Dehn
multi-twist
λ[a,b]
∈
Dehn(G[a,b]
)
such
that
De
(λ[a,b]
)
=
λ
for
every
node
e
∈
Node(G[a,b]
).
We
verify
this
claim
(†)
by
induction
on
b−a.
If
b−a
=
1,
or
equivalently,
[a,
b]
=
[0,
1],
then
we
have
already
shown
the
existence
of
a
proﬁnite
Dehn
multi-twist
λ[0,1]
∈
Dehn(G[0,1]
)
of
the
desired
type.
Now
suppose
that
1
<
b
−
a,
and
that
for
I
∈
{[a,
b
−
1],
[a
+
1,
b]},
there
exists
a
proﬁnite
Dehn
multi-twist
λI
∈
Dehn(GI
)
such
that
De
(λI
)
=
λ
for
every
node
e
∈
Node(GI
).
Then
one
may
verify
easily
that
Node(GI
)
may
be
def
regarded
as
a
subset
of
Node(G[a,b]
),
that
H[a,b]
=
(G[a,b]
)Node(GI
)
is
noncyclically
primitive,
and
that,
if
one
allows
v
to
range
over
the
[two]
vertices
of
H[a,b]
,
then
the
resulting
semi-graphs
of
anabelioids
(H[a,b]
)|v
def
are
naturally
isomorphic
to
HI
=
(GI
)Node(GI
)
and
G[cI
,cI
]
,
where
we
write
cI
for
b
(respectively,
a)
if
I
=
[a,
b−1]
(respectively,
I
=
[a+1,
b]).
Combinatorial
anabelian
topics
I
85
Let
ΠeI
⊆
ΠHI
be
a
cuspidal
subgroup
of
ΠHI
corresponding
to
the
cusp
eI
determined
by
the
unique
node
of
H[a,b]
;
Πe[cI
,cI
]
⊆
ΠG[cI
,cI
]
a
cuspidal
subgroup
of
ΠG[cI
,cI
]
corresponding
to
the
cusp
e[cI
,cI
]
deI
∈
Aut(ΠH
)
a
lifting
of
the
termined
by
the
unique
node
of
H[a,b]
;
λ
I
outomorphism
of
ΠHI
determined
by
λI
∈
Dehn(GI
)
→
Aut(HI
)
[cf.
Proposition
2.9,
(ii)]
which
preserves
ΠeI
and
induces
the
identity
automorphism
of
ΠeI
.
[Note
that
since
λI
∈
Dehn(GI
),
one
may
verify
I
∈
Aut(ΠH
)
exists.]
Then
for
any
element
easily
that
such
a
lifting
λ
I
δ
∈
Πe[cI
,cI
]
of
Πe[cI
,cI
]
,
it
follows
immediately
from
Lemma
4.2
that
by
∼
gluing
—
by
means
of
the
natural
isomorphism
ΠeI
→
Πe[cI
,cI
]
—
the
I
∈
Aut(ΠH
)
to
the
inner
automorphism
of
ΠG
by
automorphism
λ
I
[cI
,cI
]
δ
∈
Πe[cI
,cI
]
,
we
obtain
an
outomorphism
λ[a,b]
[δ]
of
ΠH[a,b]
,
which
—
in
light
of
[CmbGC],
Proposition
1.5,
(ii),
together
with
the
fact
that
λI
∈
Dehn(GI
)
—
is
contained
in
Dehn(G[a,b]
)
⊆
Aut|grph|
(G[a,b]
)
→
Aut|grph|
(H[a,b]
)
⊆
Out(ΠH[a,b]
)
[cf.
Proposition
2.9,
(ii)].
Now
it
follows
immediately
from
the
deﬁnition
of
the
homomorphism
“De
”
that
the
assignment
δ
→
DeG[a,b]
(λa,b
[δ])
—
where
we
write
eG[a,b]
for
the
node
of
G[a,b]
corresponding
to
the
unique
∼
node
of
H[a,b]
—
determines
a
bijection
Πe[cI
,cI
]
→
ΛG
.
Thus,
since
De
(λI
)
=
λ
for
every
node
e
∈
Node(GI
),
we
conclude
that
there
exists
a
unique
element
δ
∈
Πe[cI
,cI
]
of
Πe[cI
,cI
]
such
that
De
(λ[a,b]
[δ])
=
λ
for
every
node
e
∈
Node(G[a,b]
).
This
completes
the
proof
of
the
claim
(†).
Write
λ∞
∈
Aut|grph|
(G∞
)
for
the
automorphism
of
G∞
determined
by
the
λ[a,b]
’s
of
the
claim
(†).
Now
since
De
(λ[a,b]
)
=
λ
for
arbitrary
a
<
b
∈
Z
and
e
∈
Node(G[a,b]
),
one
may
verify
easily,
by
applying
the
claim
(∗3
),
that
the
automorphism
λ∞
commutes
with
the
natural
action
of
π1top
(G)
≃
Z
on
G∞
.
Thus,
the
automorphism
λ∞
determines
an
automorphism
λG
∈
Aut|grph|
(G)
of
G
[cf.
Lemma
4.3,
(ii)].
Moreover,
it
follows
immediately
from
the
deﬁnition
of
λG
,
together
with
the
fact
that
De
(λ[a,b]
)
=
λ
for
arbitrary
a
<
b
∈
Z
and
e
∈
Node(G[a,b]
),
that
λG
is
a
proﬁnite
Dehn
multi-twist
such
that
DG
(λG
)
=
λ
∈
ΛG
.
This
completes
the
proof
of
the
claim
(∗5
).
Finally,
we
claim
that
(∗6
):
for
arbitrary
G,
the
homomorphism
DG
is
surjective.
86
Yuichiro
Hoshi
and
Shinichi
Mochizuki
For
each
node
e
∈
Node(G)
of
G,
it
follows
from
assertion
(ii)
that
we
have
a
commutative
diagram
of
proﬁnite
groups
Dehn(GNode(G)\{e}
)
−−−−→
⏐
DGNode(G)\{e}
⏐

ΛG
−−−−→

Dehn(G)
⏐
⏐D

G
e
∈Node(G)
ΛG
—
where
the
lower
horizontal
arrow
is
the
natural
inclusion
into
the
component
indexed
by
e.
Now
since
Node(GNode(G)\{e}
)
=
1,
it
follows
from
the
claims
(∗4
),
(∗5
)
that
the
left-hand
vertical
arrow
DGNode(G)\{e}
in
the
above
commutative
diagram
is
surjective.
Therefore,
by
allowing
“e”
to
vary
among
the
elements
of
Node(G),
we
conclude
that
DG
is
surjective.
This
completes
the
proof
of
the
claim
(∗6
)
—
hence
also,
in
light
of
the
claim
(∗3
)
—
of
assertion
(iv).
Finally,
assertion
(v)
follows
immediately
from
the
various
deﬁnitions
involved,
together
with
assertion
(iv).
This
completes
the
proof
of
Theorem
4.8.
Q.E.D.
Remark
4.8.1.
In
the
notation
of
Theorem
4.8,
denote
by
π1temp
(G)
the
tempered
fundamental
group
of
G
[cf.
the
discussion
preceding
[SemiAn],
Proposition
3.6],
by
π1top
(G)
the
[discrete]
topological
fundamental
group
of
the
underlying
semi-graph
G
of
G,
by
G∞
→
G
the
connected
tempered
covering
of
G
corresponding
to
the
natural
surjection
π1temp
(G)

π1top
(G)
[where
we
refer
to
[SemiAn],
§3,
concerning
tempered
coverings
of
a
semi-graph
of
anabelioids],
by
Aut|grph|
(G∞
)
the
group
of
automorphisms
of
G∞
that
induce
the
identity
automorphism
of
the
underlying
semi-graph
of
G∞
,
and
by
Dehn(G∞
)
⊆
Aut|grph|
(G∞
)
the
group
of
“proﬁnite
Dehn
multi-twists”
of
G∞
—
i.e.,
automorphisms
of
G∞
which
induce
the
identity
automorphism
on
the
underlying
semigraph
of
G∞
,
as
well
as
on
the
anabelioids
of
G∞
corresponding
to
the
vertices
of
G∞
.
Then
the
following
hold:
(i)
The
natural
morphism
G∞
→
G
induces
an
exact
sequence
1
−→
π1temp
(G∞
)
−→
π1temp
(G)
−→
π1top
(G)
−→
1
.
Moreover,
the
subgroup
π1temp
(G∞
)
⊆
π1temp
(G)
of
π1temp
(G)
is
characteristic.
(ii)
There
exist
natural
injections
Aut|grph|
(G)
→
Aut|grph|
(G∞
)
,
Dehn(G)
→
Dehn(G∞
)
,
Combinatorial
anabelian
topics
I
87
π1top
(G)
→
Aut(G∞
)
—
where
the
third
injection
is
determined
up
to
composition
with
a
π1top
(G)-inner
automorphism
—
which
satisfy
the
equalities
ZAut|grph|
(G∞
)
(π1top
(G))
=
Aut|grph|
(G)
;
Dehn(G)
=
Aut|grph|
(G)
∩
Dehn(G∞
)
.
(iii)
There
exists
a
natural
isomorphism

∼
Dehn(G∞
)
→
ΛG
.
Node(G∞
)
Indeed,
assertion
(i)
(respectively,
(ii))
follows
immediately
from
a
similar
argument
to
the
argument
used
in
the
proof
of
Lemma
4.3,
(i)
(respectively,
Lemma
4.3,
(ii)),
together
with
the
various
deﬁnitions
involved.
On
the
other
hand,
the
existence
of
the
natural
isomorphism
asserted
in
assertion
(iii)
follows
immediately
from
the
fact
that
the
various
homomorphisms
D(G∞
)|H
—
where
H
ranges
over
the
sub-semi-graphs
of
PSC-type
[cf.
Deﬁnition
2.2,
(i)]
of
the
underlying
semi-graph
of
G∞
,
and
we
write
(G∞
)|H
for
the
semi-graph
of
anabelioids
obtained
by
restricting
G∞
to
H
[cf.
the
discussion
preceding
[SemiAn],
Deﬁnition
2.2],
which
[as
is
easily
veriﬁed]
is
of
pro-Σ
PSC-type
—
are
isomorphisms.
[Note
that
since
(G∞
)|H
is
of
pro-Σ
PSC-type,
the
fact
that
D(G∞
)|H
is
an
isomorphism
is
a
consequence
of
Theorem
4.8,
(iv).
However,
since
H
is
a
tree,
it
follows
from
the
simple
structure
of
H
that
one
may
verify
that
D(G∞
)|H
is
an
isomorphism
in
a
fairly
direct
fashion,
by
arguing
as
in
the
proofs
of
the
claims
(∗1
),
(∗4
)
that
appear
in
the
proof
of
Theorem
4.8,
(iv).]
In
particular,
it
follows
immediately
from
assertions
(ii),
(iii)
that
one
may
recover
the
natural
isomorphism

∼
∼
ΛG
Dehn(G)
→
ZNode(G
)
ΛG
(π1top
(G))
→
∞
Node(G)
of
Theorem
4.8,
(iv).
Deﬁnition
4.9.
We
shall
write

Aut|grph|
(G|v
)
Glu(G)
⊆
v∈Vert(G)
88
Yuichiro
Hoshi
and
Shinichi
Mochizuki
for
the
[closed]
subgroup
of
“glueable”
collections
of
outomorphisms

of
the
direct
product
v∈Vert(G)
Aut|grph|
(G|v
)
consisting
of
elements
(αv
)v∈Vert(G)
such
that
χv
(αv
)
=
χw
(αw
)
[cf.
Deﬁnition
3.8,
(ii)]
for
any
v,
w
∈
Vert(G).
Proposition
4.10
(Properties
of
automorphisms
that
ﬁx
the
underlying
semi-graph).
(i)
(Factorization)
The
natural
homomorphism
Aut|grph|
(G)
α
−→
→

v∈Vert(G)
Aut
|grph|
(G|v
)
(αG|v
)v∈Vert(G)
[cf.
Deﬁnition
2.14,
(ii);
Remark
2.5.1,
(ii)]
factors
through

the
closed
subgroup
Glu(G)
⊆
v∈Vert(G)
Aut|grph|
(G|v
).
(ii)
(Exact
sequence
relating
proﬁnite
Dehn
multi-twists
and
glueable
outomorphisms)
The
resulting
homomor:
Aut|grph|
(G)
→
Glu(G)
[cf.
(i)]
ﬁts
into
an
exact
phism
ρVert
G
sequence
of
proﬁnite
groups
ρVert
G
1
−→
Dehn(G)
−→
Aut|grph|
(G)
−→
Glu(G)
−→
1
.
(iii)
(Surjectivity
of
cyclotomic
characters)
The
restriction
of
the
pro-Σ
cyclotomic
character
χG
of
G
[cf.
Deﬁnition
3.8,
(ii)]
to
Aut|grph|
(G)
⊆
Aut(G)

Σ
)∗
χG
|Aut|grph|
(G)
:
Aut|grph|
(G)
−→
(Z
—
hence
also
χG
—
is
surjective.
(iv)
(Liftability
of
automorphisms)
Let
H
be
a
sub-semi-graph
of
PSC-type
[cf.
Deﬁnition
2.2,
(i)]
of
G
and
S
⊆
Node(G|H
)
[cf.
Deﬁnition
2.2,
(ii)]
a
subset
of
Node(G|H
)
that
is
not
of
separating
type
[cf.
Deﬁnition
2.5,
(i)].
Then
the
homomorphism
Aut|grph|
(G)
α
−→
Aut|grph|
((G|H
)S
)
→
α(G|H
)S
[cf.
Deﬁnitions
2.5,
(ii);
2.14,
(ii)]
is
surjective.
Combinatorial
anabelian
topics
I
89
Proof.
Assertion
(i)
follows
immediately
from
Corollary
3.9,
(iv).
Next,
we
verify
assertion
(ii).
It
follows
immediately
from
the
various
)
=
Dehn(G)
⊆
Aut|grph|
(G).
Thus,
deﬁnitions
involved
that
Ker(ρVert
G
to
complete
the
proof
of
assertion
(ii),
it
suﬃces
to
verify
that
the
hois
surjective.
momorphism
ρVert
G
Now
we
claim
that
(∗1
):
if
G
is
noncyclically
primitive
[cf.
Deﬁnition
4.1],
is
surjective.
then
the
homomorphism
ρVert
G
Indeed,
this
follows
immediately
from
Corollary
3.9,
(v);
Lemma
4.2,
together
with
the
various
deﬁnitions
involved.
This
completes
the
proof
of
the
claim
(∗1
).
Next,
we
claim
that
(∗2
):
if
G
is
cyclically
primitive
[cf.
Deﬁnition
4.1],
is
surjective.
then
the
homomorphism
ρVert
G
Indeed,
since
we
are
in
the
situation
of
Lemma
4.3,
we
shall
apply
the
notational
conventions
established
in
Lemma
4.3.
Then
it
follows
immediately
from
the
fact
that
Vert(G)
=
1
[cf.
Remark
4.1.1],
together
with
Lemma
4.3,
(v),
that
the
composite
of
natural
morphisms
G[0,0]
→
∼
G∞
→
G
determines
a
natural
identiﬁcation
Glu(G)
→
Aut|grph|
(G[0,0]
).
∼
∼
Let
α
=
α[0,0]
∈
Glu(G)
→
Aut|grph|
(G[0,0]
)
be
an
element
of
Glu(G)
→
Aut|grph|
(G[0,0]
).
For
each
a
∈
Z,
denote
by
α[a,a]
∈
Aut(G[a,a]
)
the
automorphism
of
G[a,a]
determined
by
conjugating
the
automorphism
α
of
∼
a
:
G[0,0]
→
G[a,a]
[cf.
Lemma
4.3,
(iii),
(vi)].
G[0,0]
by
the
isomorphism
γ∞
Then
for
any
c
<
b
∈
Z,
it
follows
from
the
various
deﬁnitions
involved
that
the
various
α[a,a]
’s
satisfy
the
gluing
condition
necessary
to
apply
the
claim
(∗1
),
hence
that
we
may
glue
them
together
[cf.
the
proof
of
the
claim
(∗3
)
below
for
more
details
concerning
this
sort
of
gluing
argument]
to
obtain
a(n)
[not
necessarily
unique]
element
of
Aut|grph|
(G[c,b]
).
Thus,
by
allowing
c
<
b
∈
Z
to
vary,
we
obtain
a(n)
[not
necessarily
unique]
element
α∞
∈
Aut|grph|
(G∞
)
of
Aut|grph|
(G∞
).
Now
it
follows
immediately
from
the
deﬁnition
of
α∞
that
for
any
γ
∈
π1top
(G),
the
def
−1
·
γ
−1
of
G∞
is
a
“proﬁnite
Dehn
automorphism
[α∞
,
γ]
=
α∞
·
γ
·
α∞
multi-twist”
of
G∞
,
i.e.,
[α∞
,
γ]
∈
Dehn(G∞
)
[cf.
Remark
4.8.1].
Moreover,
one
may
verify
easily
that
the
assignment
γ
→
[α∞
,
γ]
determines
a
1-cocycle
π1top
(G)
→
Dehn(G∞
).
Thus,
by
Remark
4.8.1,
(iii),
together
with
the
[easily
veriﬁed]
fact
that
H
1
(Z,

Z

Σ
)
=
{0}
Z
90
Yuichiro
Hoshi
and
Shinichi
Mochizuki

Σ
—
where
we
take
the
action
of
Z
on
Z
Z
to
be
the
action
determined

Σ
and
the
action
of
Z
on
the
index
set
by
the
trivial
action
of
Z
on
Z
Z
given
by
addition
—
we
conclude
that
there
exists
an
element
β
∈
Dehn(G∞
)
such
that
the
automorphism
β
◦
α∞
commutes
with
the
natural
action
of
π1top
(G)
on
G∞
.
In
particular,
it
follows
from
Lemma
4.3,
(ii),
that
β◦α∞
determines
an
element
αG
∈
Aut|grph|
(G)
of
Aut|grph|
(G).
Now
since
β
∈
Dehn(G∞
),
it
follows
immediately
from
the
various
def∼
initions
involved
that
ρVert
(αG
)
=
α
∈
Glu(G)
→
Aut|grph|
(G[0,0]
).
This
G
completes
the
proof
of
the
claim
(∗2
).
Finally,
we
claim
that
is
sur(∗3
):
for
arbitrary
G,
the
homomorphism
ρVert
G
jective.
We
verify
this
claim
(∗3
)
by
induction
on
Node(G)
.
If
Node(G)
≤
1,
then
this
follows
immediately
from
the
claims
(∗1
),
(∗2
).
Now
suppose
that
Node(G)
>
1,
and
that
the
induction
hypothesis
is
in
force.
Let
e
∈
Node(G)
be
a
node
of
G.
Write
H
for
the
unique
sub-semigraph
of
PSC-type
of
G
whose
set
of
vertices
is
V(e).
Then
one
may
def
verify
easily
that
S
=
Node(G|H
)
\
{e}
is
not
of
separating
type
as
a
subset
of
Node(G|H
).
Thus,
since
(G|H
)S
has
precisely
one
node,
and
(αv
)v∈V(e)
may
be
regarded
as
an
element
of
Glu((G|H
)S
),
it
follows
from
the
claims
(∗1
),
(∗2
)
that
there
exists
an
automorphism
β
∈
Aut|grph|
((G|H
)S
)
of
(G|H
)S
such
that
ρVert
(G|H
)S
(β)
=
(αv
)v∈V(e)
∈
Glu((G|H
)S
).
Write
β{e}
∈
Aut|grph|
(((G|H
)S
){e}
)
for
the
automorphism
of
((G|H
)S
){e}
determined
by
β
∈
Aut|grph|
((G|H
)S
)
[cf.
Proposition
2.9,
(ii)].
Then
it
follows
immediately
from
Corollary
3.9,
(i),
together
with
the
deﬁnition
of
a
generization
[cf.,
especially,
the
definition
of
the
anabelioids
corresponding
to
the
vertices
of
a
generization
given
in
Deﬁnition
2.8,
(vi)],
that
the
element
γ
def
=
∈
(β{e}
,
(αv
)v∈V(e)
)

Aut|grph|
(((G|H
)S
){e}
)
×
v∈V(e)
Aut|grph|
(G|v
)
may
be
regarded
as
an
element
of
Glu(G{e}
).
Now
since
Node(G{e}
)
<
Node(G)
,
it
follows
from
the
induction
hypothesis
that
there
exists
an
automorphism
α{e}
∈
Aut|grph|
(G{e}
)
of
G{e}
such
that
ρVert
G{e}
(α{e}
)
=
γ
∈
Glu(G{e}
).
On
the
other
hand,
since
β{e}
arises
from
an
element
β
of
Aut|grph|
((G|H
)S
),
it
follows
immediately
from
[CmbGC],
Proposition
1.5,
(ii),
that
α{e}
∈
Aut|grph|
(G{e}
)
is
contained
in
the
image
of
Aut|grph|
(G)
→
Aut|grph|
(G{e}
)
[cf.
Proposition
2.9,
(ii)].
Moreover,
since
ρVert
(G|H
)S
(β)
=
(αv
)v∈V(e)
∈
Glu((G|H
)S
),
Combinatorial
anabelian
topics
I
91
it
follows
immediately
from
our
original
characterization
of
α{e}
that
(α{e}
)
=
(αv
)v∈Vert(G)
∈
Glu(G).
Thus,
we
conclude
that
ρVert
is
ρVert
G
G
surjective,
as
desired.
This
completes
the
proof
of
the
claim
(∗3
),
hence
also
of
assertion
(ii).
Next,
we
verify
assertion
(iii).
First,
let
us
observe
that
one
may
verify
easily
that
there
exist
a
semi-graph
of
anabelioids
of
pro-Σ
PSCtype
H
that
is
totally
degenerate
[cf.
Deﬁnition
2.3,
(iv)],
a
subset
S
⊆
∼
Node(H),
and
an
isomorphism
of
semi-graphs
of
anabelioids
HS
→
|grph|
G.
Now
since
we
have
a
natural
injection
Aut
(H)
→
∼
|grph|
|grph|
Aut
(HS
)
→
Aut
(G)
[cf.
Proposition
2.9,
(ii)],
it
follows
immediately
from
Corollary
3.9,
(i),
that
to
verify
assertion
(iii),
by
replacing
G
by
H,
we
may
assume
without
loss
of
generality
that
G
is
totally
degenerate.
On
the
other
hand,
it
follows
immediately
from
assertion
(ii),
together
with
Corollary
3.9,
(ii),
that
to
verify
assertion
(iii),
it
suﬃces
to
verify
the
surjectivity
of
χG|v
for
each
v
∈
Vert(G).
Thus,
to
verify
assertion
(iii),
by
replacing
G
by
G|v
,
we
may
assume
without
loss
of
generality
that
G
is
of
type
(0,
3)
[cf.
Deﬁnition
2.3,
(i)].
But
assertion
(iii)
in
the
case
where
G
is
of
type
(0,
3)
follows
immediately
by
considering
the
natural
outer
action
of
the
absolute
Galois
group
Gal(Q/Q)
of
the
ﬁeld
of
rational
numbers
Q
—
where
we
use
the
notation
Q
to
denote
an
algebraic
closure
of
Q
—
on
the
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
associated
to
the
tripod
P1Q
\
{0,
1,
∞}
over
Q.
This
completes
the
proof
of
assertion
(iii).
def
Finally,
we
verify
assertion
(iv).
Write
H
=
(G|H
)S
.
Then
it
follows
immediately
from
assertion
(ii),
together
with
Theorem
4.8,
(iii),
that
the
homomorphism
Aut|grph|
(G)
→
Aut|grph|
(H)
in
question
ﬁts
into
a
commutative
diagram
of
proﬁnite
groups
ρVert
G
1
−−−−→
Dehn(G)
−−−−→
Aut|grph|
(G)
−−−−→
Glu(G)
−−−−→
1
⏐
⏐
⏐
⏐
⏐
⏐



ρVert
H
−→
Glu(H)
−−−−→
1
1
−−−−→
Dehn(H)
−−−−→
Aut|grph|
(H)
−−−
—
where
the
horizontal
sequences
are
exact.
Now
since
the
left-hand
vertical
arrow
is
surjective
[cf.
Theorem
4.8,
(iii),
(iv)],
to
verify
assertion
(iv),
it
suﬃces
to
verify
the
surjectivity
of
the
right-hand
vertical
arrow.
But
this
follows
immediately
from
assertion
(iii),
together
with
the
deﬁnition
of
“Glu(−)”.
This
completes
the
proof
of
assertion
(iv).
Q.E.D.
92
§5.
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Comparison
with
scheme
theory
In
the
present
§,
we
discuss
[cf.
Proposition
5.6;
Theorem
5.7;
Corollaries
5.9,
5.10
below]
the
relationship
between
intrinsic,
group-theoretic
properties
of
proﬁnite
Dehn
multi-twists
[such
as
length,
nondegeneracy,
and
positive
deﬁniteness
—
cf.
Deﬁnitions
5.1;
5.8,
(ii),
(iii)
below]
and
scheme-theoretic
characterizations
of
properties
of
outer
representations
of
pro-Σ
PSC-type
[such
as
length,
strict
nodal
nondegeneracy,
and
IPSC-ness
—
cf.
Deﬁnition
5.3,
(ii)
below;
[NodNon],
Deﬁnition
2.4,
(i),
(iii)].
The
resulting
theory
leads
naturally
to
a
proof
of
the
graphicity
of
C-admissible
outomorphisms
contained
in
the
commensurator
of
the
group
of
proﬁnite
Dehn
multi-twists
[cf.
Theorem
5.14
below].
Let
Σ
be
a
nonempty
set
of
prime
numbers
and
G
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type.
Write
G
for
the
underlying
semi-graph
of
G,
ΠG
for
the
[pro-Σ]
fundamental
group
of
G,
and
G
→
G
for
the
universal
covering
of
G
corresponding
to
ΠG
.
Deﬁnition
5.1.
Let
ρ
:
I
→
Aut(G)
(⊆
Out(ΠG
))
be
an
outer
representation
of
pro-Σ
PSC-type
[cf.
[NodNon],
Deﬁnition
2.1,
(i)]
which

an
is
of
NN-type
[cf.
[NodNon],
Deﬁnition
2.4,
(iii)]
and
e
∈
Node(G)
out

Write
ΠI
def
=
ΠG

I
[cf.
the
discussion
entitled
element
of
Node(G).
“Topological
groups”
in
§0];
v,
w

∈
Vert(G)
for
the
two
distinct
elements

such
that
V(
of
Vert(G)
e)
=
{
v
,
w}

[cf.
[NodNon],
Remark
1.2.1,
(iii)];

Ie,
Iv
,
Iw
⊆
ΠI
for
the
inertia
subgroups
of
ΠI
associated
to
e,
v,
w,
respectively,
i.e.,
the
centralizers
of
Πe,
Πv
,
Πw
⊆
ΠI
in
ΠI
,
respectively
[cf.
[NodNon],
Deﬁnition
2.2].
Then
it
follows
from
condition
(3)
of
[NodNon],
Deﬁnition
2.4,
that
the
natural
homomorphism
Iv
×
Iw
→
Ie
is
an
open
injection.
Write
def
e,
ρ)
=
[Ie
:
Iv
×
Iw
]
lngΣ
G
(
for
the
index
of
Iv
×
Iw
in
Ie;
we
shall
refer
to
lngΣ
e,
ρ)
as
the
Σ-length
G
(
of
e
with
respect
to
ρ.
Note
that
it
follows
immediately
from
the
various
deﬁnitions
involved
that
the
Σ-length
of
e
with
respect
to
ρ
depends
only
def
on
e
=
e(G)
∈
Node(G)
and
ρ.
Write
def
Σ
e,
ρ)
;
lngΣ
G
(e,
ρ)
=
lngG
(
we
shall
refer
to
lngΣ
G
(e,
ρ)
as
the
Σ-length
of
e
∈
Node(G)
with
respect
to
ρ.
Combinatorial
anabelian
topics
I
93
Lemma
5.2
(Outer
representations
of
SVA-type
and
proﬁnite
Dehn
multi-twists).
Let
ρ
:
I
→
Aut(G)
(⊆
Out(ΠG
))
be
an
outer
representation
of
pro-Σ
PSC-type
which
is
of
SVA-type
[cf.
[NodNon],

an
element
of
Node(G).

Write
Deﬁnition
2.4,
(ii)]
and
e
∈
Node(G)
def
out
ΠI
=
ΠG

I
[cf.
the
discussion
entitled
“Topological
groups”
in

for
the
two
distinct
elements
of
Vert(G)

such
that
§0];
v,
w

∈
Vert(G)
V(
e)
=
{
v
,
w}

[cf.
[NodNon],
Remark
1.2.1,
(iii)];
Ie,
Iv
,
Iw
⊆
ΠI
for
def
the
inertia
subgroups
of
ΠI
associated
to
e,
v,
w,

respectively;
e
=
e(G);
def
v
=
v(G).
Then
the
following
hold:
(i)
(Outer
representations
of
SVA-type
and
proﬁnite
Dehn
multi-twists)
The
outer
representation
ρ
factors
through
the
closed
subgroup
Dehn(G)
⊆
Aut(G).
By
abuse
of
notation,
write
ρ
for
the
resulting
homomorphism
I
→
Dehn(G).
(ii)
(Outer
representations
of
SVA-type
and
homomorphisms
of
Dehn
coordinates)
The
natural
inclusions
Iv
,
Iw
→
Ie
and
the
composite
Ie
→
ΠI

I
determine
a
diagram
of
proﬁnite
groups
Iv
×
Iw
⏐
⏐

1
−−−−→
Πe
−−−−→
Ie
−−−−→
I
−−−−→
1
—
where
the
lower
horizontal
sequence
is
exact,
and
the
closed
subgroups
Iv
,
Iw
⊆
Ie
determine
sections
of
the
surjection
Ie

I,
respectively
—
hence
also
homomorphisms
syn
bv
∼
∼
∼
syn
v
∼
I
←
Iv
→
Ie/Iw
←
Πe
=
Πe
→
Λv
→
ΛG
∼
—
where
the
ﬁrst
“←”
denotes
the
isomorphism
given
by
the
composite
Iv
→
ΠI

I,
and
bv
denotes
the
branch
of
e
determined
by
the
[unique]
branch
of
e
that
abuts
to
v.
Moreover,
the
composite
of
these
homomorphisms
I
→
ΛG
coincides
with
the
composite
ρ
D
e
I
−→
Dehn(G)
−→
ΛG
[cf.
(i);
Deﬁnition
4.7].
In
particular,
if
ρ
is
of
SNN-type
[cf.
[NodNon],
Deﬁnition
2.4,
(iii)],
then
the
image
of
the
94
Yuichiro
Hoshi
and
Shinichi
Mochizuki
ρ
D
composite
I
→
Dehn(G)
→e
ΛG
coincides
with
lngΣ
G
(e,
ρ)
·
ΛG
⊆
ΛG
.
(iii)
(Centralizers
and
cyclotomic
characters)
Suppose
that
ρ
is
of
SNN-type
[cf.
[NodNon],
Deﬁnition
2.4,
(iii)].
Let
e
∈
Node(G)
be
a
node
of
G.
Then
χG
(α)
=
1
[cf.
Deﬁnition
3.8,
(ii)]
for
any
α
∈
ZAut{e}
(G)
(Im(ρ))
⊆
Aut{e}
(G)
[cf.
Deﬁnition
2.6,
(i)].
Proof.
Assertion
(i)
follows
immediately
from
condition
(2
)
of
[NodNon],
Deﬁnition
2.4.
Next,
we
verify
assertion
(ii).
The
fact
that
the
natural
inclusions
Iv
,
Iw
→
Ie
and
the
composite
Ie
→
ΠI

I
give
rise
to
the
diagram
and
homomorphisms
of
the
ﬁrst
and
second
displays
in
the
statement
of
assertion
(ii)
follows
immediately
from
[NodNon],
Lemma
2.5,
(iv);
condition
(2
)
of
[NodNon],
Deﬁnition
2.4.
On
the
other
hand,
it
follows
immediately
from
the
various
deﬁnitions
involved
∼
that
the
image
of
each
β
∈
I
via
the
composite
of
I
←
Iv
with
the
v
]”
of
action
Iv
→
Aut(ΠG
)
given
by
conjugation
coincides
with
the
“α[
Lemma
4.6,
(i),
in
the
case
where
one
takes
“α”
to
be
ρ(β).
Thus,
it
follows
immediately
from
the
deﬁnition
of
Iw
that
the
image
of
β
∈
I
∼
∼
via
the
composite
I
←
Iv
→
Ie/Iw
→
Πe
coincides
with
the
“δe,v
”
of
Lemma
4.6,
(i),
in
the
case
where
one
takes
“α”
to
be
ρ(β).
Therefore,
it
follows
immediately
from
the
deﬁnition
of
De
that
the
homomorphisms
of
the
ﬁnal
two
displays
of
assertion
(ii)
coincide.
Thus,
the
ﬁnal
portion
of
assertion
(ii)
concerning
ρ
of
SNN-type
follows
immediately
from
the
deﬁnition
of
Σ-length.
This
completes
the
proof
of
assertion
(ii).
To
verify
assertion
(iii),
let
us
ﬁrst
observe
that,
by
Theorem
4.8,
(v),
the
con
∼
jugation
action
of
α
∈
Aut{e}
(G)
on
the
ΛG
⊆
Node(G)
ΛG
←
Dehn(G)
indexed
by
e
∈
Node(G)
is
given
by
multiplication
by
χG
(α).
On
the
other
hand,
since
N

lngΣ
G
(e,
ρ)
=
0,
it
follows
from
the
ﬁnal
portion
of
assertion
(ii)
that
the
projection
of
Im(ρ)
to
the
coordinate
indexed
by
e
is
open.
Thus,
the
fact
that
α
lies
in
the
centralizer
ZAut{e}
(G)
(Im(ρ))
implies
that
χG
(α)
=
1,
as
desired.
This
completes
the
proof
of
assertion
(iii).
Q.E.D.
Deﬁnition
5.3.
Let
R
be
a
complete
discrete
valuation
ring
whose
residue
ﬁeld
is
separably
closed
of
characteristic
∈
Σ;
π
∈
R
a
prime
element
of
R;
vR
the
discrete
valuation
of
R
such
that
vR
(π)
=
1;
def
S
log
the
log
scheme
obtained
by
equipping
S
=
Spec
R
with
the
log
structure
deﬁned
by
the
maximal
ideal
(π)
⊆
R
of
R;
slog
the
log
scheme
Combinatorial
anabelian
topics
I
95
obtained
by
equipping
the
spectrum
s
of
the
residue
ﬁeld
of
R
with
the
log
structure
induced
by
the
log
structure
of
S
log
via
the
natural
closed
immersion
s
→
S;
X
log
a
stable
log
curve
over
S
log
;
GX
log
the
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
determined
by
the
special
def
ﬁber
Xslog
=
X
log
×S
log
slog
of
the
stable
log
curve
X
log
[cf.
[CmbGC],

Σ
)
the
maximal
pro-Σ
completion
of
the
log
Example
2.5];
IS
log
(≃
Z
fundamental
group
π1
(S
log
)
of
S
log
.
(i)
One
may
verify
easily
that
the
natural
outer
representation
IS
log
→
Aut(GX
log
)
associated
to
the
stable
log
curve
X
log
over
S
log
factors
through
Dehn(GX
log
)
⊆
Aut(GX
log
).
We
shall
write
ρXslog
:
IS
log
−→
Dehn(GX
log
)
for
the
resulting
homomorphism.
(ii)
It
follows
from
the
well-known
local
structure
of
a
stable
log
curve
in
a
neighborhood
of
a
node
that
for
each
node
e
of
the
special
ﬁber
of
X
log
,
there
exists
a
nonzero
element
ae
=
0
of
X,e
of
the
maximal
ideal
(π)
⊆
R
such
that
the
completion
O
the
local
ring
OX,e
at
e
is
isomorphic
to
R[[s1
,
s2
]]/(s1
s2
−
ae
)
—
where
s1
,
s2
denote
indeterminates.
Write
Σ
Σ
lngX
log
(e)
=
vR
(ae
);
lngΣ
X
log
(e)
=
[Z
:
lngX
log
(e)
·
Z
].
def
def
We
shall
refer
to
lngX
log
(e)
as
the
length
of
e
and
to
lngΣ
X
log
(e)
as
the
Σ-length
of
e.
One
veriﬁes
easily
that
lngX
log
(e),
hence
also
lngΣ
X
log
(e),
depends
only
on
e,
i.e.,
is
independent
of
the
X,e
≃
R[[s1
,
s2
]]/(s1
s2
−
ae
).
choice
of
the
isomorphism
O
Lemma
5.4
(Local
geometric
universal
outer
representations).
In
the
notation
of
Deﬁnition
5.3,
suppose
that
GX
log
is
of
type
def
(g,
r)
[cf.
Deﬁnition
2.3,
(i);
Remark
2.3.1].
Write
N
=
Node(GX
log
)
log
and
σ
log
:
S
log
→
(Mg,r
)S
[cf.
the
discussion
entitled
“Curves”
in
§0]
for
the
classifying
morphism
of
the
stable
log
curve
X
log
over
S
log
.
Then
the
following
hold:
(i)
(Local
structure
of
the
moduli
stack
of
pointed
sta
for
the
completion
of
the
local
ring
of
ble
curves)
Write
O
96
Yuichiro
Hoshi
and
Shinichi
Mochizuki
(Mg,r
)S
at
the
image
of
the
closed
point
of
S
via
the
underlying
(1-)morphism
of
stacks
σ
of
σ
log
and
T
log
for
the
def

with
the
log
[fs]
log
scheme
obtained
by
equipping
T
=
Spec
O
log
structure
induced
by
the
log
structure
of
(Mg,r
)S
.
[Thus,
we
have
a
tautological
strict
[cf.
[Illu],
1.2]
(1-)morphism
T
log
→
log
(Mg,r
)S
.]
Then
there
exists
an
isomorphism
of
R-algebras
∼

R[[t1
,
·
·
·
,
t3g−3+r
]]
→
O
such
that
the
following
hold:
•
The
log
structure
of
the
log
scheme
T
log
is
given
by
the
following
chart:

∼

e∈Node(G
)
Ne
−→
R[[t1
,
·
·
·
,
t3g−3+r
]]
→
O
X
log
(ne1
,
·
·
·
,
neN
)
→
n
ne
t1
e1
·
·
·
tN
N
—
where
we
write
Ne
for
the
copy
of
N
indexed
by
e
∈
Node(GX
log
).
•
(ii)
→R
For
1
≤
i
≤
N
,
the
homomorphism
of
R-algebras
O
induced
by
the
morphism
σ
maps
ti
to
aei
[cf.
Deﬁnition
5.3,
(ii)].
(Log-scheme-theoretic
description
of
log
fundamental
groups)
Write
IT
log
for
the
maximal
pro-Σ
quotient
of
the
log
fundamental
group
π1
(T
log
)
of
T
log
.
Then
we
have
natural
isomorphisms


∼

Σ
(1)
;
IS
log
→
Hom
Ngp
,
Z
IT
log


gp

Σ
Hom
N
,
Z
(1)
e∈Node(G
log
)
e
X



∼
gp

Σ
→
e∈Node(G
)
Hom
Ne
,
Z
(1)
,
∼
→
X
log
and
the
homomorphism
IS
log
→
IT
log
induced
by
the
classifying
morphism
σ
log
is
the
homomorphism
obtained
by
applying

Σ
(1))”
to
the
homomorphism
of
the
functor
“HomZ
Σ
((−)gp
,
Z
monoids

N
e∈Node(G
log
)
Ne
−→
X
.
N
(ne1
,
·
·
·
,
neN
)
→
i=1
nei
lngX
log
(ei
)
(iii)
(Local
geometric
universal
outer
representations)
The
natural
outer
representation
IT
log
→
Aut(GX
log
)
associated
to
the
stable
log
curve
over
T
log
determined
Combinatorial
anabelian
topics
I
97
log
by
the
tautological
strict
morphism
T
log
→
(Mg,r
)S
factors
through
Dehn(GX
log
)
⊆
Aut(GX
log
);
thus,
we
have
a
homomorphism
IT
log
→
Dehn(GX
log
).
Moreover,
the
homomorphism
ρXslog
:
IS
log
→
Dehn(GX
log
)
factors
as
the
composite
of
the
homomorphism
IS
log
→
IT
log
induced
by
σ
log
and
this
homomorphism
IT
log
→
Dehn(GX
log
).
Proof.
Assertion
(i)
follows
immediately
from
the
well-known
local
log
structure
of
the
log
stack
(Mg,r
)S
[cf.
[Knud],
Theorem
2.7].
Assertion
(ii)
follows
immediately
from
assertion
(i),
together
with
the
well-known
structure
of
the
log
fundamental
groups
of
S
log
and
T
log
.
Assertion
(iii)
follows
immediately
from
the
various
deﬁnitions
involved.
Q.E.D.
Deﬁnition
5.5.
In
the
notation
of
Deﬁnition
5.3,
Lemma
5.4,
we
shall
write
tlog
for
the
log
scheme
obtained
by
equipping
the
closed
point
t
of
T
with
the
log
structure
naturally
induced
by
the
log
structure
of
T
log
;
Xtlog
for
the
stable
log
curve
over
tlog
corresponding
to
the
natural
log
strict
morphism
tlog
(
→
T
log
)
→
(Mg,r
)S
;
ρuniv
:
IT
log
−→
Dehn(GX
log
)
X
log
t
for
the
homomorphism
obtained
in
Lemma
5.4,
(iii).
Proposition
5.6
(Outer
representations
arising
from
stable
log
curves).
In
the
notation
of
Deﬁnition
5.3,
Lemma
5.4,
the
following
hold:
(i)
(Compatibility
of
Σ-lengths)
Node(GX
log
)
of
GX
log
,
it
holds
that
For
each
node
e∈
Σ
lngΣ
G
log
(e,
ρXslog
)
=
lngX
log
(e)
X
[cf.
Deﬁnitions
5.1;
5.3,
(ii)].
(ii)
(Isomorphicity
of
local
geometric
universal
outer
representations)
The
homomorphism
:
IT
log
−→
Dehn(GX
log
)
ρuniv
X
log
t
[cf.
Deﬁnition
5.5]
is
an
isomorphism
of
proﬁnite
groups.
98
Yuichiro
Hoshi
and
Shinichi
Mochizuki
(iii)
(Compatibility
with
generization)
Let
Q
⊆
Node(GX
log
)
be
a
subset
of
Node(GX
log
).
Then
there
exist
a
stable
log
curve
Y
log
over
S
log
and
an
isomorphism
of
semi-graphs
of
anabe∼
lioids
(GX
log
)Q
→
GY
log
that
ﬁt
into
a
commutative
diagram
of
proﬁnite
groups
ρuniv
log
Y
IT
log
−−−t−→
Dehn(GY
log
)
⏐
⏐Y
⏐
⏐


ρuniv
log
X
IT
log
−−−t−→
Dehn(GX
log
)
X
—
where
we
write
IT
log
,
IT
log
for
the
“IT
log
”
associated
to
X
log
,
X
Y
Y
log
,
respectively;
the
right-hand
vertical
arrow
is
the
natural
∼
inclusion
induced,
via
the
isomorphism
(GX
log
)Q
→
GY
log
,
by
the
natural
inclusion
of
Theorem
4.8,
(ii);
the
left-hand
vertical
arrow
is
the
injection
induced,
via
the
[relevant]
isomorphism
of
Lemma
5.4,
(ii),
by
the
natural
projection
of
monoids


Ne

Ne
.
e∈Node(G
X
log
)
e∈Node(G
Y
log
)
[Note
that
it
follows
immediately
from
the
various
deﬁnitions
∼
involved
that
Node(GY
log
)
←
Node((GX
log
)Q
)
may
be
regarded
as
a
subset
of
Node(GX
log
).]
(iv)
(Compatibility
with
specialization)
Let
H
be
a
semi-graph
∼
of
anabelioids
of
pro-Σ
PSC-type,
Q
⊆
Node(H),
and
HQ
→
GX
log
an
isomorphism
of
semi-graphs
of
anabelioids.
Then
there
exist
a
stable
log
curve
Y
log
over
S
log
and
an
isomor∼
phism
of
semi-graphs
of
anabelioids
H
→
GY
log
that
ﬁt
into
a
commutative
diagram
of
proﬁnite
groups
ρuniv
log
X
IT
log
−−−t−→
Dehn(GX
log
)
⏐X
⏐
⏐
⏐


ρuniv
log
Y
IT
log
−−−t−→
Dehn(GY
log
)
Y
—
where
we
write
IT
log
,
IT
log
for
the
“IT
log
”
associated
to
X
log
,
X
Y
Y
log
,
respectively;
the
right-hand
vertical
arrow
is
the
natural
Combinatorial
anabelian
topics
I
99
∼
inclusion
induced,
via
the
isomorphisms
HQ
→
GX
log
and
∼
H
→
GY
log
,
by
the
natural
inclusion
of
Theorem
4.8,
(ii);
the
left-hand
vertical
arrow
is
the
injection
induced,
via
the
[relevant]
isomorphism
of
Lemma
5.4,
(ii),
by
the
natural
projection
of
monoids


Ne

Ne
.
e∈Node(G
Y
log
)
e∈Node(G
X
log
)
[Note
that
it
follows
immediately
from
the
various
deﬁnitions
∼
involved
that
Node(GX
log
)
←
Node(HQ
)
may
be
regarded
as
∼
a
subset
of
Node(GY
log
)
←
Node(H).]
(v)
(Input
compatibility
with
“surgery”)
Let
H
be
a
subsemi-graph
of
PSC-type
[cf.
Deﬁnition
2.2,
(i)]
of
the
underlying
semi-graph
of
GX
log
,
Q
⊆
Node((GX
log
)|H
)
[cf.
Definition
2.2,
(ii)]
a
subset
of
Node((GX
log
)|H
)
that
is
not
of
separating
type
[cf.
Deﬁnition
2.5,
(i)],
and
U
⊆
Cusp(((GX
log
)|H
)Q
)
[cf.
Deﬁnition
2.5,
(ii)]
an
omittable
[cf.
Deﬁnition
2.4,
(i)]
subset
of
Cusp(((GX
log
)|H
)Q
).
Then
there
exist
a
stable
log
curve
Y
log
over
S
log
and
an
isomor∼
phism
(((GX
log
)|H
)Q
)•U
→
GY
log
[cf.
Deﬁnition
2.4,
(ii)]
that
ﬁt
into
a
commutative
diagram
of
proﬁnite
groups
ρuniv
log
X
IS
log
−−−−→
IT
log
−−−t−→
Dehn(GX
log
)

⏐X
⏐

⏐
⏐



ρuniv
log
Y
IS
log
−−−−→
IT
log
−−−t−→
Dehn(GY
log
)
Y
—
where
we
write
IT
log
,
IT
log
for
the
“IT
log
”
associated
to
X
Y
X
log
,
Y
log
,
respectively;
the
left-hand
horizontal
arrows
are
the
homomorphisms
induced
by
the
classifying
morphisms
associated
to
X
log
,
Y
log
,
respectively;
the
right-hand
vertical
arrow
is
the
natural
surjection
induced,
via
the
isomorphism
∼
(((GX
log
)|H
)Q
)•U
→
GY
log
,
by
the
natural
surjection
of
Theorem
4.8,
(iii);
the
middle
vertical
arrow
is
the
surjection
induced,
via
the
[relevant]
isomorphism
of
Lemma
5.4,
(ii),
by
the
natural
inclusion
of
monoids


Ne
→
Ne
.
e∈Node(G
Y
log
)
e∈Node(G
X
log
)
100
Yuichiro
Hoshi
and
Shinichi
Mochizuki
[Note
that
it
follows
immediately
from
the
various
deﬁnitions
∼
involved
that
Node(GY
log
)
←
Node((((GX
log
)|H
)Q
)•U
)
may
be
regarded
as
a
subset
of
Node(GX
log
).]
(vi)
(Output
compatibility
with
“surgery”)
Let
H
be
a
semigraph
of
anabelioids
of
pro-Σ
PSC-type,
K
a
sub-semi-graph
of
PSC-type
[cf.
Deﬁnition
2.2,
(i)]
of
the
underlying
semigraph
of
H,
Q
⊆
Node(H|K
)
[cf.
Deﬁnition
2.2,
(ii)]
a
subset
of
Node(H|K
)
that
is
not
of
separating
type
[cf.
Deﬁnition
2.5,
(i)],
U
⊆
Cusp((H|K
)Q
)
[cf.
Deﬁnition
2.5,
(ii)]
an
omittable
[cf.
Deﬁnition
2.4,
(i)]
subset
of
Cusp((H|K
)Q
),
∼
and
((H|K
)Q
)•U
→
GX
log
[cf.
Deﬁnition
2.4,
(ii)]
an
isomorphism
of
semi-graphs
of
anabelioids.
Then
there
exist
a
stable
log
curve
Y
log
over
S
log
and
an
isomorphism
of
semi-graphs
of
∼
anabelioids
H
→
GY
log
that
ﬁt
into
a
commutative
diagram
of
proﬁnite
groups
ρuniv
log
Y
IS
log
−−−−→
IT
log
−−−t−→
Dehn(GY
log
)
⏐
⏐Y

⏐
⏐




ρuniv
log
X
IS
log
−−−−→
IT
log
−−−t−→
Dehn(GX
log
)
X
—
where
we
write
IT
log
,
IT
log
for
the
“IT
log
”
associated
to
X
Y
X
log
,
Y
log
,
respectively;
the
left-hand
horizontal
arrows
are
the
homomorphisms
induced
by
the
classifying
morphisms
associated
to
Y
log
,
X
log
,
respectively;
the
right-hand
vertical
arrow
is
the
natural
surjection
induced,
via
the
isomorphisms
∼
∼
((H|K
)Q
)•U
→
GX
log
and
H
→
GY
log
,
by
the
natural
surjection
of
Theorem
4.8,
(iii);
the
middle
vertical
arrow
is
the
surjection
induced,
via
the
[relevant]
isomorphism
of
Lemma
5.4,
(ii),
by
the
natural
inclusion
of
monoids


Ne
→
Ne
.
e∈Node(G
X
log
)
e∈Node(G
Y
log
)
[Note
that
it
follows
immediately
from
the
various
deﬁnitions
∼
involved
that
Node(GX
log
)
←
Node(((H|K
)Q
)•U
)
may
be
re∼
garded
as
a
subset
of
Node(GY
log
)
←
Node(H).]
Proof.
Assertion
(i)
follows
immediately
from
the
well-known
local
structure
of
a
stable
log
curve
in
a
neighborhood
of
a
node.
Next,
Combinatorial
anabelian
topics
I
101
we
verify
assertion
(ii).
By
allowing
“ρXslog
”
to
vary
among
the
natural
outer
representations
IS
log
→
Dehn(GX
log
)
associated
to
stable
log
curves
“X
log
”
over
S
log
whose
classifying
morphisms
“σ”
coincide
with
the
given
σ
on
the
closed
point
s
of
S,
one
concludes
that
the
surjecfollows
immediately
from
the
ﬁnal
portion
of
Lemma
5.2,
tivity
of
ρuniv
X
log
t
(ii),
concerning
ρ
of
SNN-type
[cf.
also
assertion
(i);
Theorem
4.8,
(iv)].
[Here,
we
recall
that
ρXslog
is
of
IPSC-type
[cf.
[NodNon],
Deﬁnition
2.4,
(i)],
hence
also
of
SNN-type
[cf.
[NodNon],
Remark
2.4.2].]
On
the

Σ
-modules
of
other
hand,
since
both
Dehn(GX
log
)
and
IT
log
are
free
Z

rank
Node(GX
log
)
[cf.
Theorem
4.8,
(iv);
Lemma
5.4,
(ii)],
assertion
(ii)
.
This
completes
the
follows
immediately
from
this
surjectivity
of
ρuniv
X
log
t
proof
of
assertion
(ii).
Assertion
(iii)
(respectively,
(iv))
follows
immediately,
in
light
of
log
the
well-known
structure
of
(Mg,r
)S
[cf.
also
the
discussion
entitled
“The
Étale
Fundamental
Group
of
a
Log
Scheme”
in
[CmbCsp],
§0,
concerning
the
specialization
isomorphism
on
fundamental
groups,
as
well
as
Remark
5.6.1
below],
by
considering
a
lifting
to
S
log
of
a
stable
log
curve
over
slog
obtained
by
deforming
the
nodes
of
the
special
def
ﬁber
Xslog
=
X
log
×S
log
slog
corresponding
to
the
nodes
contained
in
Q
(respectively,
degenerating
the
moduli
of
Xslog
so
as
to
obtain
nodes
corresponding
to
the
nodes
contained
in
Q)
[cf.
also
Proposition
4.10,
(iii)].
Next,
we
verify
assertion
(v).
First,
we
observe
that
one
may
verify
easily
that
if
H
is
the
underlying
semi-graph
of
GX
log
,
and
Q
=
∅,
then
the
stable
log
curve
Y
log
over
S
log
obtained
by
omitting
the
cusps
of
X
log
∼
contained
in
U
and
the
resulting
natural
isomorphism
(GX
log
)•U
→
GY
log
satisfy
the
conditions
given
in
the
statement
of
assertion
(v).
Thus,
one
veriﬁes
immediately
that
to
verify
assertion
(v),
we
may
assume
without
loss
of
generality
that
U
=
∅.
def
def
Write
H
=
((GX
log
)|H
)Q
and
V
=
Vert(GX
log
)
\
Vert((GX
log
)|H
)
⊆
Vert(GX
log
).
Denote
by
(gH
,
rH
)
the
type
of
H,
and,
for
each
v
∈
V
,
by
(gv
,
rv
)
the
type
of
v
[cf.
Deﬁnition
2.3,
(i),
(iii);
Remark
2.3.1].
Then
it
follows
immediately
from
the
general
theory
of
stable
log
curves
that
there
exists
a
“clutching
(1-)morphism”
corresponding
to
the
operations
“(−)|H
”
and
“(−)Q
”
[i.e.,
obtained
by
forming
appropriate
composites
of
the
clutching
morphisms
discussed
in
[Knud],
Deﬁnition
3.6]
def
N
=
(MgH
,rH
)s
×s

v∈V

(Mgv
,rv
)s
−→
(Mg,r
)s
102
Yuichiro
Hoshi
and
Shinichi
Mochizuki

—
where
the
ﬁber
product
“
v∈V
”
is
taken
over
s
—
that
satisﬁes
the
following
condition:
write
N
log
for
the
log
stack
obtained
by
equipping
the
stack
N
with
the
log
structure
induced
by
the
log
structure
log
of
(Mg,r
)s
via
the
above
clutching
morphism;
then
there
exists
an
slog
log
log
∈
N
log
(slog
)
of
N
log
such
that
the
image
of
σN
via
valued
point
σN
log
the
natural
strict
(1-)morphism
N
log
→
(Mg,r
)s
coincides
with
the
slog
log
valued
point
of
(Mg,r
)s
obtained
by
restricting
the
classifying
morphism
log
σ
log
∈
(Mg,r
)S
(S
log
)
of
X
log
to
slog
.
If,
moreover,
we
write
Yslog
for
the
log
∈
N
log
(slog
)
stable
log
curve
over
slog
corresponding
to
the
image
of
σN
via
the
composite
of
(1-)morphisms
def
log
N
log
−→
N
log
=
(MgH
,rH
)s
×s


prlog
log
1
(Mgv
,rv
)s
−→
(MgH
,rH
)s
v∈V
—
where
the
ﬁrst
arrow
is
the
(1-)morphism
of
log
stacks
obtained
by
“forgetting”
the
portion
of
the
log
structure
of
N
log
that
arises
from
[the
log
portion
of
the
log
structure
of
(Mg,r
)s
determined
by]
the
irreducible
components
of
the
divisor
(Mg,r
)s
\
(Mg,r
)s
which
contain
the
image
of
N
→
(Mg,r
)s
—
then
one
veriﬁes
immediately
that,
for
any
stable
log
curve
Y
log
over
S
log
that
lifts
Yslog
,
there
exists
a
natural
identiﬁcation
∼
isomorphism
H
=
((GX
log
)|H
)Q
→
GY
log
.
Next,
let
us
observe
that
by
applying
the
various
deﬁnitions
inlog
volved,
together
with
the
fact
that
the
(1-)morphism
N
log
→
(Mg,r
)S
is
strict,
one
may
verify
easily
that
the
restrictions
of
the
natural
(1)morphisms
of
log
stacks
log
prlog
log
1
N
log
←−
N
log
−→
(Mg,r
)s
(MgH
,rH
)s
←−
to
a
suitable
étale
neighborhood
of
the
underlying
morphism
of
stacks
log
of
σN
∈
N
log
(slog
)
induce
the
following
morphisms
between
the
charts
log
log
of
(MgH
,rH
)s
,
N
log
,
N
log
,
and
(Mg,r
)s
determined
by
the
chart
of
log
“(Mg•
,r•
)s
”
given
in
Lemma
5.4,
(i):



∼
N
→
N
⊕
{0}
e∈Node(H)
e
e∈Node(H)
e
→

e∈Node(G
)
X
log
Ne
∼
←

e∈Node(G
X
log
)
Ne
—
where
we
use
the
notation
Ne
to
denote
a
copy
of
the
monoid
N
indexed
by
e,
and
the
“
→”
is
the
natural
inclusion
determined
by
the
Combinatorial
anabelian
topics
I
103
natural
inclusion
Node(H)
→
Node(G).
Thus,
by
applying
the
func
Σ
(1))”
to
the
homomorphism

tor
“HomZ
Σ
((−)gp
,
Z
e∈Node(H)
Ne
→

N
obtained
by
composing
the
morphisms
of
the
above
e∈Node(G
)
e
X
log
display
and
considering
the
[relevant]
isomorphism
of
Lemma
5.4,
(ii),
we
obtain
a
homomorphism
IT
log
→
IT
log
,
which
makes
the
left-hand
X
Y
square
of
the
diagram
in
the
statement
of
assertion
(v)
commute.
On
the
other
hand,
to
verify
the
commutativity
of
the
right-hand
square
of
the
diagram
in
the
statement
of
assertion
(v),
let
us
observe
that
by
Theorem
4.8,
(iv),
it
suﬃces
to
verify
that
for
any
node
e
∈
Node(GY
log
)
of
GY
log
,
the
two
composites
ρuniv
log
De
X
∼
X
t
Dehn(GX
log
)
−→
ΛG
log
−→
ΛG
log
;
IT
log
−→
X
X
ρuniv
log
Y
Y
D
t
e
IT
log
−→
IT
log
−→
Dehn(GY
log
)
−→
ΛG
log
X
Y
Y
—
where
we
write
eX
for
the
node
of
GX
log
corresponding
to
the
node
e
∈
Node(GY
log
)
via
the
natural
inclusion
Node(GY
log
)
→
Node(GX
log
)
—
coincide.
But
this
follows
immediately
by
comparing
the
natural
action
of
IT
log
on
the
portion
of
GX
log
corresponding
to
{eX
}
∪
V(eX
)
X
with
the
natural
action
of
IT
log
on
the
portion
of
GY
log
corresponding
to
Y
{e}
∪
V(e).
This
completes
the
proof
of
assertion
(v).
Finally,
we
verify
assertion
(vi).
First,
we
observe
that
one
may
verify
easily
that
if
K
is
the
underlying
semi-graph
of
H,
and
Q
=
∅,
then
the
stable
log
curve
Y
log
over
S
log
obtained
by
equipping
X
log
with
∼
suitable
cusps
satisﬁes,
for
a
suitable
choice
of
isomorphism
H
→
GY
log
,
the
conditions
given
in
the
statement
of
assertion
(vi).
Thus,
one
veriﬁes
immediately
that
to
verify
assertion
(vi),
we
may
assume
without
loss
of
generality
that
U
=
∅.
def
Write
V
=
Vert(H)
\
Vert(H|K
)
⊆
Vert(H).
Denote
by
(gH
,
rH
)
the
type
of
H,
and,
for
each
v
∈
V
,
by
(gv
,
rv
)
the
type
of
v.
Then
it
follows
immediately
from
the
general
theory
of
stable
log
curves
that
there
exists
a
clutching
“(1-)morphism”
corresponding
to
the
operations
“(−)|K
”
and
“(−)Q
”
[i.e.,
obtained
by
forming
appropriate
composites
of
the
clutching
morphisms
discussed
in
[Knud],
Deﬁnition
3.6]


def
(Mgv
,rv
)s
−→
(MgH
,rH
)s
N
=
(Mg,r
)s
×s
v∈V

—
where
the
ﬁber
product
“
v∈V
”
is
taken
over
s
—
that
satisﬁes
the
following
condition:
write
N
log
for
the
log
stack
obtained
by
equipping
the
stack
N
with
the
log
structure
induced
by
the
log
structure
104
Yuichiro
Hoshi
and
Shinichi
Mochizuki
log
of
(MgH
,rH
)s
via
the
above
clutching
morphism;
then
there
exists
an
log
log
∈
N
log
(slog
)
of
N
log
such
that
the
image
of
σN
∈
slog
-valued
point
σN
log
log
N
(s
)
via
the
composite
of
(1-)morphisms
def
log
N
log
−→
N
log
=
(Mg,r
)s
×s


prlog
log
1
(Mgv
,rv
)s
−→
(Mg,r
)s
v∈V
—
where
the
ﬁrst
arrow
is
the
(1-)morphism
of
log
stacks
obtained
by
“forgetting”
the
portion
of
the
log
structure
of
N
log
that
arises
from
log
[the
portion
of
the
log
structure
of
(MgH
,rH
)s
determined
by]
the
irreducible
components
of
the
divisor
(MgH
,rH
)s
\
(MgH
,rH
)s
which
contain
the
image
of
N
→
(MgH
,rH
)s
—
coincides
with
the
slog
-valued
log
point
of
(Mg,r
)s
obtained
by
restricting
the
classifying
morphism
σ
log
∈
log
(Mg,r
)S
(S
log
)
of
X
log
to
slog
.
If,
moreover,
we
write
Yslog
for
the
stable
log
log
curve
over
slog
corresponding
to
the
image
of
σN
∈
N
log
(slog
)
via
log
the
natural
strict
(1-)morphism
N
log
→
(MgH
,rH
)s
,
then
one
veriﬁes
immediately
that,
for
any
stable
log
curve
Y
log
over
S
log
that
lifts
Yslog
,
there
exist
a
sub-semi-graph
of
PSC-type
K
of
the
underlying
semi-graph
of
GY
log
,
a
subset
Q
⊆
Node((GY
log
)|K
),
and
an
isomorphism
of
semi∼
graphs
of
anabelioids
H
→
GY
log
that
satisfy
the
following
conditions:
(a)
((GY
log
)|K
)Q
may
be
naturally
identiﬁed
with
GX
log
.
∼
∼
(b)
The
isomorphism
H
→
GY
log
induces
an
isomorphism
K
→
K
∼
∼
and
a
bijection
Q
→
Q
,
hence
also
an
isomorphism
(H|K
)Q
→
((GY
log
)|K
)Q
.
(c)
The
automorphism
of
GX
log
determined
by
the
composite
∼
∼
∼
GX
log
←−
(H|K
)Q
−→
((GY
log
)|K
)Q
−→
GX
log
—
where
the
ﬁrst
arrow
is
the
isomorphism
given
in
the
statement
of
assertion
(vi);
the
second
arrow
is
the
isomorphism
of
(b);
the
third
arrow
is
the
natural
isomorphism
arising
from
the
natural
identiﬁcation
of
(a)
—
is
contained
in
Aut|grph|
(GX
log
),
and,
moreover,
the
automorphism
of
ΛG
log
induced
by
this
auX
tomorphism
of
GX
log
is
the
identity
automorphism
[cf.
Proposition
4.10,
(iii)].
Thus,
by
applying
a
similar
argument
to
the
argument
used
in
the
proof
of
assertion
(v),
one
veriﬁes
easily
that
the
stable
log
curve
Y
log
and
the
Combinatorial
anabelian
topics
I
105
∼
isomorphism
H
→
GY
log
satisfy
the
conditions
given
in
the
statement
of
assertion
(vi).
This
completes
the
proof
of
assertion
(vi).
Q.E.D.
Remark
5.6.1.
Here,
we
take
the
opportunity
to
correct
a
minor
misprint
in
the
discussion
entitled
“The
Étale
Fundamental
Group
of
a
Log
Scheme”
in
[CmbCsp],
§0.
In
the
third
paragraph
of
this
discussion,
the
ﬁeld
K
should
be
deﬁned
as
a
maximal
algebraic
extension
of
K◦
among
those
extensions
which
are
unramiﬁed
over
US◦
[i.e.,
but
not
necessarily
over
R◦
].
Theorem
5.7
(Compatibility
of
scheme-theoretic
and
abstract
combinatorial
cyclotomic
synchronizations).
Let
(g,
r)
be
a
pair
of
nonnegative
integers
such
that
2g−2+r
>
0;
Σ
a
nonempty
set
of
prime
numbers;
R
a
complete
discrete
valuation
ring
whose
residue
ﬁeld
is
separably
closed
of
characteristic
∈
Σ;
S
log
the
log
scheme
obtained
by
def
equipping
S
=
Spec
R
with
the
log
structure
deﬁned
by
its
closed
point;
log
a
stable
log
curve
of
type
(g,
r)
over
S
log
;
GX
log
the
semi-graph
X
of
anabelioids
of
pro-Σ
PSC-type
determined
by
the
special
ﬁber
of
the

the
completion
of
stable
log
curve
X
log
[cf.
[CmbGC],
Example
2.5];
O
the
local
ring
of
(Mg,r
)S
[cf.
the
discussion
entitled
“Curves”
in
§0]
at
the
image
of
the
closed
point
of
S
via
the
underlying
(1-)morphism
of
stacks
σ
:
S
→
(Mg,r
)S
of
the
classifying
morphism
of
X
log
;
T
log
for
def

with
the
log
structhe
log
scheme
obtained
by
equipping
T
=
Spec
O
log
ture
induced
by
the
log
structure
of
(Mg,r
)S
[cf.
the
discussion
entitled
“Curves”
in
§0];
IT
log
the
maximal
pro-Σ
quotient
of
the
log
fundamental
group
π1
(T
log
)
of
T
log
.
Then
there
exists
an
isomorphism
∼

Σ
(1))
−→
ΛG
synX
log
:
ΛΣ
=
Hom(Ngp
,
Z
log
def
X
[cf.
Deﬁnition
3.8,
(i)]
such
that
the
composite

∼
Σ
IT
log
→
e∈Node(G
)
Λ
[e]

X
log
synX
log
∼
→

e∈Node(G
X
log
)
ΛGX
log
DG
X
log
∼
←
Dehn(GX
log
)
[cf.
Deﬁnitions
4.4;
4.7]
—
where
we
use
the
notation
ΛΣ
[e]
to
denote
a
copy
of
ΛΣ
indexed
by
e
∈
Node(GX
log
),
and
the
ﬁrst
arrow
is
the
[relevant]
isomorphism
of
Lemma
5.4,
(ii)
—
coincides
with
the
outer
:
IT
log
→
Dehn(GX
log
)
[cf.
Deﬁnition
5.5]
associated
representation
ρuniv
X
log
t
106
Yuichiro
Hoshi
and
Shinichi
Mochizuki
to
the
stable
log
curve
over
T
log
corresponding
to
the
tautological
strict
log
(1-)morphism
T
log
→
(Mg,r
)S
.
Proof.
In
light
of
Theorem
4.8,
(ii),
(iv);
Proposition
5.6,
(ii),
by
applying
Proposition
5.6,
(iii),
to
the
various
generizations
of
the
form
“(GX
log
)Node(G
log
)\{e}
”,
it
follows
immediately
that
for
each
node
e
∈
X
Node(GX
log
),
there
exists
a(n)
[necessarily
unique]
isomorphism
∼
synX
log
[e]
:
ΛΣ
[e]
−→
ΛG
log
X
—
where
ΛΣ
[e]
is
a
copy
of
ΛΣ
indexed
by
e
∈
Node(GX
log
)
—
such
that
the
composite

∼
Σ
→
IT
log
e∈Node(G
)
Λ
[e]
X
log

e
synX
log
[e]
∼
→

e∈Node(G
X
log
DG
X
log
∼
←
)
ΛGX
log
Dehn(GX
log
)
∼
—
where
the
ﬁrst
“→”
is
the
[relevant]
isomorphism
of
Lemma
5.4,
(ii)
.
—
coincides
with
ρuniv
Xtlog
Thus,
to
complete
the
proof
of
Theorem
5.7,
it
suﬃces
to
verify
that
this
isomorphism
synX
log
[e]
is
independent
of
the
choice
of
e.
Now
if
Node(GX
log
)
≤
1,
then
this
independence
is
immediate.
Thus,
suppose
that
Node(GX
log
)
>
1
and
ﬁx
two
distinct
nodes
e1
,
e2
∈
Node(GX
log
)
of
GX
log
.
The
rest
of
the
proof
of
Theorem
5.7
is
devoted
to
verifying
that
(‡):
the
two
isomorphisms
Σ
Λ
[e1
]
synX
log
[e1
]
∼
−→
Σ
ΛG
log
,
Λ
[e2
]
X
synX
log
[e2
]
∼
−→
ΛG
log
X
coincide.
Next,
let
us
observe
that
one
may
verify
easily
that
there
exist
•
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
H∗
,
•
a
sub-semi-graph
of
PSC-type
K∗
of
the
underlying
semi-graph
of
H∗
,
•
an
omittable
subset
Q∗
⊆
Cusp((H∗
)|K∗
),
and
•
an
isomorphism
∼
((H∗
)|K∗
)•Q∗
−→
GX
log
Combinatorial
anabelian
topics
I
107
such
that
the
subset
U
∗
⊆
Node(H∗
)
corresponding,
relative
to
the
iso∼
morphism
((H∗
)|K∗
)•Q∗
→
GX
log
,
to
the
subset
{e1
,
e2
}
⊆
Node(GX
log
)
is
not
of
separating
type.
Thus,
it
follows
immediately
from
Proposition
5.6,
(vi)
—
i.e.,
by
replacing
X
log
(respectively,
e1
,
e2
)
by
the
stable
log
curve
“Y
log
”
obtained
by
applying
Proposition
5.6,
(vi),
to
∼
the
isomorphism
((H∗
)|K∗
)•Q∗
→
GX
log
(respectively,
by
the
two
nodes
∈
Node(GY
log
)
corresponding
to
the
two
nodes
∈
U
∗
)
—
that
to
verify
the
above
(‡),
we
may
assume
without
loss
of
generality
that
the
subset
{e1
,
e2
}
⊆
Node(GX
log
)
is
not
of
separating
type.
Thus,
it
follows
immediately
from
Proposition
5.6,
(iii)
—
i.e.,
by
replacing
X
log
(respectively,
e1
,
e2
)
by
the
stable
log
curve
“Y
log
”
obtained
by
applying
Proposition
5.6,
(iii),
to
(GX
log
)Node(G
log
)\{e1
,e2
}
X
(respectively,
by
the
two
nodes
∈
Node(GY
log
)
corresponding
to
e1
,
e2
)
—
that
to
verify
the
above
(‡),
we
may
assume
without
loss
of
generality
that
Node(GX
log
)
=
{e1
,
e2
},
and
that
Node(GX
log
)
=
{e1
,
e2
}
is
not
of
separating
type.
One
veriﬁes
easily
that
these
hypotheses
imply
that
Vert(GX
log
)
=
1.
Next,
let
us
observe
that
one
may
verify
easily
that
there
exist
[cf.
Fig.
6
below]
•
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
H†
,
•
two
distinct
cusps
c†1
,
c†2
∈
Cusp(H†
)
of
H†
,
•
three
distinct
nodes
f1†
,
f2†
,
f3†
∈
Node(H†
)
of
H†
,
and
•
an
isomorphism
(H†
)
†
†
{f1†
,f2†
,f3†
}
•{c1
,c2
}
∼
−→
GX
log
such
that
•
Vert(H†
)
=
{v1†
,
v2†
,
v3†
,
v4†
};
•
for
i
∈
{1,
2},
if
we
write
e†i
∈
Node(H†
)
for
the
node
corre∼
sponding,
relative
to
the
isomorphism
(H†
†
†
†
)•{c†
,c†
}
→
{f1
,f2
,f3
}
1
2
GX
log
,
to
ei
∈
Node(GX
log
),
then
it
holds
that
V(e†i
)
=
{vi†
};
•
V(f1†
)
=
{v1†
,
v3†
},
V(f2†
)
=
{v2†
,
v3†
},
V(f3†
)
=
{v3†
,
v4†
};
•
V(c†1
)
=
V(c†2
)
=
{v4†
};
•
for
i
∈
{1,
2,
3},
vi†
is
of
type
(0,
3)
[cf.
Deﬁnition
2.3,
(iii)].
108
Yuichiro
Hoshi
and
Shinichi
Mochizuki
◦
◦
·
·
··
·
·
•
v4†
f3†
v1†
e†1
•
v2†
f1†
•
v3†
f2†
•
e†2
Figure
6:
The
underlying
semi-graph
of
H†
One
veriﬁes
easily
that
these
hypotheses
imply
that
(N
(v1†
)
∩
N
(v3†
))
=
(N
(v2†
)
∩
N
(v3†
))
=
1.
Thus,
it
follows
immediately
from
Proposition
5.6,
(iv),
(vi)
—
i.e.,
by
replacing
X
log
(respectively,
e1
,
e2
)
by
the
stable
log
curve
“Y
log
”
obtained
by
applying
Proposition
5.6,
(iv),
∼
(vi),
to
the
isomorphism
(H†
†
†
†
)•{c†
,c†
}
→
GX
log
(respectively,
by
{f1
,f2
,f3
}
1
2
the
two
nodes
∈
Node(GY
log
)
corresponding
to
the
two
nodes
e†1
,
e†2
)
—
that
to
verify
the
above
(‡),
we
may
assume
without
loss
of
generality
that
there
exist
vertices
v1
,
v2
,
v3
of
GX
log
such
that
•
for
i
∈
{1,
2},
V(ei
)
=
{vi
};
•
for
i
∈
{1,
2,
3},
vi
is
of
type
(0,
3);
•
(N
(v1
)
∩
N
(v3
))
=
(N
(v2
)
∩
N
(v3
))
=
1.
Write
H
for
the
sub-semi-graph
of
PSC-type
of
the
underlying
semigraph
of
GX
log
whose
set
of
vertices
=
{v1
,
v2
,
v3
}.
Then
one
veriﬁes
easily
that
these
hypotheses
imply
that
Node((GX
log
)|H
)
=
{e1
,
e2
,
f1
,
f2
},
where
we
write
{f1
}
=
N
(v1
)
∩
N
(v3
),
{f2
}
=
N
(v2
)
∩
N
(v3
).
Thus,
it
follows
immediately
from
Proposition
5.6,
(v)
—
i.e.,
by
replacing
X
log
(respectively,
e1
,
e2
)
by
the
stable
log
curve
“Y
log
”
obtained
by
applying
Proposition
5.6,
(v),
to
(GX
log
)|H
(respectively,
by
the
two
nodes
∈
Node(GY
log
)
corresponding
to
e1
,
e2
)
—
that
to
verify
the
above
(‡),
we
may
assume
without
loss
of
generality
that
there
exist
three
distinct
vertices
v1
,
v2
,
v3
of
GX
log
such
that
•
for
i
∈
{1,
2},
V(ei
)
=
{vi
};
Combinatorial
anabelian
topics
I
109
•
for
i
∈
{1,
2,
3},
vi
is
of
type
(0,
3);
•
Node(GX
log
)
=
{e1
,
e2
,
f1
,
f2
},
where
we
write
{f1
}
=
(N
(v1
)∩
N
(v3
)),
{f2
}
=
(N
(v2
)
∩
N
(v3
)).
One
veriﬁes
easily
that
these
hypotheses
imply
that
there
exists
a
cusp
c
of
GX
log
such
that
Cusp(GX
log
)
=
{c}
=
C(v3
).
Then
it
follows
immediately
from
the
explicit
structure
of
GX
log
that
there
exists
an
automorphism
τ
of
Xtlog
[cf.
Deﬁnition
5.5]
such
that
the
∼
automorphism
of
Node(GX
log
)
=
{e1
,
e2
,
f1
,
f2
}
(respectively,
IT
log
→

Σ
(1))
[cf.
Lemma
5.4,
(ii)])
induced
by
HomZ
Σ
((Ne1
⊕Ne2
⊕Nf1
⊕Nf2
)gp
,
Z
τ
is
given
by
mapping
e1
→
e2
,
e2
→
e1
,
f1
→
f2
,
f2
→
f1
,
(respectively,
by
the
corresponding
permutation
of
factors
of
Ne1
⊕
Ne2
⊕
Nf1
⊕
Nf2
),
and,
moreover,
τ
preserves
the
cusp
corresponding
to
c.
Now
it
follows
immediately
from
Corollary
3.9,
(v),
together
with
the
fact
that
the
automorphism
of
the
anabelioid
(GX
log
)c
corresponding
to
the
cusp
c
induced
by
τ
is
the
identity
automorphism
[cf.
the
argument
used
in
the
ﬁnal
portion
of
the
proof
of
Corollary
3.9,
(vi)],
that
the
automorphism
of
ΛG
log
induced
by
τ
is
the
identity
automorphism.
Thus,
by
applying
X
the
evident
functoriality
of
the
homomorphism
ρuniv
with
respect
to
the
Xtlog
automorphism
of
GX
log
induced
by
τ
,
one
concludes
immediately
from
the
above
description
of
τ
,
together
with
Theorem
4.8,
(v),
that
the
assertion
(‡)
holds.
This
completes
the
proof
of
Theorem
5.7.
Q.E.D.
Deﬁnition
5.8.
Let
α
∈
Dehn(G)
be
a
proﬁnite
Dehn
multi-twist
of
G
and
u
∈
ΛG
a
topological
generator
of
ΛG
.
(i)
ΣLet
e
∈
Node(G)
be
a
node
of
G.
Then
since
ΛG
is
a
free
Z
module
of
rank
1
[cf.
Deﬁnition
3.8,
(i)],
there
exists
a
unique

Σ
of
Z

Σ
such
that
De
(α)
=
ae
u.
We
shall
refer
element
ae
∈
Z

Σ
as
the
Dehn
coordinate
of
α
indexed
by
e
with
to
ae
∈
Z
respect
to
u.
(ii)
We
shall
say
that
a
proﬁnite
Dehn
multi-twist
α
∈
Dehn(G)
is
nondegenerate
if,
for
each
node
e
∈
Node(G)
of
G,
the
Dehn
coordinate
of
α
indexed
by
e
with
respect
to
u
[cf.
(i)]
topo
Σ
.
Note
that
it
is
logically
generates
an
open
subgroup
of
Z
immediate
that
if
α
is
nondegenerate,
then
the
Dehn
coordi
∼

Σ
→
nate
(∈
Z
l∈Σ
Zl
⊆
l∈Σ
Ql
)
of
α
indexed
by
e
with
respect
to
u
is
contained
in
l∈Σ
Q∗l
.
110
Yuichiro
Hoshi
and
Shinichi
Mochizuki
(iii)
We
shall
say
that
a
proﬁnite
Dehn
multi-twist
α
∈
Dehn(G)
is
positive
deﬁnite
if
α
is
nondegenerate
[cf.
(ii)],
and,
moreover,
the
following
condition
is
satisﬁed:
For
each
node
e
∈
Node(G)

Σ
the
Dehn
coordinate
of
α
indexed
by
of
G,
denote
by
ae
∈
Z

e
with
respect
to
u
[cf.
(i)].
[Thus,
ae
∈
l∈Σ
Q∗l
—
cf.
(ii).]
Then
for
any
e,
e
∈
Node(G),
ae
/ae
is
contained
in
the
image

def
of
the
diagonal
map
Q>0
=
{
a
∈
Q
|
a
>
0
}
→
l∈Σ
Q∗l
.
Remark
5.8.1.
One
may
verify
easily
that
the
notions
deﬁned
in
Deﬁnition
5.8,
(ii),
(iii),
are
independent
of
the
choice
of
the
topological
generator
u
of
ΛG
.
Corollary
5.9
(Properties
of
outer
representations
of
PSC–
type
and
proﬁnite
Dehn
multi-twists).
Let
Σ
be
a
nonempty
set
of
prime
numbers
and
ρ
:
I
→
Aut(G)
an
outer
representation
of
pro-Σ
PSC-type
[cf.
[NodNon],
Deﬁnition
2.1,
(i)].
Suppose
that
I
is
isomor
Σ
.
Then
the
following
hold:
phic
to
Z
(i)
(ii)
(Outer
representations
of
SVA-type
and
proﬁnite
Dehn
multi-twists)
The
following
three
conditions
are
equivalent:
(i-1)
ρ
is
of
SVA-type
[cf.
[NodNon],
Deﬁnition
2.4,
(ii)].
(i-2)
The
image
of
any
topological
generator
of
I
is
a
proﬁnite
Dehn
multi-twist
[cf.
Deﬁnition
4.4].
(i-3)
There
exists
a
topological
generator
of
I
whose
image
via
ρ
is
a
proﬁnite
Dehn
multi-twist.
(Outer
representations
of
SNN-type
and
nondegenerate
proﬁnite
Dehn
multi-twists)
The
following
three
conditions
are
equivalent
[cf.
the
related
discussion
of
[NodNon],
Remark
2.14.1]:
(ii-1)
ρ
is
of
SNN-type
[cf.
[NodNon],
Deﬁnition
2.4,
(iii)].
(ii-2)
The
image
of
any
topological
generator
of
I
is
a
nondegenerate
[cf.
Deﬁnition
5.8,
(ii)]
proﬁnite
Dehn
multi-twist.
(ii-3)
There
exists
a
topological
generator
of
I
whose
image
via
ρ
is
a
nondegenerate
proﬁnite
Dehn
multi-twist.
Combinatorial
anabelian
topics
I
(iii)
111
(Outer
representations
of
IPSC-type
and
positive
deﬁnite
proﬁnite
Dehn
multi-twists)
The
following
three
conditions
are
equivalent
[cf.
Remark
5.10.1
below;
the
related
discussion
of
[NodNon],
Remark
2.14.1]:
(iii-1)
ρ
is
of
IPSC-type
[cf.
[NodNon],
Deﬁnition
2.4,
(i)].
(iii-2)
The
image
of
any
topological
generator
of
I
is
a
positive
deﬁnite
[cf.
Deﬁnition
5.8,
(iii)]
proﬁnite
Dehn
multi-twist.
(iii-3)
There
exists
a
topological
generator
of
I
whose
image
via
ρ
is
a
positive
deﬁnite
proﬁnite
Dehn
multi-twist.
(iv)
(Synchronization
associated
to
outer
representations
of
IPSC-type)
Suppose
that
ρ
is
of
IPSC-type.
Write

Σ
)∗

Σ
)+
⊆
(Z
(Z
def
for
the
intersection
of
the

images
of
the
diagonal
map
Q>0
=
{
a
∈
Q
|
a
>
0
}
→
l∈Σ
Ql
and
the
composite
of
natural

∼


Σ
)∗
→
Z
Σ
→
morphisms
(Z
l∈Σ
Zl
⊆
l∈Σ
Ql
.
[Thus,
when
Σ
+

Σ
=
Primes,
it
holds
that
(Z
)
=
{1}.]
Then
there
exists
a

Σ
-modules

Σ
)+
-orbit
of
isomorphisms
of
Z
natural
(Z
∼
syn
ρ
:
I
−→
ΛG
that
is
functorial,
in
ρ,
with
respect
to
isomorphisms
of
outer
representations
of
PSC-type
[cf.
[NodNon],
Deﬁnition
2.1,
(ii)].
(v)
(Compatibility
of
synchronizations
with
ﬁnite
étale
def
out
coverings)
In
the
situation
of
(iv),
let
Π
⊆
ΠI
=
ΠG

I
[cf.
the
discussion
entitled
“Topological
groups”
in
§0]
be
an
open
subgroup
of
ΠI
such
that
if
we
write
H
→
G
for
the
connected
ﬁnite
étale
covering
of
G
corresponding
to
Π
∩
ΠG
[so
ΠH
=
def
Π
∩
ΠG
],
then
the
outer
representation
ρΠ
:
J
=
Π/ΠH
→

Σ
-modules
Out(ΠH
)
is
of
IPSC-type.
Then
the
diagram
of
Z
syn
ρ
Π
J
−−−−→
ΛH
⏐
⏐
⏐
⏐


syn
ρ
I
−−−−→
ΛG
112
Yuichiro
Hoshi
and
Shinichi
Mochizuki
—
where
the
left-hand
vertical
arrow
is
the
natural
inclusion;
the
right-hand
vertical
arrow
is
the
isomorphism
of
Corollary
3.9,
(iii)
—
commutes
up
to
multiplication
by
an
element
∈
Q>0
.
Proof.
Assertion
(i)
follows
immediately
from
condition
(2
)
of
[NodNon],
Deﬁnition
2.4.
Next,
we
verify
assertions
(ii)
and
(iii).
The
implication
(ii-1)
=⇒
(ii-2)
,
(respectively,
(iii-1)
=⇒
(iii-2))
follows
immediately
from
the
ﬁnal
portion
of
Lemma
5.2,
(ii),
concerning
ρ
of
SNN-type
(respectively,
Lemma
5.4,
(ii);
Theorem
5.7).
The
implications
(ii-2)
=⇒
(ii-3)
,
(iii-2)
=⇒
(iii-3)
are
immediate.
Next,
we
verify
the
implication
(ii-3)
=⇒
(ii-1)
.
It
follows
from
the
implication
(i-3)
⇒
(i-1)
that
ρ
is
of
SVA-type.
Thus,
to
show
the
implication
in
question,
it
suﬃces
to
verify
that
ρ
satisﬁes

be
an
elecondition
(3)
of
[NodNon],
Deﬁnition
2.4.
Let
e
∈
Node(G)
out

ΠI
def
=
ΠG

I
[cf.
the
discussion
entitled
“Topological
ment
of
Node(G);

the
two
distinct
elements
of
Vert(G)

such
groups”
in
§0];
v,
w

∈
Vert(G)
that
V(
e)
=
{
v
,
w}

[cf.
[NodNon],
Remark
1.2.1,
(iii)];
Ie,
Iv
,
Iw
⊆
ΠI
the
inertia
subgroups
of
ΠI
associated
to
e,
v,
w,

respectively.
Then
since
the
homomorphisms
of
the
ﬁnal
two
displays
of
Lemma
5.2,
(ii),

Σ
-modules
of
rank
1
[cf.
Deﬁcoincide,
and
ΛG
log
and
Iv
are
free
Z
X
nition
3.8,
(i);
[NodNon],
Lemma
2.5,
(i)],
it
follows
immediately
from
the
deﬁnition
of
nondegeneracy
that
the
composite
of
the
second
display
of
Lemma
5.2,
(ii),
is
an
open
injection.
Thus,
it
follows
immediately
that
the
natural
homomorphism
Iv
×
Iw
→
Ie
has
open
image,
and
that
Iv
∩
Iw
=
{1},
i.e.,
that
Iv
×
Iw
→
Ie
is
injective.
That
is
to
say,
ρ
satisﬁes
condition
(3)
of
[NodNon],
Deﬁnition
2.4.
This
completes
the
proof
of
the
implication
in
question.
Next,
we
verify
the
implication
(iii-3)
=⇒
(iii-1)
.
Let
u
∈
ΛG
be
a
topological
generator
of
ΛG
.
Then
it
follows
immediately
from
Lemma
5.4,
(i),
(ii),
and
Theorem
5.7
—
by
considering
the
stable
Combinatorial
anabelian
topics
I
113
log
curve
over
S
log
corresponding
to
a
suitable
homomorphism
of
R
≃
R[[t1
,
·
·
·
,
t3g−g+r
]]
→
R
[cf.
Lemma
5.4,
(i)]
—
that
to
algebras
O
complete
the
proof
of
the
implication
in
question,
it
suﬃces
to
verify
that
there
exists
a
topological
generator
α
∈
I
of
I
which
satisﬁes
the
following
condition
(∗):
(∗):
The
Dehn
coordinates
of
ρ(α)
with
respect
to
u
def
[cf.
Deﬁnition
5.8,
(i)]
∈
N=0
=
N
\
{0}.
To
this
end,
let
α
∈
I
be
a
topological
generator
of
I
such
that
ρ(α)
is
a
positive
deﬁnite
proﬁnite
Dehn
multi-twist
of
G
[cf.
condition
(iii-3)].

Σ
the
Dehn
coordinate
For
each
node
e
∈
Node(G)
of
G,
denote
by
ae
∈
Z
of
ρ(α)
indexed
by
e
with
respect
to
u.
Now
since
ρ(α)
is
nondegenerate,
it
follows
immediately
from
the
deﬁnition
of
nondegeneracy
that
for
each

Σ
)∗
.
Thus,
it
follows
node
e
∈
Node(G)
of
G,
it
holds
that
ae
∈
N=0
·
(Z
immediately
that
for
a
given
node
f
∈
Node(G)
of
G,
by
replacing
α
by
a
suitable
topological
generator
of
I,
we
may
assume
without
loss
of
generality
that
af
∈
N=0
.
In
particular,
it
follows
immediately
from
the
deﬁnition
of
positive
deﬁniteness
that
there
exists
an
element
a
∈
N=0
such
that
for
each
node
e
∈
Node(G)
of
G,
it
holds
that
a
·
ae
∈
N=0
.
Moreover,
again
by
replacing
α
by
a
suitable
topological
generator
of
I,
we
may
assume
that
every
prime
number
dividing
a
belongs
to
Σ.

Σ
∩
(
1
·
N=0
)
that
ae
is
But
then
it
follows
from
the
fact
that
ae
∈
Z
a
a
positive
rational
number
that
is
integral
at
every
element
of
Primes,
i.e.,
that
ae
∈
N=0
,
as
desired.
In
particular,
the
topological
generator
α
∈
I
of
I
satisﬁes
the
above
condition
(∗).
This
completes
the
proof
of
the
implication
in
question,
hence
also
of
assertions
(ii)
and
(iii).
Next,
we
verify
assertion
(iv).
It
follows
immediately
from
the
ﬁnal
portion
of
Lemma
5.2,
(ii),
concerning
ρ
of
SNN-type
that
for
each
e
∈
Node(G),
the
homomorphism
syn
ρ
:
I
→
ΛG
obtained
by
dividing
ρ
D
the
composite
I
→
Dehn(G)
→e
ΛG
by
lngΣ
G
(e,
ρ)
is
an
isomorphism.
Moreover,
by
“translating
into
group
theory”
the
scheme-theoretic
content
of
Lemma
5.4,
(ii),
by
means
of
the
correspondence
between
grouptheoretic
and
scheme-theoretic
notions
given
in
Proposition
5.6,
(i);
Theorem
5.7,
one
concludes
that
syn
ρ
is
independent
—
up
to
multiplication

Σ
)+
—
of
the
choice
of
the
node
e
∈
Node(G).
Now
by
an
element
of
(Z
the
functoriality
of
syn
ρ
follows
immediately
from
the
functoriality
of
the
homomorphism
De
[cf.
Theorem
4.8,
(iv)],
together
with
the
grouptheoreticity
of
lngΣ
G
(e,
ρ).
This
completes
the
proof
of
assertion
(iv).
Finally,
assertion
(v)
follows
immediately,
in
light
of
the
grouptheoretic
construction
of
“syn
ρ
”
given
in
the
proof
of
assertion
(iv),
from
the
various
deﬁnitions
involved.
Q.E.D.
114
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Remark
5.9.1.
(i)
Corollary
5.9,
(iv),
may
be
regarded
as
a
sort
of
abstract
combinatorial
analogue
of
the
cyclotomic
synchronization
given
in
[GalSct],
Theorem
4.3
[cf.
also
[AbsHyp],
Lemma
2.5,
(ii)].
(ii)
It
follows
from
Theorem
5.7
that
one
may
think
of
the
isomorphisms
of
Corollary
5.9,
(iv),
as
a
sort
of
abstract
combinatorial
construction
of
the
various
identiﬁcation
isomorphisms
be
Σ
(1)”
that
appear
in
Lemma
5.4,
tween
the
various
copies
of
“Z
(ii).
Such
identiﬁcation
isomorphisms
are
typically
“taken
for
granted”
in
conventional
discussions
of
scheme
theory.
Remark
5.9.2.
(i)

Σ
-modules
Consider
the
exact
sequence
of
free
Z
def
def
comb
0
−→
MGvert
−→
MG
=
Πab
=
MG
/MGvert
−→
0
G
−→
MG

Σ
-submodule
of
MG
—
where
we
write
MGvert
⊆
MG
for
the
Z
topologically
generated
by
the
images
of
the
verticial
subgroups
of
ΠG
[cf.
[CmbGC],
Remark
1.1.4].
Then
one
veriﬁes
easily
that
any
proﬁnite
Dehn
multi-twist
α
∈
Dehn(G)
preserves
and
induces
the
identity
automorphism
on
MGvert
,
MGcomb
.
In
particular,
the
homomorphism
MG
→
MG
obtained
by
considering
the
diﬀerence
of
the
automorphism
of
MG
induced
by
α
and
the
identity
automorphism
on
MG
naturally
determines
[and
is
determined
by!]
a
homomorphism
αcomb,vert
:
MGcomb
−→
MGvert
.

Σ
-submodule
topologically
genWrite
MGedge
⊆
MGvert
for
the
Z
erated
by
the
image
of
the
edge-like
subgroups
of
ΠG
.
Then
the
following
two
facts
are
well-known:
∼
•
If
Cusp(G)
=
∅,
then
Poincaré
duality
MG
→
∼
HomZ
Σ
(MG
,
ΛG
)
determines
an
isomorphism
MGedge
→
HomZ
Σ
(MGcomb
,
ΛG
)
[cf.
[CmbGC],
Proposition
1.3].
•
The
natural
homomorphism
Dehn(G)
−→
HomZ
Σ
(MGcomb
,
MGvert
)
given
by
mapping
α
→
αcomb,vert
factors
through
the
submodule
HomZ
Σ
(MGcomb
,
MGedge
)
⊆
HomZ
Σ
(MGcomb
,
MGvert
).
Combinatorial
anabelian
topics
I
115
[Indeed,
this
may
be
veriﬁed,
for
instance,
by
applying
a
similar
argument
to
the
argument
used
in
the
proof
of
[CmbGC],
Proposition
1.3,
involving
weights.]
Thus,
if
Cusp(G)
=
∅,
then
we
obtain
a
homomorphism
Σ)
ΩG
:
Dehn(G)
−→
MGedge
⊗Z
Σ
MGedge
⊗Z
Σ
HomZ
Σ
(ΛG
,
Z
that
is
manifestly
functorial,
in
G,
with
respect
to
isomorphisms
of
semi-graphs
of
anabelioids
of
pro-Σ
PSC-type.
The
matrices
that
appear
in
the
image
of
this
homomorphism
ΩG
are
often
referred
to
as
period
matrices.
(ii)
Now
let
us
recall
that
[CmbGC],
Proposition
2.6,
plays
a
key
role
in
the
proof
of
the
combinatorial
version
of
the
Grothendieck
conjecture
given
in
[CmbGC],
Corollary
2.7,
(iii).
Moreover,
the
proof
of
[CmbGC],
Proposition
2.6,
is
essentially
a
formal
consequence
of
the
nondegeneracy
of
the
period
matrix
associated
to
a
positive
deﬁnite
proﬁnite
Dehn
multi-twist
—
i.e.,
of
the
injectivity
of
the
homomorphism
αcomb,vert
:
MGcomb
−→
MGvert
of
(i)
in
the
case
where
α
∈
Dehn(G)
is
positive
deﬁnite
[cf.
Corollary
5.9,
(iii)].
(iii)
In
general,
the
period
matrix
associated
to
a
proﬁnite
Dehn
multi-twist
may
fail
to
be
nondegenerate
even
if
the
proﬁnite
Dehn
multi-twist
is
nondegenerate.
Indeed,
suppose
that
Σ
=
1,
that
G
is
the
double
[cf.
[CmbGC],
Proposition
2.2,
(i)]
of
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
H
such
that
(Vert(H)
,
Node(H)
,
Cusp(H)
)
=
(1,
0,
2)
.
Suppose,
moreover,
that
H
admits
an
automorphism
which
permutes
the
two
cusps
of
H
and
extends
to
an
automorphism
φ
of
G.
[One
veriﬁes
easily
that
such
data
exist.]
Then
one
may
verify
easily
that
Node(G)
=
2,
that
Cusp(G)
=
0,
and
that

Σ
-module
M
comb
,
hence
also
M
edge
⊗

Σ
M
edge
⊗

Σ
the
free
Z
G
G
G
Z
Z

Σ
)
[cf.
(i)],
is
of
rank
1.
Now
let
us
recall
that
the
HomZ
Σ
(ΛG
,
Z
period
matrix
associated
to
a
positive
deﬁnite
proﬁnite
Dehn
multi-twist
is
necessarily
nondegenerate
[cf.
Corollary
5.9,
(iii);
the
proof
of
[CmbGC],
Proposition
2.6].
Thus,
since
Σ
=
1,
it
follows
immediately
from
the
functoriality
of
ΩG
[cf.
(i)]
and
116
Yuichiro
Hoshi
and
Shinichi
Mochizuki
DG
[cf.
Theorem
4.8,
(iv)]
with
respect
to
φ
that
the
kernel
of
the
composite
of
natural
homomorphisms

DG
ΩG
∼
Σ)
ΛG
←−
Dehn(G)
−→
MGedge
⊗Z
Σ
MGedge
⊗Z
Σ
HomZ
Σ
(ΛG
,
Z
Node(G)

Σ
-submodule
of

is
a
free
Z
Node(G)
ΛG
of
rank
1
that
is
stabilized
by
φ.
On
the
other
hand,
since
proﬁnite
Dehn
multi-twists
of
the
form
(u,
u)
∈
Node(G)
ΛG
,
where
u
∈
ΛG
,
are
[manifestly!]
positive
deﬁnite,
we
thus
conclude
that
the
kernel
in
question
is
equal
to

ΛG
|
u
∈
ΛG
}
.
{
(u,
−u)
∈
Node(G)
In
particular,
any
nonzero
element
of
this
kernel
yields
an
example
of
a
nondegenerate
proﬁnite
Dehn
multi-twist
whose
associated
period
matrix
fails
to
be
nondegenerate.
Corollary
5.10
(Combinatorial/group-theoretic
nature
of
scheme-theoreticity
Let
(g,
r)
be
a
pair
of
nonnegative
integers
such
that
2g
−
2
+
r
>
0;
Σ
a
nonempty
set
of
prime
numbers;
R
a
complete
discrete
valuation
ring
whose
residue
ﬁeld
k
is
separably
closed
of
characdef
teristic
∈
Σ;
S
log
the
log
scheme
obtained
by
equipping
S
=
Spec
R
with
the
log
structure
determined
by
the
maximal
ideal
of
R;
x
∈
(Mg,r
)S
(k)
a
k-valued
point
of
the
moduli
stack
of
curves
(Mg,r
)S
of
type
(g,
r)

the
completion
of
over
S
[cf.
the
discussion
entitled
“Curves”
in
§0).
;
O
log
the
local
ring
of
(Mg,r
)S
at
the
image
of
x;
T
the
log
scheme
obtained
def

with
the
log
structure
induced
by
the
log
strucby
equipping
T
=
Spec
O
log
ture
of
(Mg,r
)S
[cf.
the
discussion
entitled
“Curves”
in
§0];
tlog
the
log
scheme
obtained
by
equipping
the
closed
point
of
T
with
the
log
structure
induced
by
the
log
structure
of
T
log
;
Xtlog
the
stable
log
curve
over
log
tlog
corresponding
to
the
natural
strict
(1-)morphism
tlog
→
(Mg,r
)S
;
IT
log
the
maximal
pro-Σ
quotient
of
the
log
fundamental
group
π1
(T
log
)
of
T
log
;
IS
log
the
maximal
pro-Σ
quotient
of
the
log
fundamental
group
π1
(S
log
)
of
S
log
;
GX
log
the
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
determined
by
the
stable
log
curve
Xtlog
[cf.
[CmbGC],
Example
2.5];
:
IT
log
→
Aut(GX
log
)
the
natural
outer
representation
associated
to
ρuniv
X
log
t
Xtlog
[cf.
Deﬁnition
5.5];
I
a
proﬁnite
group;
ρ
:
I
→
Aut(GX
log
)
an
Combinatorial
anabelian
topics
I
117
outer
representation
of
pro-Σ
PSC-type
[cf.
[NodNon],
Deﬁnition
2.1,
(i)].
Then
the
following
conditions
are
equivalent:
(i)
ρ
is
of
IPSC-type.
(ii)
There
exist
a
morphism
of
log
schemes
φlog
:
S
log
→
T
log
over
S
and
an
isomorphism
of
outer
representations
of
pro-Σ
∼
◦
Iφlog
[cf.
[NodNon],
Deﬁnition
2.1,
(i)]
PSC-type
ρ
→
ρuniv
Xtlog
—
where
we
write
Iφlog
:
IS
log
→
IT
log
for
the
homomorphism
induced
by
φlog
—
i.e.,
there
exist
an
automorphism
β
of
∼
GX
log
and
an
isomorphism
α
:
I
→
ISlog
such
that
the
diagram
ρ
−−−−→
I
⏐
⏐
α
ρ
X
Aut(GX
log
)
⏐
⏐

log
◦Iφlog
t
IS
log
−−−
−−−−→
Aut(GX
log
)
—
where
the
right-hand
vertical
arrow
is
the
automorphism
of
Aut(GX
log
)
induced
by
β
—
commutes.
(iii)
There
exist
a
morphism
of
log
schemes
φlog
:
S
log
→
T
log
over
∼
S
and
an
isomorphism
α
:
I
→
ISlog
such
that
ρ
=
ρuniv
◦Iφlog
◦
Xtlog
α
—
where
we
write
Iφlog
:
IS
log
→
IT
log
for
the
homomorphism
induced
by
φlog
—
i.e.,
the
automorphism
“β”
of
(ii)
may
be
taken
to
be
the
identity.
Proof.
The
equivalence
(i)
⇔
(ii)
follows
from
the
deﬁnition
of
the
term
“IPSC-type”
[cf.
[NodNon],
Deﬁnition
2.4,
(i)].
The
implication
(iii)
⇒
(ii)
is
immediate.
The
implication
(ii)
⇒
(iii)
follows
immediately,
in
light
of
the
functoriality
asserted
in
Theorem
4.8,
(iv),
from
Lemma
5.4,
(i),
(ii),
and
Theorem
5.7.
Q.E.D.
Remark
5.10.1.
(i)
The
equivalence
of
Corollary
5.10
essentially
amounts
to
the
equivalence
“IPSC-type
⇐⇒
positive
deﬁnite”
which
was
discussed
in
[HM],
Remark
2.14.1,
without
proof.
118
Yuichiro
Hoshi
and
Shinichi
Mochizuki
(ii)
One
way
to
understand
the
equivalence
of
Corollary
5.10
is
as
the
statement
that
the
property
that
an
outer
representation
of
PSC-type
be
of
scheme-theoretic
origin
may
be
formulated
purely
in
terms
of
combinatorics/group
theory.
In
the
ﬁnal
portion
of
the
present
§5,
we
apply
the
theory
developed
so
far
[i.e.,
in
particular,
the
equivalences
of
Corollary
5.9,
(ii),
(iii)]
to
derive
results
[cf.
Theorem
5.14]
concerning
normalizers
and
commensurators
of
groups
of
proﬁnite
Dehn
multi-twists.
Deﬁnition
5.11.
Let
M
⊆
H
⊆
Out(ΠG
)
be
closed
subgroups
of
Out(ΠG
).
Suppose
further
that
M
is
an
abelian
pro-Σ
group
[such
as
Dehn(G)
—
cf.
Theorem
4.8,
(iv)].
(i)
We
shall
write
scal
(M
)
⊆
NH
(M
)
⊆
H
NH
for
the
[closed]
subgroup
of
H
consisting
of
α
∈
H
satisfying
the
following
condition:
α
∈
NH
(M
),
and,
moreover,
the
action
of
α
on
M
by
conjugation
coincides
with
the
automorphism
of
M

Σ
)∗
.
We
shall
refer
given
by
multiplication
by
an
element
of
(Z
scal
(M
)
as
the
scalar-normalizer
of
M
in
H.
to
NH
(ii)
We
shall
write
scal
(M
)
⊆
CH
(M
)
⊆
H
CH
for
the
subgroup
of
H
consisting
of
α
∈
H
satisfying
the
fol
Σ
-submodule
M

⊆
M
lowing
condition:
there
exists
an
open
Z
α
of
M
[possibly
depending
on
α]
such
that
the
action
of
α
on
H
by
conjugation
determines
an
automorphism
of
Mα
given

Σ
)∗
.
We
shall
refer
to
by
multiplication
by
an
element
of
(Z
scal
CH
(M
)
as
the
scalar-commensurator
of
M
in
H.
Lemma
5.12
(Scalar-normalizers
and
scalar-commensurators).
Let
M
⊆
H
⊆
Out(ΠG
)
be
closed
subgroups
of
Out(ΠG
).
Suppose
further
that
M
is
an
abelian
pro-Σ
group.
Then:
Combinatorial
anabelian
topics
I
(i)
It
holds
that
M
(ii)
119
⊆
ZH
(M
)
⊆
scal
NH
(M
)
⊆
scal
CH
(M
)
.

Σ
-submodule
of
M
,
then
If
M

⊆
M
is
a
Z
scal
scal
scal
scal
(M
)
⊆
NH
(M

)
;
CH
(M
)
⊆
CH
(M

)
.
NH
If,
moreover,
M

⊆
M
is
open
in
M
,
then
scal
scal
CH
(M
)
=
CH
(M

)
.
Proof.
These
assertions
follow
immediately
from
the
various
deﬁnitions
involved.
Q.E.D.
Deﬁnition
5.13.
Let
H
⊆
Out(ΠG
)
be
a
closed
subgroup
of
Out(ΠG
).
Then
we
shall
say
that
H
is
IPSC-ample
(respectively,
NNample)
if
H
contains
a
positive
deﬁnite
(respectively,
nondegenerate)
[cf.
Deﬁnition
5.8]
proﬁnite
Dehn
multi-twist
∈
Dehn(G).
Remark
5.13.1.
It
follows
immediately
from
Theorem
4.8,
(iv),
that
any
open
subgroup
of
Dehn(G)
is
IPSC-ample,
hence
also
NN-ample
[cf.
Deﬁnition
5.13].
Theorem
5.14
(Normalizers
and
commensurators
of
groups
of
proﬁnite
Dehn
multi-twists).
Let
Σ
be
a
nonempty
set
of
prime
numbers,
G
a
semi-graph
of
anabelioids
of
pro-Σ
PSC-type,
OutC
(ΠG
)
the
group
of
group-theoretically
cuspidal
[cf.
[CmbGC],
Deﬁnition
1.4,
(iv)]
outomorphisms
of
ΠG
,
and
M
⊆
OutC
(ΠG
)
a
closed
subgroup
of
OutC
(ΠG
)
which
is
abelian
pro-Σ.
Then
the
following
hold:
(i)
Suppose
that
one
of
the
following
two
conditions
is
satisﬁed:
(1)
M
is
IPSC-ample
[cf.
Deﬁnition
5.13].
(2)
M
is
NN-ample
[cf.
Deﬁnition
5.13],
and
Cusp(G)
=
∅.
120
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Then
it
holds
that
scal
scal
NOut
C
(Π
)
(M
)
⊆
COutC
(Π
)
(M
)
⊆
Aut(G)
G
G
[cf.
Deﬁnition
5.11].
If,
moreover,
M
⊆
Dehn(G)
[cf.
Deﬁnition
4.4],
then
scal
scal
Aut|Node(G)|
(G)
⊆
NOut
C
(Π
)
(M
)
⊆
COutC
(Π
)
(M
)
⊆
Aut(G)
G
G
[cf.
Deﬁnition
2.6,
(i)].
In
particular,
scal
scal
NOut
C
(Π
)
(M
)
,
COutC
(Π
)
(M
)
⊆
Aut(G)
G
G
are
open
subgroups
of
Aut(G).
(ii)
If
M
is
an
open
subgroup
of
Dehn(G),
then
it
holds
that
Aut(G)
=
COutC
(ΠG
)
(M
)
.
If,
moreover,
Node(G)
=
∅,
then
Aut|Node(G)|
(G)
∩
Ker(χG
)
=
ZOutC
(ΠG
)
(M
)
[cf.
Deﬁnition
3.8,
(ii)].
(iii)
It
holds
that
Aut(G)
=
NOutC
(ΠG
)
(Dehn(G))
=
COutC
(ΠG
)
(Dehn(G))
.
scal
Proof.
First,
we
verify
the
inclusion
COut
C
(Π
)
(M
)
⊆
Aut(G)
asG
serted
in
assertion
(i).
Suppose
that
condition
(1)
(respectively,
(2))
is
scal
scal
satisﬁed.
Let
α
∈
COut
C
(Π
)
(M
).
Then
since
α
∈
COutC
(Π
)
(M
),
and
G
G
M
is
IPSC-ample
(respectively,
NN-ample),
it
follows
immediately
that
there
exists
an
element
β
∈
M
of
M
such
that
both
β
and
αβα−1
=
β
λ
,

Σ
)∗
,
are
positive
deﬁnite
(respectively,
nondegenerate)
proﬁwhere
λ
∈
(Z
nite
Dehn
multi-twists.
Thus,
the
graphicity
of
α
follows
immediately
from
[NodNon],
Remark
4.2.1,
together
with
Corollary
5.9,
(iii)
(respectively,
from
[NodNon],
Theorem
A,
together
with
Corollary
5.9,
(ii)).
scal
This
completes
the
proof
of
the
inclusion
COut
C
(Π
)
(M
)
⊆
Aut(G),
hence
G
also,
by
Lemma
5.12,
(i),
of
the
two
inclusions
in
the
ﬁrst
display
of
assertion
(i).
If,
moreover,
M
⊆
Dehn(G),
then
the
inclusion
Aut|Node(G)|
(G)
⊆
scal
NOut
C
(Π
)
(M
)
follows
immediately
from
Theorem
4.8,
(v).
Thus,
since
G
Combinatorial
anabelian
topics
I
121
Aut|Node(G)|
(G)
is
an
open
subgroup
of
Aut(G)
[cf.
Proposition
2.7,
(iii)],
scal
scal
it
follows
immediately
that
NOut
C
(Π
)
(M
),
hence
also
COutC
(Π
)
(M
),
is
G
G
an
open
subgroup
of
Aut(G).
This
completes
the
proof
of
assertion
(i).
Next,
we
verify
the
equality
Aut(G)
=
COutC
(ΠG
)
(M
)
in
the
ﬁrst
display
of
assertion
(ii).
It
follows
immediately
from
Theorem
4.8,
(i),
that
Aut(G)
⊆
NOutC
(ΠG
)
(Dehn(G))
⊆
COutC
(ΠG
)
(M
).
Thus,
to
verify
the
equality
Aut(G)
=
COutC
(ΠG
)
(M
),
it
suﬃces
to
verify
the
inclusion
COutC
(ΠG
)
(M
)
⊆
Aut(G).
To
this
end,
let
α
∈
COutC
(ΠG
)
(M
).
Then
it
follows
from
Lemma
5.12,
(ii),
that
scal
scal
−1
scal
−1
)
=
α
·
COut
,
COut
C
(Π
)
(M
)
=
COutC
(Π
)
(α
·
M
·
α
C
(Π
)
(M
)
·
α
G
G
G
scal
scal
i.e.,
α
∈
NOutC
(ΠG
)
(COut
Thus,
since
COut
C
(Π
)
(M
)).
C
(Π
)
(M
)
is
an
G
G
open
subgroup
of
Aut(G)
[cf.
assertion
(i);
Remark
5.13.1],
we
conclude
that
α
∈
COutC
(ΠG
)
(Aut(G)).
Thus,
the
fact
that
α
∈
Aut(G)
follows
from
the
commensurable
terminality
of
Aut(G)
in
Out(ΠG
),
i.e.,
the
equality
Aut(G)
=
COut(ΠG
)
(Aut(G))
[cf.
[CmbGC],
Corollary
2.7,
(iv)].
This
completes
the
proof
of
the
equality
Aut(G)
=
COutC
(ΠG
)
(M
).
Next,
we
verify
the
equality
Aut|Node(G)|
(G)
∩
Ker(χG
)
=
ZOutC
(ΠG
)
(M
)
in
the
second
display
of
assertion
(ii).
Now
it
follows
immediately
from
Theorem
4.8,
(v),
that
Aut|Node(G)|
(G)
∩
Ker(χG
)
⊆
ZOutC
(ΠG
)
(M
).
Thus,
to
show
the
equality
in
question,
it
suﬃces
to
verify
the
inclusion
ZOutC
(ΠG
)
(M
)
⊆
Aut|Node(G)|
(G)
∩
Ker(χG
).
To
this
end,
let
us
observe
that
since
Aut(G)
=
COutC
(ΠG
)
(M
)
[cf.
the
preceding
paragraph],
it
holds
that
ZOutC
(ΠG
)
(M
)
⊆
Aut(G).
Thus,
since
the
action
of
ZOutC
(ΠG
)
(M
)
on
M
by
conjugation
preserves
and
induces
the
identity
automorphism
on
the
intersection
of
M
with
each
direct
summand
DG

∼
of
e∈Node(G)
ΛG
←
Dehn(G)
[i.e.,
each
“ΛG
”],
it
follows
immediately
from
Theorem
4.8,
(v),
in
light
of
our
assumption
that
Node(G)
=
∅,
that
ZOutC
(ΠG
)
(M
)
⊆
Aut|Node(G)|
(G)
∩
Ker(χG
).
This
completes
the
proof
of
assertion
(ii).
Assertion
(iii)
follows
immediately
from
assertion
(ii),
together
with
Theorem
4.8,
(i).
This
completes
the
proof
of
Theorem
5.14.
Q.E.D.
Remark
5.14.1.
In
the
notation
of
Theorem
5.14,
(i)
(respectively,
Theorem
5.14,
(ii)),
in
general,
the
inclusion
scal
COut
C
(Π
)
(M
)
⊆
Aut(G)
G
122
Yuichiro
Hoshi
and
Shinichi
Mochizuki
[hence,
a
fortiori,
by
the
inclusions
of
the
ﬁrst
display
of
Theorem
5.14,
scal
(i),
the
inclusion
NOut
C
(Π
)
(M
)
⊆
Aut(G)]
(respectively,
in
general,
the
G
inclusion
NOutC
(ΠG
)
(M
)
⊆
Aut(G)
)
is
strict.
Indeed,
suppose
that
there
exist
a
node
e
∈
Node(G)
and
an
automorphism
α
∈
Aut(G)
of
G
such
that
α
does
not
stabilize
e,
and
χG
(α)
=
1.
[For
example,
in
the
notation
of
the
ﬁnal
paragraph
of
the
proof
of
Theorem
5.7,
the
node
e1
and
the
automorphism
induced
by
τ
of
GX
log
satisfy
these
conditions.]
Now
ﬁx
a
prime
number
l
∈
Σ;
write
def
M
=
l
·
(ΛG
)e
⊕

f
=e

ΛG
⊆

DG
∼
ΛG
←
Dehn(G)
f
∈Node(G)
—
where
we
use
the
notation
(ΛG
)e
to
denote
a
copy
of
ΛG
indexed
by
e
∈
Node(G).
Then
M
is
an
open
subgroup
of
Dehn(G),
hence
also
IPSCample
[cf.
Remark
5.13.1],
but
it
follows
immediately
from
Theorem
4.8,
scal
(v),
that
α
∈
COut
C
(Π
)
(M
)
(respectively,
α
∈
NOutC
(ΠG
)
(M
)).
G
§6.
Centralizers
of
geometric
monodromy
In
the
present
§,
we
study
the
centralizer
of
the
image
of
certain
geometric
monodromy
groups.
As
an
application,
we
prove
a
“geometric
version
of
the
Grothendieck
conjecture”
for
the
universal
curve
over
the
moduli
stack
of
pointed
smooth
curves
[cf.
Theorem
6.13
below].
Deﬁnition
6.1.
Let
Σ
be
a
nonempty
set
of
prime
numbers
and
Π
a
pro-Σ
surface
group
[cf.
[MT],
Deﬁnition
1.2].
Then
we
shall
write
OutC
(Π)
=
OutFC
(Π)
=
OutPFC
(Π)
for
the
group
of
outomorphisms
of
Π
which
induce
bijections
on
the
set
of
cuspidal
inertia
subgroups
of
Π.
We
shall
refer
to
an
element
of
OutC
(Π)
=
OutFC
(Π)
=
OutPFC
(Π)
as
a
C-,
FC-,
or
PFC-admissible
outomorphism
of
Π.
Remark
6.1.1.
In
the
notation
of
Deﬁnition
6.1,
suppose
that
either
Σ
=
1
or
Σ
=
Primes.
Then
it
follows
from
the
various
definitions
involved
that
Π
is
equipped
with
a
natural
structure
of
proΣ
conﬁguration
space
group
[cf.
[MT],
Deﬁnition
2.3,
(i)].
Thus,
the
Combinatorial
anabelian
topics
I
123
terms
“C-/FC-/PFC-admissible
outomorphism
of
Π”
and
the
notation
“OutC
(Π)
=
OutFC
(Π)”
have
already
been
deﬁned
in
[CmbCsp],
Deﬁnition
1.1,
(ii),
and
Deﬁnition
1.4,
(iii),
of
the
present
paper.
In
this
case,
however,
one
may
verify
easily
that
these
deﬁnitions
coincide.
Lemma
6.2
(Extensions
arising
from
log
conﬁguration
spaces).
Let
(g,
r)
be
a
pair
of
nonnegative
integers
such
that
2g−2+r
>
0;
0
<
m
<
n
positive
integers;
ΣF
⊆
ΣB
nonempty
sets
of
prime
numbers;
k
an
algebraically
closed
ﬁeld
of
characteristic
zero;
(Spec
k)log
the
log
scheme
obtained
by
equipping
Spec
k
with
the
log
structure
given
by
the
fs
chart
N
→
k
that
maps
1
→
0;
X
log
=
X1log
a
stable
log
curve
of
type
(g,
r)
over
(Spec
k)log
.
Suppose
that
ΣF
⊆
ΣB
satisfy
one
of
the
following
two
conditions:
(1)
ΣF
and
ΣB
determine
PT-formations
[i.e.,
are
either
of
cardinality
one
or
equal
to
Primes
—
cf.
[MT],
Deﬁnition
1.1,
(ii)].
(2)
n
−
m
=
1
and
ΣB
=
Primes.
Write
log
Xnlog
,
Xm
for
the
n-th,
m-th
log
conﬁguration
spaces
of
the
stable
log
curve
X
log
def
[cf.
the
discussion
entitled
“Curves”
in
§0],
respectively;
Πn
,
ΠB
=
Πm
for
the
respective
maximal
pro-ΣB
quotients
of
the
kernels
of
the
natulog
)

π1
((Spec
k)log
);
ral
surjections
π1
(Xnlog
)

π1
((Spec
k)log
),
π1
(Xm
Πn/m
⊆
Πn
for
the
kernel
of
the
surjection
Πn

ΠB
=
Πm
induced
log
obtained
by
forgetting
the
last
(n
−
m)
by
the
projection
Xnlog
→
Xm
factors;
ΠF
for
the
maximal
pro-ΣF
quotient
of
Πn/m
;
ΠT
for
the
quotient
of
Πn
by
the
kernel
of
the
natural
surjection
Πn/m

ΠF
.
Thus,
we
have
a
natural
exact
sequence
of
proﬁnite
groups
1
−→
ΠF
−→
ΠT
−→
ΠB
−→
1
,
which
determines
an
outer
representation
ρn/m
:
ΠB
−→
Out(ΠF
)
.
Then
the
following
hold:
(i)
The
isomorphism
class
of
the
exact
sequence
of
proﬁnite
groups
1
−→
ΠF
−→
ΠT
−→
ΠB
−→
1
124
Yuichiro
Hoshi
and
Shinichi
Mochizuki
depends
only
on
(g,
r)
and
the
pair
(ΣF
,
ΣB
),
i.e.,
if
1
→
Π•F
→
Π•T
→
Π•B
→
1
is
the
exact
sequence
“1
→
ΠF
→
ΠT
→
ΠB
→
1”
associated,
with
respect
to
the
same
(ΣF
,
ΣB
),
to
another
stable
log
curve
of
type
(g,
r)
over
(Spec
k)log
,
then
there
exists
a
commutative
diagram
of
proﬁnite
groups
1
−−−−→
ΠF
−−−−→
ΠT
−−−−→
ΠB
−−−−→
1
⏐
⏐
⏐
⏐
⏐
⏐



1
−−−−→
Π•F
−−−−→
Π•T
−−−−→
Π•B
−−−−→
1
—
where
the
vertical
arrows
are
isomorphisms
which
may
be
chosen
to
arise
scheme-theoretically.
(ii)
The
proﬁnite
group
ΠB
is
equipped
with
a
natural
structure
of
pro-ΣB
conﬁguration
space
group
[cf.
[MT],
Deﬁnition
2.3,
(i)].
If,
moreover,
ΣF
⊆
ΣB
satisﬁes
condition
(1)
(respectively,
(2)),
then
the
proﬁnite
group
ΠF
is
equipped
with
a
natural
structure
of
pro-ΣF
conﬁguration
space
group
(respectively,
surface
group
[cf.
[MT],
Deﬁnition
1.2]).
(iii)
The
outer
representation
ρn/m
:
ΠB
→
Out(ΠF
)
factors
through
the
closed
subgroup
OutC
(ΠF
)
⊆
Out(ΠF
)
[cf.
Deﬁnition
6.1;
[CmbCsp],
Deﬁnition
1.1,
(ii)].
Proof.
Assertion
(i)
follows
immediately
by
considering
a
suitable
specialization
isomorphism
[cf.
the
discussion
preceding
[CmbCsp],
Definition
2.1,
as
well
as
Remark
5.6.1
of
the
present
paper].
Assertion
(ii)
follows
immediately
from
assertion
(i),
together
with
the
various
definitions
involved.
Assertion
(iii)
follows
immediately
from
the
various
deﬁnitions
involved.
This
completes
the
proof
of
Lemma
6.2.
Q.E.D.
Deﬁnition
6.3.
In
the
notation
of
Lemma
6.2
in
the
case
where
(m,
n,
ΣB
)
=
(1,
2,
Primes),
let
x
∈
X(k)
be
a
k-valued
point
of
the
underlying
scheme
X
of
X
log
.
(i)
We
shall
denote
by
G
the
semi-graph
of
anabelioids
of
pro-Primes
PSC-type
determined
by
the
stable
log
curve
X
log
;
by
Gx
Combinatorial
anabelian
topics
I
125
the
semi-graph
of
anabelioids
of
pro-ΣF
PSC-type
determined
def
by
the
geometric
ﬁber
of
X2log
→
X
log
over
xlog
=
x
×X
X
log
;
by
ΠG
,
ΠGx
the
[pro-Primes,
pro-ΣF
]
fundamental
groups
of
G,
Gx
,
respectively.
Thus,
we
have
a
natural
outer
isomorphism
∼
ΠB
−→
ΠG
and
a
natural
Im(ρ2/1
)
(⊆
Out(ΠF
))-torsor
of
outer
isomorphisms
∼
ΠF
−→
ΠGx
.
∼
∼
Let
us
ﬁx
isomorphisms
ΠB
→
ΠG
,
ΠF
→
ΠGx
that
belong
to
these
collections
of
isomorphisms.
(ii)
Denote
by
cF
diag,x
∈
Cusp(Gx
)
the
cusp
of
Gx
[i.e.,
the
cusp
of
the
geometric
ﬁber
of
X2log
→
X
log
over
xlog
]
determined
by
the
diagonal
divisor
of
X2log
.
For
v
∈
Vert(G)
(respectively,
c
∈
Cusp(G))
[i.e.,
which
corresponds
to
an
irreducible
component
(respectively,
a
cusp)
of
X
log
],
denote
by
vxF
∈
Vert(Gx
)
(respectively,
cF
x
∈
Cusp(Gx
))
the
vertex
(respectively,
cusp)
of
Gx
that
corresponds
naturally
to
v
∈
Vert(G)
(respectively,
c
∈
Cusp(G)).
(iii)
Let
e
∈
Edge(G),
v
∈
Vert(G),
S
⊆
VCN(G),
and
z
∈
VCN(G).
Then
we
shall
say
that
x
lies
on
e
if
the
image
of
x
is
the
cusp
or
node
corresponding
to
e
∈
Edge(G).
We
shall
say
that
x
lies
on
v
if
x
does
not
lie
on
any
edge
of
G,
and,
moreover,
the
image
of
x
is
contained
in
the
irreducible
component
corresponding
to
v
∈
Vert(G).
We
shall
write
x

S
if
x
lies
on
some
s
∈
S.
We
shall
write
x

z
if
x

{z}.
Lemma
6.4
(Cusps
and
vertices
of
ﬁbers).
In
the
notation
of
Deﬁnition
6.3,
let
x,
x
∈
X(k)
be
k-valued
points
of
X.
Then
the
following
hold:
(i)
∼
The
isomorphism
ΠGx
→
ΠGx
obtained
by
forming
the
compos∼
∼
ite
of
the
isomorphisms
ΠGx
←
ΠF
→
ΠGx
[cf.
Deﬁnition
6.3,
126
Yuichiro
Hoshi
and
Shinichi
Mochizuki
(i)]
is
group-theoretically
cuspidal
[cf.
[CmbGC],
Deﬁnition
1.4,
(iv)].
(ii)
The
injection
Cusp(G)
→
Cusp(Gx
)
given
by
mapping
c
→
cF
x
determines
a
bijection
∼
Cusp(G)
−→
Cusp(Gx
)
\
{cF
diag,x
}
[cf.
Deﬁnition
6.3,
(ii)].
Moreover,
if
we
regard
Cusp(G)
as
a
subset
of
each
of
the
sets
Cusp(Gx
),
Cusp(Gx
)
by
means
of
the
∼
above
injections,
then
the
bijection
Cusp(Gx
)
→
Cusp(Gx
)
determined
by
the
group-theoretically
cuspidal
isomorphism
∼
F
ΠGx
→
ΠGx
of
(i)
maps
cF
diag,x
→
cdiag,x
and
induces
the
identity
automorphism
on
Cusp(G).
Thus,
in
the
remainder
of
the
present
§,
we
shall
omit
the
subscript
“x”
from
the
F
notation
“cF
x
”
and
“cdiag,x
”.
(iii)
The
injection
Vert(G)
→
Vert(Gx
)
given
by
mapping
v
→
vxF
[cf.
Deﬁnition
6.3,
(ii)]
is
bijective
if
and
only
if
x

Vert(G)
[cf.
Deﬁnition
6.3,
(iii)].
If
x

Edge(G),
then
the
complement
of
the
image
of
Vert(G)
in
Vert(Gx
)
is
of
cardinality
one;
in
this
case,
we
shall
write
F
∈
Vert(Gx
)
\
Vert(G)
vnew,x
for
the
unique
element
of
Vert(Gx
)
\
Vert(G).
(iv)
Suppose
that
x

Cusp(G)
(respectively,
Node(G)).
Then
F
F

it
holds
that
cF
diag
∈
C(vnew,x
)
[cf.
(iii)],
and
(C(vnew,x
)
,
F
)
)
=
(2,
1)
(respectively,
=
(1,
2)).
Moreover,
for
any
N
(vnew,x
F
element
eF
∈
N
(vnew,x
),
it
holds
that
V(eF
)
=
2.
Proof.
These
assertions
follow
immediately
from
the
various
deﬁnitions
involved.
Q.E.D.
Deﬁnition
6.5.
In
the
notation
of
Deﬁnition
6.3:
(i)
Write
def
CuspF
(G)
=
Cusp(G)

{cF
diag
}
[cf.
Deﬁnition
6.3,
(ii);
Lemma
6.4,
(ii)].
Combinatorial
anabelian
topics
I
127
(ii)
Let
α
∈
OutC
(ΠF
)
be
an
C-admissible
outomorphism
of
ΠF
[cf.
Deﬁnition
6.1;
Lemma
6.2,
(ii)].
Then
it
follows
immediately
from
Lemma
6.4,
(ii),
that
for
any
k-valued
point
x
∈
X(k)
of
X,
the
automorphism
of
CuspF
(G)
[cf.
(i)]
obtained
by
conjugating
the
natural
action
of
α
on
Cusp(Gx
)
by
the
natural
∼
bijection
CuspF
(G)
→
Cusp(Gx
)
implicit
in
Lemma
6.4,
(ii),
does
not
depend
on
the
choice
of
x.
We
shall
refer
to
this
automorphism
of
CuspF
(G)
as
the
automorphism
of
CuspF
(G)
determined
by
α.
Thus,
we
have
a
natural
homomorphism
OutC
(ΠF
)
→
Aut(CuspF
(G)).
(iii)
For
c
∈
CuspF
(G)
[cf.
(i)],
we
shall
refer
to
a
closed
subgroup
∼
of
ΠF
obtained
as
the
image
—
via
the
isomorphism
ΠGx
←
ΠF
[cf.
Deﬁnition
6.3,
(i)]
for
some
k-valued
point
x
∈
X(k)
—
of
a
cuspidal
subgroup
of
ΠGx
associated
to
the
cusp
of
Gx
corresponding
to
c
∈
CuspF
(G)
as
a
cuspidal
subgroup
of
ΠF
associated
to
c
∈
CuspF
(G).
Note
that
it
follows
immediately
from
Lemma
6.4,
(ii),
that
the
ΠF
-conjugacy
class
of
a
cuspidal
subgroup
of
ΠF
associated
to
c
∈
CuspF
(G)
depends
only
on
c
∈
CuspF
(G),
i.e.,
does
not
depend
on
the
choice
of
x
or
on
the
choices
of
isomorphisms
made
in
Deﬁnition
6.3,
(i).
Lemma
6.6
(Images
of
VCN-subgroups
of
ﬁbers).
In
the
notation
of
Deﬁnition
6.3,
let
ΠcFdiag
⊆
ΠF
be
a
cuspidal
subgroup
of
ΠF
F
associated
to
cF
diag
∈
Cusp
(G)
[cf.
Deﬁnition
6.5,
(i),
(iii)],
x
∈
X(k)
F
a
k-valued
point
of
X,
z
∈
VCN(Gx
)
\
{cF
diag
},
and
Πz
F
⊆
ΠGx
a
VCNF
subgroup
of
ΠGx
associated
to
z
.
Write
Ndiag
⊆
ΠF
for
the
normal
closed
subgroup
of
ΠF
topologically
normally
generated
by
ΠcFdiag
.
[Note
that
it
follows
immediately
from
Lemma
6.4,
(i),
that
Ndiag
is
normal
in
ΠT
.]
Then
the
following
hold:
(i)
Write
G
ΣF
for
the
semi-graph
of
anabelioids
of
pro-ΣF
PSCtype
obtained
by
forming
the
pro-ΣF
completion
of
G
[cf.
[SemiAn],
Deﬁnition
2.9,
(ii)].
Then
there
exists
a
natural
∼
outer
isomorphism
ΠF
/Ndiag
→
ΠG
ΣF
that
satisﬁes
the
following
conditions:
•
Suppose
that
x

Vert(G)
[cf.
Deﬁnition
6.3,
(iii)].
Then
the
ΠG
ΣF
-conjugacy
class
of
the
image
of
the
composite
∼
∼
ΠzF
→
ΠGx
←
ΠF

ΠF
/Ndiag
→
ΠG
ΣF
128
Yuichiro
Hoshi
and
Shinichi
Mochizuki
coincides
with
the
ΠG
ΣF
-conjugacy
class
of
any
VCN-subgroup
of
ΠG
ΣF
associated
to
the
element
of
VCN(G
ΣF
)
=
VCN(G)
naturally
determined
by
z
F
.
•
F
Suppose
that
x

e
∈
Edge(G),
and
that
z
F
∈
{vnew,x
}∪
F
F
F
F
E(vnew,x
)
(respectively,
z
∈
{vnew,x
}
∪
E(vnew,x
))
[cf.
Lemma
6.4,
(iii)].
Then
the
ΠG
ΣF
-conjugacy
class
of
the
image
of
the
composite
∼
∼
ΠzF
→
ΠGx
←
ΠF

ΠF
/Ndiag
→
ΠG
ΣF
coincides
with
the
ΠG
ΣF
-conjugacy
class
of
any
VCN-subgroup
of
ΠG
ΣF
associated
to
the
element
of
VCN(G
ΣF
)
=
VCN(G)
natural
determined
by
z
F
(respectively,
associated
to
e
∈
Edge(G
ΣF
)
=
Edge(G)).
(ii)
The
image
of
the
composite
∼
ΠzF
→
ΠGx
←
ΠF

ΠF
/Ndiag
is
commensurably
terminal.
(iii)
Suppose
that
either
•
z
F
∈
Edge(Gx
),
or
•
z
F
=
vxF
for
v
∈
Vert(G)
such
that
x
does
not
lie
on
v.
Then
the
composite
∼
ΠzF
→
ΠGx
←
ΠF

ΠF
/Ndiag
is
injective.
(iv)
Let
Π(z
)F
⊆
ΠGx
be
a
VCN-subgroup
of
ΠGx
associated
to
an
element
(z

)F
∈
VCN(Gx
)
\
{cF
diag
}.
Suppose
that
either
•
x

Vert(G),
or
•
F
F
x

Edge(G),
and
z
F
,
(z

)F
∈
{vnew,x
}
∪
E(vnew,x
).
Then
if
the
ΠF
/Ndiag
-conjugacy
classes
of
the
images
of
Πz
F
,
Π(z

)F
⊆
ΠGx
via
the
composite
∼
ΠGx
←
ΠF

ΠF
/Ndiag
Combinatorial
anabelian
topics
I
129
coincide,
then
z
F
=
(z

)F
.
Proof.
Assertion
(i)
follows
immediately
from
the
various
deﬁnitions
involved.
Assertion
(ii)
follows
immediately
from
[CmbGC],
Proposition
1.2,
(ii),
and
assertion
(i),
together
with
the
various
deﬁnitions
involved.
Assertion
(iii)
follows
immediately
from
assertion
(i),
together
with
the
various
deﬁnitions
involved.
Assertion
(iv)
follows
immediately
from
[CmbGC],
Proposition
1.2,
(i),
and
assertion
(i),
together
with
the
various
deﬁnitions
involved.
Q.E.D.
Lemma
6.7
(Outomorphisms
preserving
the
diagonal).
In
the
notation
of
Deﬁnition
6.3,
let
H
⊆
ΠB
be
an
open
subgroup
of
ΠB
,
def
α

an
automorphism
of
ΠT
|H
=
ΠT
×ΠB
H
over
H,
αF
∈
Out(ΠF
)
the
|ΠF
of
α

to
ΠF
⊆
outomorphism
of
ΠF
determined
by
the
restriction
α
ΠT
|H
,
and
ΠcFdiag
⊆
ΠF
a
cuspidal
subgroup
of
ΠF
associated
to
cF
diag
∈
CuspF
(G)
[cf.
Deﬁnition
6.5,
(i),
(iii)].
Then
the
following
hold:
(i)
Suppose
that
α

preserves
ΠcFdiag
⊆
ΠF
.
Then
the
automorphism
of
ΠF
/Ndiag
[where
we
refer
to
the
statement
of
Lemma
6.6

is
the
identity
automorconcerning
Ndiag
]
induced
by
α
phism.
If,
moreover,
αF
is
C-admissible
[cf.
Deﬁnition
6.1;
Lemma
6.2,
(ii)],
then
the
automorphism
of
CuspF
(G)
induced
by
αF
[cf.
Deﬁnition
6.5,
(ii)]
is
the
identity
automorphism.
(ii)
Let
e
∈
Edge(G),
x
∈
X(k)
be
such
that
x

e.
Suppose
that
αF
is
C-admissible,
and
that
Edge(G)
=
{e}
∪
Cusp(G).
∼
Then
it
holds
that
αF
∈
Aut(Gx
)
(⊆
Out(ΠGx
)
←
Out(ΠF
)).
If,
moreover,
α

preserves
ΠcFdiag
⊆
ΠF
,
then
αF
∈
Aut|grph|
(Gx
)
(⊆
Aut(Gx
)).
Proof.
First,
we
verify
assertion
(i).
Now
let
us
observe
that
it
follows
immediately
from
a
similar
argument
to
the
argument
used
in
the
proof
of
[CmbCsp],
Proposition
1.2,
(iii)
—
i.e.,
by
considering
the
action
of
α

on
the
decomposition
subgroup
D
⊆
ΠT
|H
of
ΠT
|H
associated
to
the
diagonal
divisor
of
X2log
such
that
ΠcFdiag
⊆
D,
and
applying
the

induces
the
identity
aufact
that
D
=
NΠT
|H
(ΠcFdiag
)
⊆
ΠT
|H
—
that
α
tomorphism
on
some
normal
open
subgroup
J
⊆
ΠF
/Ndiag
of
ΠF
/Ndiag
.
Thus,
it
follows
immediately
from
the
slimness
[cf.
[CmbGC],
Remark
130
Yuichiro
Hoshi
and
Shinichi
Mochizuki
∼
1.1.3]
of
ΠG
ΣF
←
ΠF
/Ndiag
→
Aut(J)
that
α

induces
the
identity
au
tomorphism
on
ΠF
/Ndiag
.
This
completes
the
proof
of
the
fact
that
α
induces
the
identity
automorphism
of
ΠF
/Ndiag
.
On
the
other
hand,
if,

induces
the
identity
automormoreover,
αF
is
C-admissible,
then
since
α
phism
of
ΠF
/Ndiag
,
it
follows
immediately
from
[CmbGC],
Proposition
∼
1.2,
(i),
applied
to
the
cuspidal
inertia
subgroups
of
ΠF
/Ndiag
→
ΠG
ΣF
F
[cf.
Lemma
6.6,
(i)]
that
the
automorphism
of
Cusp
(G)
induced
by
αF
is
the
identity
automorphism.
This
completes
the
proof
of
assertion
(i).
∼
Next,
we
verify
assertion
(ii).
Let
Πe
⊆
ΠG
←
ΠB
be
an
edgelike
subgroup
associated
to
the
edge
e
∈
Edge(G).
By
abuse
of
notation,
we
shall
write
H
∩
Πe
⊆
ΠB
for
the
intersection
of
H
with
the

is
an
auimage
of
Πe
in
ΠB
.
Now
since
αF
is
C-admissible,
and
α
tomorphism
of
ΠT
|H
over
H,
it
holds
that
αF
∈
ZOutC
(ΠF
)
(ρ2/1
(H))
[cf.
the
discussion
entitled
“Topological
groups”
in
§0],
hence
also
that
αF
∈
ZOutC
(ΠF
)
(ρ2/1
(H
∩
Πe
)).
On
the
other
hand,
in
light
of
the
well-known
structure
of
X
log
in
a
neighborhood
of
the
cusp
or
node
corresponding
to
e,
one
veriﬁes
easily
—
by
applying
[NodNon],
Proposition
2.14,
together
with
our
assumption
that
Edge(G)
=
{e}
∪
Cusp(G)
—
that
the
image
of
the
composite
∼
ρ2/1
∼
Πe
→
ΠG
←
ΠB
→
Out(ΠF
)
→
Out(ΠGx
)
,
∼
hence
also
the
image
ρ2/1
(H∩Πe
)
⊆
Out(ΠF
)
→
Out(ΠGx
),
is
NN-ample
[cf.
Deﬁnition
5.13;
Theorem
5.9,
(ii)].
Thus,
since
cF
diag
∈
Cusp(Gx
)
=
∅,
it
follows
immediately
from
Theorem
5.14,
(i),
that
αF
∈
Aut(Gx
).
This
completes
the
proof
of
the
fact
that
αF
∈
Aut(Gx
).
Now
suppose,
moreover,
that
α

preserves
ΠcFdiag
⊆
ΠF
.
Then
it
follows
from
assertion
F
.
On
the
(i)
that
αF
ﬁxes
the
cusps
of
Gx
,
hence
that
it
ﬁxes
vnew,x
other
hand,
since
α

induces
the
identity
automorphism
of
ΠF
/Ndiag
[cf.
assertion
(i)],
it
follows
from
Lemma
6.6,
(iii),
(iv),
that
αF
ﬁxes
the
F
,
as
well
as
[cf.
[CmbGC],
Proposition
vertices
of
Gx
that
are
=
vnew,x
1.2,
(i)]
the
branches
of
nodes
of
Gx
that
abut
to
such
vertices.
Thus,
αF
∈
Aut|grph|
(Gx
),
as
desired.
This
completes
the
proof
of
assertion
(ii).
Q.E.D.
Lemma
6.8
(Triviality
of
certain
outomorphisms).
In
the
notation
of
Deﬁnition
6.3,
let
ΠcFdiag
⊆
ΠF
be
a
cuspidal
subgroup
of
ΠF
F
associated
to
cF
diag
∈
Cusp
(G)
[cf.
Deﬁnition
6.5,
(i),
(iii)],
H
⊆
ΠB
an
open
subgroup
of
ΠB
,
and
α
∈
ZOutC
(ΠF
)
(ρ2/1
(H))
[cf.
Deﬁnition
6.1;
Combinatorial
anabelian
topics
I
131
Lemma
6.2,
(ii)].
Suppose
that
α
preserves
the
ΠF
-conjugacy
class
of
ΠcFdiag
⊆
ΠF
.
Then
α
is
the
identity
outomorphism.
Proof.
The
following
argument
is
essentially
the
same
as
the
argument
applied
in
[CmbCsp],
[NodNon]
to
prove
[CmbCsp],
Corollary
2.3,
(ii);
[NodNon],
Corollary
5.3.
def

∈
AutH
(ΠT
|H
)
a
lifting
of
α
∈
Let
ΠT
|H
=
ΠT
×ΠB
H
and
α
∼
ZOutC
(ΠF
)
(ρ2/1
(H))
⊆
ZOut(ΠF
)
(ρ2/1
(H))
←
AutH
(ΠT
|H
)/Inn(ΠF
)
[cf.
the
discussion
entitled
“Topological
groups”
in
§0].
Since
we
have
assumed
that
α
preserves
the
ΠF
-conjugacy
class
of
ΠcFdiag
⊆
ΠF
,
it
follows
from
Lemma
6.7,
(i),
(ii),
that
by
replacing
α

by
a
suitable
ΠF
conjugate
of
α
,
we
may
assume
without
loss
of
generality
that
α

preserves
ΠcFdiag
⊆
ΠF
,
and,
moreover,
that
(a)
the
automorphism
of
ΠF
/Ndiag
induced
by
α

is
the
identity
automorphism;
(b)
for
e
∈
Edge(G),
x
∈
X(k)
such
that
x

e,
if
Edge(G)
=
{e}
∼
∪
Cusp(G),
then
α
∈
Aut|grph|
(Gx
)
(⊆
Out(ΠGx
)
←
Out(ΠF
)).
Next,
we
claim
that
(∗1
):
if
(g,
r)
=
(0,
3),
then
α
is
the
identity
outomorphism.
Indeed,
write
c1
,
c2
,
c3
∈
Cusp(G)
for
the
three
distinct
cusps
of
G;
v
∈
Vert(G)
for
the
unique
vertex
of
G.
For
i
∈
{1,
2,
3},
let
xi
∈
X(k)
be
such
that
xi

ci
.
Next,
let
us
observe
that
since
our
assumption
that
(g,
r)
=
(0,
3)
implies
that
Node(G)
=
∅,
it
follows
immediately
∼
from
(b)
that
for
i
∈
{1,
2,
3},
the
outomorphism
α
of
ΠGxi
←
ΠF
is
∼
∈
Aut|grph|
(Gxi
)
(⊆
Out(ΠGxi
)
←
Out(ΠF
)).
Next,
let
us
ﬁx
a
verticial
∼
subgroup
ΠvxF
⊆
ΠGx2
←
ΠF
associated
to
vxF2
∈
Vert(Gx2
)
[cf.
Deﬁni2
tion
6.3,
(ii)].
Then
since
α
∈
Aut|grph|
(Gx2
),
it
follows
immediately
from
the
commensurable
terminality
of
the
image
of
the
composite
ΠvxF
→
2
∼
ΠGx2
←
ΠF

ΠF
/Ndiag
[cf.
Lemma
6.6,
(ii)],
together
with
(a),
that

vF
)
=
ΠvF
.
Thus,
there
exists
an
Ndiag
-conjugate
β
of
α

such
that
β(Π
x
x
2
∼
2
since
the
composite
ΠvxF
→
ΠGx2
←
ΠF

ΠF
/Ndiag
is
injective
[cf.
2
Lemma
6.6,
(iii)],
it
follows
immediately
from
(a)
that
β
induces
the
∼
identity
automorphism
on
ΠvxF
⊆
ΠGx2
←
ΠF
.
Next,
let
ΠcF1
⊆
ΠF
be
a
2
cuspidal
subgroup
of
ΠF
associated
to
c1
∈
CuspF
(G)
[cf.
Deﬁnition
6.5,
∼
∼
(iii)]
which
is
contained
in
ΠvxF
⊆
ΠGx2
←
ΠF
;
ΠvxF
⊆
ΠGx3
←
ΠF
a
2
3
132
Yuichiro
Hoshi
and
Shinichi
Mochizuki
verticial
subgroup
associated
to
vxF3
∈
Vert(Gx3
)
that
contains
ΠcF1
⊆
ΠF
.
∼
Then
since
β
induces
the
identity
automorphism
on
ΠvF
⊆
ΠG
←
ΠF
,
x2
x2

cF
)
=
ΠcF
.
Thus,
since
it
follows
from
the
inclusion
ΠcF1
⊆
ΠvxF
that
β(Π
1
1
2
∼
the
verticial
subgroup
ΠvxF
⊆
ΠGx3
←
ΠF
is
the
unique
verticial
sub3
∼
group
of
ΠGx3
←
ΠF
associated
to
vxF3
∈
Vert(Gx3
)
which
contains
ΠcF1
[cf.
[CmbGC],
Proposition
1.5,
(i)],
it
follows
immediately
from
the
fact

vF
)
=
ΠvF
.
In
particular,
since
the
that
α
∈
Aut|grph|
(Gx3
)
that
β(Π
x3
x3
composite
ΠvxF
→
ΠF

ΠF
/Ndiag
is
injective
[cf.
Lemma
6.6,
(iii)],
it
3
follows
immediately
from
(a)
that
β
induces
the
identity
automorphism
∼
on
ΠvxF
⊆
ΠGx3
←
ΠF
.
On
the
other
hand,
since
ΠF
is
topologically
3
∼
∼
generated
by
ΠvxF
⊆
ΠGx2
←
ΠF
and
ΠvxF
⊆
ΠGx3
←
ΠF
[cf.
[CmbCsp],
2
3
Lemma
1.13],
this
implies
that
β
induces
the
identity
automorphism
on
ΠF
.
This
completes
the
proof
of
the
claim
(∗1
).
Next,
we
claim
that
(∗2
):
for
arbitrary
(g,
r),
α
is
the
identity
outomorphism.
Indeed,
we
verify
the
claim
(∗2
)
by
induction
on
3g
−3+r.
If
3g
−3+r
=
0,
i.e.,
(g,
r)
=
(0,
3),
then
the
claim
(∗2
)
amounts
to
the
claim
(∗1
).
Now
suppose
that
3g
−3+r
>
1,
and
that
the
induction
hypothesis
is
in
force.
Since
3g
−
3
+
r
>
1,
one
veriﬁes
easily
that
there
exists
a
stable
log
curve
Y
log
of
type
(g,
r)
over
(Spec
k)log
such
that
Y
log
has
precisely
one
node.
Thus,
it
follows
immediately
from
Lemma
6.2,
(i),
that
to
verify
the
claim
(∗2
),
by
replacing
X
log
by
Y
log
,
we
may
assume
without
loss
of
generality
that
Node(G)
=
1.
Let
e
be
the
unique
node
of
G
and
x
∈
X(k)
such
that
x

e.
Now
let
us
observe
that
since
Node(G)
=
1,
and
e
∈
Node(G),
it
follows
from
(b)
that
α
∈
Aut|grph|
(Gx
)
(⊆
∼
F
F
Out(ΠGx
)
←
Out(ΠF
)).
Write
{eF
1
,
e2
}
=
N
(vnew,x
)
[cf.
Lemma
6.4,
(iv)].
Also,
for
i
∈
{1,
2},
denote
by
vi
∈
Vert(G)
the
vertex
of
G
F
F
such
that
(vi
)F
x
∈
Vert(Gx
)
is
the
unique
element
of
V(ei
)
\
{vnew,x
}
[cf.
Lemma
6.4,
(iv)];
by
Hi
the
sub-semi-graph
of
PSC-type
of
the
F
,
(vi
)F
underlying
semi-graph
Gx
of
Gx
whose
set
of
vertices
=
{vnew,x
x
};
def
and
by
Si
=
Node((Gx
)|Hi
)
\
{eF
i
}
⊆
Node((Gx
)|Hi
)
the
complement
}.
[Thus,
if
G
is
noncyclically
primitive
(respectively,
cyclically
of
{eF
i
primitive)
[cf.
Deﬁnition
4.1],
then
Hi
=
Gx
and
Si
=
∅
(respectively,
Hi
=
Gx
and
Si
=
{eF
3−i
}).
In
particular,
Si
⊆
Node((Gx
)|Hi
)
is
not
of
separating
type.]
Next,
let
us
observe
that
to
complete
the
proof
of
the
above
claim
(∗2
),
it
suﬃces
to
verify
that
Combinatorial
anabelian
topics
I
133
(†):
α
∈
Dehn(Gx
),
and,
moreover,
for
i
∈
{1,
2},
α
is
contained
in
the
kernel
of
the
natural
surjection
Dehn(Gx
)

Dehn(((Gx
)|Hi
)Si
)
[cf.
Theorem
4.8,
(iii),
(iv)].
F
F
)
=
{eF
Indeed,
since
[as
is
easily
veriﬁed]
Node(Gx
)
=
N
(vnew,x
1
,
e2
},
it
follows
immediately
from
Theorem
4.8,
(iii),
(iv),
that
2



Ker
Dehn(Gx
)

Dehn(((Gx
)|Hi
)Si
)
=
{1}
.
i=1
In
particular,
the
implication
(†)
⇒
(∗2
)
holds.
The
remainder
of
the
proof
of
the
claim
(∗2
)
is
devoted
to
verifying
the
above
(†).
∼
For
i
∈
{1,
2},
let
Π(vi
)Fx
⊆
ΠGx
←
ΠF
be
a
verticial
subgroup
of
∼
F
F
ΠGx
←
ΠF
associated
to
the
vertex
(vi
)F
x
∈
V(ei
)
\
{vnew,x
}.
Then

preserves
the
ΠF
-conjugacy
since
α
∈
Aut|grph|
(Gx
),
it
follows
that
α
∼
class
of
Π(vi
)Fx
⊆
ΠGx
←
ΠF
.
Thus,
since
the
image
of
the
composite
Π(vi
)Fx
→
ΠF

ΠF
/Ndiag
is
commensurably
terminal
[cf.
Lemma
6.6,
(ii)],
it
follows
immediately
from
(a)
that
there
exists
an
Ndiag
-conjugate

such
that
βi
(Π(vi
)Fx
)
=
Π(vi
)Fx
.
βi
[which
may
depend
on
i
∈
{1,
2}!]
of
α
Therefore,
since
the
composite
Π(vi
)Fx
→
ΠF

ΠF
/Ndiag
is
injective
[cf.
Lemma
6.6,
(iii)],
it
follows
from
(a)
that
βi
induces
the
identity
automorphism
of
Π(vi
)Fx
.
∼
Next,
let
ΠeFi
⊆
Π(vi
)Fx
be
a
nodal
subgroup
of
ΠGx
←
ΠF
associated
∼
F
;
Πvnew,x
to
eF
;i
⊆
ΠGx
←
ΠF
i
∈
Node(Gx
)
that
is
contained
in
Π(vi
)F
x
a
verticial
subgroup
[which
may
depend
on
i
∈
{1,
2}!]
associated
to
F
∈
Vert(Gx
)
which
contains
ΠeFi
:
vnew,x
F
⊆
Π(vi
)Fx
Πvnew,x
;i
⊇
ΠeF
i
⊆
∼
ΠGx
←
ΠF
.
Then
since
βi
preserves
and
induces
the
identity
automorphism
on
Π(vi
)Fx
,
it
follows
from
the
inclusion
ΠeFi
⊆
Π(vi
)Fx
that
βi
(ΠeFi
)
=
ΠeFi
.
More∼
F
over,
since
Πvnew,x
;i
is
the
unique
verticial
subgroup
of
ΠGx
←
ΠF
F
associated
to
vnew,x
which
contains
ΠeFi
[cf.
[CmbGC],
Proposition
1.5,
(i)],
it
follows
immediately
from
the
fact
that
α
∈
Aut|grph|
(Gx
)

F
F
that
βi
(Πvnew,x
;i
)
=
Πvnew,x
;i
.
Thus,
βi
preserves
the
closed
subgroup
ΠFi
⊆
ΠF
of
ΠF
obtained
by
forming
the
image
of
the
natural
homomorphism


F
→
Π(vi
)Fx
−→
ΠF
lim
Πvnew,x
;i
←
ΠeF
i
−→
134
Yuichiro
Hoshi
and
Shinichi
Mochizuki
—
where
the
inductive
limit
is
taken
in
the
category
of
pro-ΣF
groups.
Now
one
may
verify
easily
that
the
ΠF
-conjugacy
class
of
ΠFi
⊆
ΠF
coincides
with
the
ΠF
-conjugacy
class
of
the
image
of
the
natural
outer
∼
injection
Π((Gx
)|Hi
)Si
→
ΠGx
←
ΠF
discussed
in
Proposition
2.11;
in
particular,
ΠFi
is
commensurably
terminal
in
ΠF
[cf.
Proposition
2.11].
Moreover,
by
applying
a
similar
argument
to
the
argument
used
in
[CmbCsp],
Deﬁnition
2.1,
(iii),
(vi),
or
[NodNon],
Deﬁnition
5.1,
(ix),
(x)
[i.e.,
by
considering
the
portion
of
the
underlying
scheme
X2
of
X2log
corresponding
to
the
underlying
scheme
(Xvi
)2
of
the
2-nd
log
conﬁguration
space
(Xvi
)log
of
the
stable
log
curve
Xvlog
determined
by
G|vi
],
2
i
∼
one
concludes
that
there
exists
a
verticial
subgroup
Πvi
⊆
ΠG
←
ΠB
associated
to
vi
∈
Vert(G)
such
that
the
outer
representation
of
Πvi
on
ρ2/1
ΠF
determined
by
the
composite
Πvi
→
ΠB
→
Out(ΠF
)
preserves
the
ΠF
-conjugacy
class
of
ΠFi
⊆
ΠF
[so
we
obtain
a
natural
outer
representation
Πvi
→
Out(ΠFi
)
—
cf.
Lemma
2.12,
(iii)],
and,
moreover,
out
def
that
if
we
write
ΠTi
=
ΠFi

Πvi
(⊆
ΠT
)
[cf.
the
discussion
entitled
“Topological
groups”
in
§0],
then
ΠTi
is
naturally
isomorphic
to
the
“ΠT
”
obtained
by
taking
“G”
to
be
G|vi
.
Now
since
βi
(ΠFi
)
=
ΠFi
,
and
α
∈
ZOutC
(ΠF
)
(ρ2/1
(H)),
one
may
verify
easily
that
the
outomorphism
of
ΠFi
determined
by
βi
|ΠFi
[cf.
Lemma
2.12,
(iii)]
is
∈
ZOutC
(ΠFi
)
(ρ2/1
(H
∩
Πvi
))
—
where,
by
abuse
of
notation,
we
write
H
∩
Πvi
⊆
ΠB
for
the
intersection
of
H
with
the
image
of
Πvi
in
ΠB
.
Therefore,
since
the
quantity
“3g
−
3
+
r”
associated
to
G|vi
is
<
3g
−
3
+
r,
by
considering
a
similar
diagram
to
the
diagram
in
[CmbCsp],
Deﬁnition
2.1,
(vi),
or
[NodNon],
Deﬁnition
5.1,
(x),
and
applying
the
induction
hypothesis,
we
conclude
that
βi
|ΠFi
is
a
ΠFi
-inner
automorphism.
In
particular,
it
follows
immediately
[by
allowing
i
∈
{1,
2}
to
vary]
that
the
outomorphism
α
is
∈
Dehn(Gx
),
and,
moreover
—
by
considering
the
natural
identiﬁcation
outer
isomorphism
∼
ΠFi
→
Π((Gx
)|Hi
))Si
—
that
α
is
contained
in
the
kernel
of
the
natural
surjection
Dehn(Gx
)

Dehn(((Gx
)|Hi
))Si
),
as
desired.
This
completes
the
proof
of
(†),
hence
also
of
Lemma
6.8.
Q.E.D.
Deﬁnition
6.9.
In
the
notation
of
Deﬁnition
6.3:
(i)
Suppose
that
2g
−
2
+
r
>
1,
i.e.,
(g,
r)
∈
{(0,
3),
(1,
1)}.
Then
we
shall
write
def
Ag,r
=
{1}
⊆
Aut(CuspF
(G))
Combinatorial
anabelian
topics
I
135
[cf.
Deﬁnition
6.5,
(i)].
(ii)
Suppose
that
(g,
r)
=
(1,
1).
Then
we
shall
write
(Z/2Z
≃)
(iii)
def
Ag,r
=
Aut(CuspF
(G))
.
Suppose
that
(g,
r)
=
(0,
3).
Then
we
shall
write
(Z/2Z
×
Z/2Z
≃)
Ag,r
⊆
Aut(CuspF
(G))
for
the
subgroup
of
Aut(CuspF
(G))
obtained
as
the
image
of
the
subgroup
of
the
symmetric
group
on
4
letters
{id,
(1
2)(3
4),
(1
3)(2
4),
(1
4)(2
3)}
⊆
S4
∼
via
the
isomorphism
S4
→
Aut(CuspF
(G))
arising
from
a
bijec∼
tion
{1,
2,
3,
4}
→
CuspF
(G).
[Note
that
since
the
above
subgroup
of
S4
is
normal,
the
subgroup
Ag,r
⊆
Aut(CuspF
(G))
∼
does
not
depend
on
the
choice
of
the
bijection
{1,
2,
3,
4}
→
CuspF
(G).]
Lemma
6.10
(Permutations
of
cusps
arising
from
certain
C-admissible
outomorphisms).
In
the
notation
of
Deﬁnition
6.3,
let
H
⊆
ΠB
be
an
open
subgroup
of
ΠB
.
Then
the
following
hold:
(i)
The
composite
ZOutC
(ΠF
)
(ρ2/1
(H))
→
OutC
(ΠF
)
→
Aut(CuspF
(G))
[cf.
Deﬁnition
6.5,
(ii)]
factors
through
the
subgroup
Ag,r
⊆
Aut(CuspF
(G))
[cf.
Deﬁnition
6.9],
hence
determines
a
homomorphism
ZOutC
(ΠF
)
(Im(ρ2/1
))
−→
Ag,r
.
(ii)
The
composite
AutX
log
(X2log
)
−→
ZOutC
(ΠF
)
(Im(ρ2/1
))
−→
Ag,r
of
the
natural
homomorphism
AutX
log
(X2log
)
−→
ZOutC
(ΠF
)
(Im(ρ2/1
))
136
Yuichiro
Hoshi
and
Shinichi
Mochizuki
with
the
homomorphism
of
(i)
is
an
isomorphism.
In
particular,
the
homomorphism
ZOutC
(ΠF
)
(Im(ρ2/1
))
→
Ag,r
of
(i)
is
a
split
surjection
[cf.
the
discussion
entitled
“Topological
groups”
in
§0].
Proof.
First,
we
verify
assertion
(i).
If
(g,
r)
=
(1,
1),
then
since
Ag,r
=
Aut(CuspF
(G)),
assertion
(i)
is
immediate.
On
the
other
hand,
if
r
=
0,
then
since
CuspF
(G)
=
1,
assertion
(i)
is
immediate.
Thus,
in
the
remainder
of
the
proof
of
assertion
(i),
we
suppose
that
(g,
r)
=
(1,
1),
r
≥
1.
Now
we
verify
assertion
(i)
in
the
case
where
r
=
1.
Let
us
observe
that
it
follows
immediately
from
Lemma
6.2,
(i),
that
by
replacing
X
log
by
a
suitable
stable
log
curve
of
type
(g,
r)
over
(Spec
k)log
,
we
may
assume
without
loss
of
generality
[cf.
our
assumption
that
r
=
1,
which
implies
that
(g,
r)
=
(0,
3)]
that
G
is
cyclically
primitive
[cf.
Deﬁnition
4.1].
Let
c
∈
Cusp(G)
be
the
unique
cusp
of
G,
e
∈
Node(G)
the
unique
node
of
G,
x
∈
X(k)
such
that
x

e,
and
α
∈
ZOutC
(ΠF
)
(ρ2/1
(H)).
Then
let
us
observe
that
it
follows
immediately
from
our
assumption
that
G
is
cyclically
primitive
of
type
(g,
r)
=
(1,
1)
(respectively,
the
various
deﬁnitions
involved)
that
the
vertex
of
Gx
to
which
cF
(respectively,
cF
diag
)
abuts
is
not
of
type
(0,
3)
(respectively,
is
of
type
(0,
3)).
Moreover,
it
follows
immediately
from
Lemma
6.7,
(ii),
that
the
outomorphism
α
of
∼
ΠGx
←
ΠF
is
∈
Aut(Gx
).
Thus,
we
conclude
that
the
automorphism
of
CuspF
(G)
induced
by
α
is
the
identity
automorphism.
This
completes
the
proof
of
assertion
(i)
in
the
case
where
r
=
1.
Next,
we
verify
assertion
(i)
in
the
case
where
r
>
1.
Let
us
observe
that
it
follows
immediately
from
Lemma
6.2,
(i),
that
by
replacing
X
log
by
a
suitable
stable
log
curve
of
type
(g,
r)
over
(Spec
k)log
,
we
may
assume
without
loss
of
generality
that
Node(G)
=
∅.
Let
v
∈
Vert(G)
be
the
unique
vertex
of
G
[cf.
our
assumption
that
Node(G)
=
∅]
and
α
∈
ZOutC
(ΠF
)
(ρ2/1
(H)).
Now
let
us
observe
that
for
any
c
∈
Cusp(G),
x
∈
X(k)
such
that
x

c,
it
follows
immediately
from
the
various
defF
F
};
C(vnew,x
)
=
{cF
,
cF
initions
involved
that
Vert(Gx
)
=
{vxF
,
vnew,x
diag
};
F
F
F
F
F
C(vx
)
=
Cusp(Gx
)\{c
,
cdiag
};
vx
is
of
type
(g,
r);
vnew,x
is
of
type
(0,
3).
Moreover,
it
follows
immediately
from
Lemma
6.7,
(ii),
that
the
outo∼
morphism
α
of
ΠGx
←
ΠF
is
∈
Aut(Gx
).
Thus,
if
(g,
r)
=
(0,
3),
then
F
F
is
of
type
(0,
3),
it
follows
immesince
vx
is
of
type
(g,
r),
and
vnew,x
diately
that
α
induces
the
identity
automorphism
on
Vert(Gx
),
hence
F
that
α
preserves
the
subset
{c,
cF
diag
}
⊆
Cusp
(G)
corresponding
to
F
C(vnew,x
)
=
{cF
,
cF
diag
}.
In
particular,
if
(g,
r)
=
(0,
3),
(respectively,
(g,
r)
=
(0,
3)),
then
—
by
allowing
“c”
to
vary
among
the
elements
of
Combinatorial
anabelian
topics
I
137
Cusp(G)
—
one
may
verify
easily
that
the
automorphism
of
CuspF
(G)
induced
by
α
is
the
identity
automorphism
(respectively,
satisﬁes
the
condition
that
for
any
subset
S
∈
CuspF
(G)
of
cardinality
2,
the
automorphism
of
CuspF
(G)
induced
by
α
determines
an
automorphism
of
the
set
{S,
CuspF
(G)
\
S}
⊆
F
2Cusp
(G)
,
hence,
by
Lemma
6.11
below,
is
contained
in
Ag,r
⊆
Aut(CuspF
(G))).
This
completes
the
proof
of
assertion
(i)
in
the
case
where
r
>
1,
hence
also
of
assertion
(i).
Next,
we
verify
assertion
(ii).
One
veriﬁes
easily
that
the
composite
of
natural
homomorphisms
∼
AutX
log
(X2log
)
→
AutΠB
(ΠT
)/Inn(ΠF
)
→
ZOut(ΠF
)
(Im(ρ2/1
))
[cf.
the
discussion
entitled
“Topological
groups”
in
§0]
factors
through
ZOutC
(ΠF
)
(Im(ρ2/1
))
⊆
ZOut(ΠF
)
(Im(ρ2/1
)).
In
particular,
we
obtain
a
natural
homomorphism
AutX
log
(X2log
)
→
ZOutC
(ΠF
)
(Im(ρ2/1
)).
Now
the
fact
that
the
composite
AutX
log
(X2log
)
→
ZOutC
(ΠF
)
(Im(ρ2/1
))
→
OutC
(ΠF
)
→
Aut(CuspF
(G))
determines
a
surjection
AutX
log
(X2log
)

Ag,r
is
well-known
and
easily
veriﬁed.
To
verify
that
this
surjection
is
injective,
observe
that
an
element
of
the
kernel
of
this
surjection
determines
an
automorphism
of
the
trivial
family
X
log
×(Spec
k)log
X
log
→
X
log
over
X
log
that
preserves
the
image
of
the
diagonal.
On
the
other
hand,
since
the
relative
tangent
bundle
of
this
trivial
family
has
no
nonzero
global
sections,
one
concludes
immediately
that
such
an
automorphism
is
constant,
i.e.,
arises
from
a
single
automorphism
of
the
ﬁber
X
log
over
(Spec
k)log
that
is
compatible
with
the
diagonal,
hence
[as
is
easily
veriﬁed]
equal
to
the
identity
automorphism,
as
desired.
This
completes
the
proof
of
assertion
(ii).
Q.E.D.
Lemma
6.11
(A
subgroup
of
the
symmetric
group
on
4
letters).
Write
G
⊆
S4
for
the
subgroup
of
the
symmetric
group
on
4
letters
S4
consisting
of
g
∈
S4
such
that
(∗):
for
any
subset
S
⊆
{1,
2,
3,
4}
of
cardinality
2,
the
automorphism
g
of
{1,
2,
3,
4}
determines
an
automorphism
of
the
set
{S,
{1,
2,
3,
4}
\
S}
⊆
2{1,2,3,4}
.
138
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Then
G
=
{id,
(1
2)(3
4),
(1
3)(2
4),
(1
4)(2
3)}
.
Proof.
First,
let
us
observe
that
one
may
verify
easily
that
{id,
(1
2)(3
4),
(1
3)(2
4),
(1
4)(2
3)}
⊆
G
.
Thus,
to
verify
Lemma
6.11,
it
suﬃces
to
verify
that
G
=
4.
Next,
let
us
observe
that
it
follows
immediately
from
the
condition
(∗)
that
for
any
element
g
∈
G,
it
holds
that
g
4
=
id;
in
particular,
by
the
Sylow
Theorem,
together
with
the
fact
that
S4
=
23
·
3,
we
conclude
that
G
is
a
2-group.
Thus,
to
verify
Lemma
6.11,
it
suﬃces
to
verify
that
G
=
8.
Next,
let
us
observe
that
it
follows
immediately
from
the
condition
(∗)
that
G
⊆
S4
is
normal.
Thus,
if
G
=
8,
then
since
S4
=
23
·
3,
and
(1
2)
∈
S4
is
of
order
2,
again
by
the
Sylow
Theorem,
we
conclude
that
(1
2)
∈
G,
in
contradiction
to
the
fact
that
(1
2)
does
not
satisfy
the
condition
(∗).
This
completes
the
proof
of
Lemma
6.11.
Q.E.D.
Theorem
6.12
(Centralizers
of
geometric
monodromy
groups
arising
from
conﬁguration
spaces).
Let
(g,
r)
be
a
pair
of
nonnegative
integers
such
that
2g
−
2
+
r
>
0;
0
<
m
<
n
positive
integers;
ΣF
⊆
ΣB
nonempty
sets
of
prime
numbers;
k
an
algebraically
closed
ﬁeld
of
characteristic
zero;
(Spec
k)log
the
log
scheme
obtained
by
equipping
Spec
k
with
the
log
structure
given
by
the
fs
chart
N
→
k
that
maps
1
→
0;
X
log
=
X1log
a
stable
log
curve
of
type
(g,
r)
over
(Spec
k)log
.
Suppose
that
ΣF
⊆
ΣB
satisfy
one
of
the
following
two
conditions:
(1)
ΣF
and
ΣB
determine
PT-formations
[i.e.,
are
either
of
cardinality
one
or
equal
to
Primes
—
cf.
[MT],
Deﬁnition
1.1,
(ii)].
(2)
n
−
m
=
1
and
ΣB
=
Primes.
Write
log
Xnlog
,
Xm
for
the
n-th,
m-th
log
conﬁguration
spaces
of
the
stable
log
curve
X
log
def
[cf.
the
discussion
entitled
“Curves”
in
§0],
respectively;
Πn
,
ΠB
=
Πm
for
the
respective
maximal
pro-ΣB
quotients
of
the
kernels
of
the
natulog
)

π1
((Spec
k)log
);
ral
surjections
π1
(Xnlog
)

π1
((Spec
k)log
),
π1
(Xm
Πn/m
⊆
Πn
for
the
kernel
of
the
surjection
Πn

ΠB
=
Πm
induced
log
obtained
by
forgetting
the
last
(n
−
m)
by
the
projection
Xnlog
→
Xm
Combinatorial
anabelian
topics
I
139
factors;
ΠF
for
the
maximal
pro-ΣF
quotient
of
Πn/m
;
ΠT
for
the
quotient
of
Πn
by
the
kernel
of
the
natural
surjection
Πn/m

ΠF
.
Thus,
we
have
a
natural
exact
sequence
of
proﬁnite
groups
1
−→
ΠF
−→
ΠT
−→
ΠB
−→
1
,
which
determines
an
outer
representation
ρn/m
:
ΠB
−→
Out(ΠF
)
.
Then
the
following
hold:
(i)
Let
H
⊆
ΠB
be
an
open
subgroup
of
ΠB
.
Recall
that
Xnlog
→
log
may
be
regarded
as
the
(n
−
m)-th
log
conﬁguration
space
Xm
log
log
log
of
the
family
of
stable
log
curves
Xm+1
→
Xm
over
Xm
.
Then
the
composite
of
natural
homomorphisms
log
log
AutXm
log
(X
log
(Xn
)
−→
AutΠB
(ΠT
)/Inn(ΠF
)
m+1
)
−→
AutXm
∼
−→
ZOut(ΠF
)
(Im(ρn/m
))
⊆
ZOut(ΠF
)
(ρn/m
(H))
—
where
the
ﬁrst
arrow
is
the
homomorphism
arising
from
the
functoriality
of
the
construction
of
the
log
conﬁguration
space;
the
third
arrow
is
the
isomorphism
appearing
in
the
discussion
entitled
“Topological
groups”
in
§0
—
determines
an
isomorphism
∼
log
AutXm
log
(X
m+1
)
−→
ZOutFC
(ΠF
)
(ρn/m
(H))
—
where
we
write
OutFC
(ΠF
)
for
the
group
of
FC-admissible
[cf.
Deﬁnition
6.1;
[CmbCsp],
Deﬁnition
1.1,
(ii)]
outomorphisms
of
ΠF
[cf.
Lemma
6.2,
(ii)].
Here,
we
recall
that
the
log
automorphism
group
AutXm
log
(X
m+1
)
is
isomorphic
to
⎧
if
(g,
r,
m)
=
(0,
3,
1);
⎨
Z/2Z
×
Z/2Z
Z/2Z
if
(g,
r,
m)
=
(1,
1,
1);
⎩
{1}
if
(g,
r,
m)
∈
{(0,
3,
1),
(1,
1,
1)}.
(ii)
The
isomorphism
of
(i)
and
the
natural
inclusion
Sn−m
→
ZOutPFC
(ΠF
)
(ρn/m
(H))
—
where
we
write
OutPFC
(ΠF
)
for
the
group
of
PFC-admissible
[cf.
Deﬁnitions
1.4,
(iii);
6.1]
outomorphisms
of
ΠF
[cf.
Lemma
6.2,
(ii)]
—
determine
an
isomorphism
∼
log
AutXm
log
(X
m+1
)
×
Sn−m
−→
ZOutPFC
(ΠF
)
(ρn/m
(H))
.
140
(iii)
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Let
H
be
a
closed
subgroup
of
OutPFC
(ΠF
)
that
contains
an
open
subgroup
of
Im(ρn/m
)
⊆
Out(ΠF
).
Then
H
is
almost
slim
[cf.
the
discussion
entitled
“Topological
groups”
in
§0].
If,
moreover,
H
⊆
OutFC
(ΠF
),
and
(g,
r,
m)
∈
{(0,
3,
1),
(1,
1,
1)},
then
H
is
slim
[cf.
the
discussion
entitled
“Topological
groups”
in
§0].
Proof.
First,
we
verify
assertion
(i).
We
begin
by
observing
that
log
the
description
of
the
automorphism
group
AutXm
log
(X
m+1
)
given
in
the
statement
of
assertion
(i)
follows
immediately
from
Lemma
6.10,
(ii).
Next,
let
us
observe
that
(∗1
):
to
verify
assertion
(i),
it
suﬃces
to
verify
assertion
(i)
in
the
case
where
ΣB
=
Primes.
Indeed,
this
follows
immediately
from
the
various
deﬁnitions
involved.
Thus,
in
the
remainder
of
the
proof
of
assertion
(i),
we
suppose
that
ΣB
=
Primes.
Next,
we
claim
that
(∗2
):
the
composite
homomorphism
of
assertion
(i)
determines
an
injection
log
AutXm
log
(X
m+1
)
→
ZOutFC
(ΠF
)
(ρn/m
(H))
.
Indeed,
one
veriﬁes
easily
that
the
composite
as
in
assertion
(i)
factors
through
ZOutFC
(ΠF
)
(ρn/m
(H)).
On
the
other
hand,
by
considering
the
log
action
of
AutXm
log
(X
m+1
)
on
the
set
of
conjugacy
classes
of
cuspidal
inertia
subgroups
of
suitable
subquotients
[arising
from
ﬁber
subgroups]
of
ΠF
,
it
follows
immediately
that
the
composite
as
in
assertion
(i)
is
injective
[cf.
Lemma
6.10,
(ii)].
This
completes
the
proof
of
the
claim
(∗2
).
Next,
we
claim
that
(∗3
):
the
injection
of
(∗2
)
is
an
isomorphism.
Indeed,
it
follows
immediately
from
the
various
deﬁnitions
involved
that
if
NB
⊆
ΠB
is
a
ﬁber
subgroup
of
ΠB
of
length
1
[cf.
Lemma
6.2,
(ii);
[MT],
Deﬁnition
2.3,
(iii)],
then
the
natural
surjection
ΠT
×ΠB
NB

NB
may
be
regarded
as
the
“ΠT

ΠB
”
obtained
by
taking
“(g,
r,
m,
n)”
to
be
(g,
r
+
m
−
1,
1,
n
−
m
+
1).
Thus,
by
applying
the
inclusion
ZOutFC
(ΠF
)
(ρn/m
(H))
⊆
ZOutFC
(ΠF
)
(ρn/m
(H
∩
NB
))
and
replacing
ΠT

ΠB
by
ΠT
×ΠB
NB

NB
,
we
may
assume
without
loss
of
generality
that
m
=
1.
On
the
other
hand,
it
follows
immediately
from
the
various
deﬁnitions
involved
that
if
NF
⊆
ΠF
is
a
ﬁber
subgroup
of
ΠF
of
length
n
−
2,
then
the
natural
surjection
ΠT
/NF

ΠB
may
Combinatorial
anabelian
topics
I
141
be
regarded
as
the
“ΠT

ΠB
”
obtained
by
taking
“(g,
r,
m,
n)”
to
be
(g,
r,
1,
2).
Thus,
since
the
natural
homomorphism
OutFC
(ΠF
)
→
OutFC
(ΠF
/NF
)
is
injective
[cf.
[NodNon],
Theorem
B],
by
replacing
ΠT

ΠB
by
ΠT
/NF

ΠB
,
we
may
assume
without
loss
of
generality
that
(m,
n)
=
(1,
2).
In
particular
—
in
light
of
our
assumption
that
ΣB
=
Primes
[cf.
(∗1
)]
—
we
are
in
the
situation
of
Deﬁnition
6.3.
Let
α
∈
ZOutFC
(ΠF
)
(ρn/m
(H)).
Then
it
follows
immediately
from
Lemma
6.10,
(ii),
that
there
exists
an
element
β
of
the
image
of
the
injection
of
(∗2
)
such
that
α
◦
β
∈
ZOutFC
(ΠF
)
(ρn/m
(H))
induces
the
identity
automorphism
of
CuspF
(G)
[cf.
Deﬁnition
6.5,
(i),
(ii)].
In
particular,
α
◦
β
preserves
the
ΠF
-conjugacy
class
of
a
cuspidal
subgroup
F
ΠcFdiag
⊆
ΠF
of
ΠF
associated
to
cF
diag
∈
Cusp
(G)
[cf.
Deﬁnition
6.5,
(iii)].
Thus,
it
follows
from
Lemma
6.8
that
α
◦
β
is
the
identity
outomorphism
of
ΠF
.
In
particular,
we
conclude
that
the
injection
of
(∗2
)
is
surjective.
This
completes
the
proof
of
the
claim
(∗3
),
hence
also
of
assertion
(i).
Next,
we
verify
assertion
(ii).
First,
let
us
observe
that
by
considering
the
action
of
ZOutPFC
(ΠF
)
(ρn/m
(H))
on
the
set
of
ﬁber
subgroups
of
ΠF
of
length
1,
we
obtain
an
exact
sequence
of
proﬁnite
groups
1
−→
ZOutFC
(ΠF
)
(ρn/m
(H))
−→
ZOutPFC
(ΠF
)
(ρn/m
(H))
−→
Sn−m
.
log
obtained
by
Now
by
considering
the
action
of
Sn−m
on
Xnlog
over
Xm
log
permuting
the
ﬁrst
n
−
m
factors
of
Xn
,
we
obtain
a
section
Sn−m
→
ZOutPFC
(ΠF
)
(ρn/m
(H))
of
the
third
arrow
in
the
above
exact
sequence;
in
particular,
the
third
arrow
is
surjective.
On
the
other
hand,
it
follows
from
[NodNon],
Theorem
B,
that
the
image
of
the
section
Sn−m
→
ZOutPFC
(ΠF
)
(ρn/m
(H))
commutes
with
ZOutFC
(ΠF
)
(ρn/m
(H)).
Thus,
the
composite
of
natural
homomorphisms
∼
log
AutXm
log
(X
m+1
)
→
ZOutFC
(ΠF
)
(ρn/m
(H))
→
ZOutFPC
(ΠF
)
(ρn/m
(H))
[cf.
assertion
(i)]
and
the
section
Sn−m
→
ZOutPFC
(ΠF
)
(ρn/m
(H))
determine
an
isomorphism
as
in
the
statement
of
assertion
(ii).
This
completes
the
proof
of
assertion
(ii).
Assertion
(iii)
follows
immediately
from
assertions,
(i),
(ii).
This
completes
the
proof
of
Theorem
6.12.
Q.E.D.
Remark
6.12.1.
By
considering
a
suitable
specialization
isomorphism,
one
may
replace
the
expression
“k
an
algebraically
closed
ﬁeld
of
characteristic
zero”
in
the
statement
of
Theorem
6.12
by
the
expression
“k
an
algebraically
closed
ﬁeld
of
characteristic
∈
ΣB
”.
142
Yuichiro
Hoshi
and
Shinichi
Mochizuki
Theorem
6.13
(Centralizers
of
geometric
monodromy
groups
arising
from
moduli
stacks
of
pointed
curves).
Let
(g,
r)
be
a
pair
of
nonnegative
integers
such
that
2g
−
2
+
r
>
0;
Σ
a
nonempty
set
of
prime
numbers;
k
an
algebraically
closed
ﬁeld
of
characteristic
def
zero.
Write
ΠMg,r
=
π1
((Mg,r
)k
)
for
the
étale
fundamental
group
of
the
moduli
stack
(Mg,r
)k
[cf.
the
discussion
entitled
“Curves”
in
§0];
Πg,r
for
the
maximal
pro-Σ
quotient
of
the
kernel
Ng,r
of
the
natural
surjection
π1
((Cg,r
)k
)

π1
((Mg,r
)k
)
=
ΠMg,r
[cf.
the
discussion
entitled
“Curves”
in
§0];
ΠCg,r
for
the
quotient
of
the
étale
fundamental
group
π1
((Cg,r
)k
)
of
(Cg,r
)k
by
the
kernel
of
the
natural
surjection
Ng,r

Πg,r
.
Thus,
we
have
a
natural
exact
sequence
of
proﬁnite
groups
1
−→
Πg,r
−→
ΠCg,r
−→
ΠMg,r
−→
1
,
which
determines
an
outer
representation
ρg,r
:
ΠMg,r
−→
Out(Πg,r
)
.
Then
the
following
hold:
(i)
The
proﬁnite
group
Πg,r
is
equipped
with
a
natural
structure
of
pro-Σ
surface
group
[cf.
[MT],
Deﬁnition
1.2].
(ii)
Let
H
⊆
ΠMg,r
be
an
open
subgroup
of
ΠMg,r
.
Suppose
that
2g
−
2
+
r
>
1,
i.e.,
(g,
r)
∈
{(0,
3),
(1,
1)}.
Then
the
composite
of
natural
homomorphisms
Aut(Mg,r
)k
((Cg,r
)k
)
−→
AutΠMg,r
(ΠCg,r
)/Inn(Πg,r
)
∼
−→
ZOut(Πg,r
)
(Im(ρg,r
))
⊆
ZOut(Πg,r
)
(ρg,r
(H))
[cf.
the
discussion
entitled
“Topological
groups”
in
§0]
determines
an
isomorphism
∼
Aut(Mg,r
)k
((Cg,r
)k
)
−→
ZOutC
(Πg,r
)
(ρg,r
(H))
[cf.
(i);
Deﬁnition
6.1].
Here,
we
recall
that
the
automorphism
group
Aut(Mg,r
)k
((Cg,r
)k
)
is
isomorphic
to
⎧
if
(g,
r)
=
(0,
4);
⎨
Z/2Z
×
Z/2Z
Z/2Z
if
(g,
r)
∈
{(1,
2),
(2,
0)};
⎩
{1}
if
(g,
r)
∈
{(0,
4),
(1,
2),
(2,
0)}
.
Combinatorial
anabelian
topics
I
(iii)
143
Let
H
⊆
OutC
(Πg,r
)
be
a
closed
subgroup
of
OutC
(Πg,r
)
that
contains
an
open
subgroup
of
Im(ρg,r
)
⊆
Out(Πg,r
).
Suppose
that
2g
−
2
+
r
>
1,
i.e.,
(g,
r)
∈
{(0,
3),
(1,
1)}.
Then
H
is
almost
slim
[cf.
the
discussion
entitled
“Topological
groups”
in
§0].
If,
moreover,
2g
−
2
+
r
>
2,
i.e.,
(g,
r)
∈
{(0,
3),
(0,
4),
(1,
1),
(1,
2),
(2,
0)},
then
H
is
slim
[cf.
the
discussion
entitled
“Topological
groups”
in
§0].
Proof.
Assertion
(i)
follows
immediately
from
the
various
deﬁnitions
involved.
Next,
we
verify
assertion
(ii).
First,
we
recall
that
the
description
of
the
automorphism
group
Aut(Mg,r
)k
((Cg,r
)k
)
given
in
the
statement
of
assertion
(ii)
is
well-known
[cf.,
e.g.,
[CorHyp],
Theorem
B,
if
2g
−
2
+
r
>
2,
i.e.,
(g,
r)
∈
{(0,
4),
(1,
2),
(2,
0)}].
Next,
we
claim
that
(∗1
):
the
composite
homomorphism
of
assertion
(ii)
determines
an
injection
Aut(Mg,r
)k
((Cg,r
)k
)
→
ZOutC
(Πg,r
)
(ρg,r
(H))
.
Indeed,
one
veriﬁes
easily
that
the
composite
as
in
assertion
(ii)
factors
through
ZOutC
(Πg,r
)
(ρg,r
(H)).
Thus,
the
claim
(∗1
)
follows
immediately
from
the
well-known
fact
that
any
nontrivial
automorphism
of
a
hyperbolic
curve
over
an
algebraically
closed
ﬁeld
of
characteristic
∈
Σ
induces
a
nontrivial
outomorphism
of
the
maximal
pro-Σ
quotient
of
the
étale
fundamental
group
of
the
hyperbolic
curve
[cf.,
e.g.,
[LocAn],
the
proof
of
Theorem
14.1].
This
completes
the
proof
of
the
claim
(∗1
).
Next,
we
claim
that
(∗2
):
if
r
>
0,
then
the
injection
of
(∗1
)
is
an
isomorphism.
Indeed,
write
N
⊆
ΠMg,r
for
the
kernel
of
the
surjection
ΠMg,r

π1
((Mg,r−1
)k
)
determined
by
the
(1-)morphism
(Mg,r
)k
→
(Mg,r−1
)k
obtained
by
forgetting
the
last
section.
Then
it
follows
immediately
from
the
various
deﬁnitions
involved
that
there
exists
a
commutative
diagram
of
proﬁnite
groups
1
−−−−→
Πg,r
−−−−→
E
−−−−→
N
−−−−→
1
⏐
⏐
⏐
⏐
⏐
⏐



1
−−−−→
ΠF
−−−−→
ΠT
−−−−→
ΠB
−−−−→
1
144
Yuichiro
Hoshi
and
Shinichi
Mochizuki
—
where
the
upper
sequence
is
the
exact
sequence
obtained
by
pulling
back
the
exact
sequence
1
→
Πg,r
→
ΠCg,r
→
ΠMg,r
→
1
by
the
natural
inclusion
N
→
ΠMg,r
;
the
lower
sequence
is
the
exact
sequence
“1
→
ΠF
→
ΠT
→
ΠB
→
1”
obtained
by
applying
the
procedure
given
in
the
statement
of
Theorem
6.12
in
the
case
where
(m,
n,
ΣF
,
ΣB
)
=
(1,
2,
Σ,
Primes)
to
a
stable
log
curve
of
type
(g,
r
−
1)
over
(Spec
k)log
;
the
vertical
arrows
are
isomorphisms.
Thus,
it
follows
immediately
from
Theorem
6.12,
(i),
that
ZOutC
(Πg,r
)
(ρg,r
(H
∩
N
))
is
isomorphic
to
the
automorphism
group
AutX
log
(X2log
)
for
the
stable
log
curve
X
log
over
(Spec
k)log
of
type
(g,
r
−
1).
In
particular,
by
the
claim
(∗1
),
we
obtain
that
Aut(Mg,r
)k
((Cg,r
)k
)
→
ZOutC
(Πg,r
)
(ρg,r
(H))
∼
⊆
ZOutC
(Πg,r
)
(ρg,r
(H
∩
N
))
←
AutX
log
(X2log
)
.
Thus,
by
comparing
(Aut(Mg,r
)k
((Cg,r
)k
))
with
AutX
log
(X2log
)
[cf.
Theorem
6.12,
(i)],
we
conclude
that
the
injection
of
the
claim
(∗1
)
is
an
isomorphism.
This
completes
the
proof
of
the
claim
(∗2
).
Moreover,
it
follows
immediately
from
the
proof
of
the
claim
(∗2
)
that
(∗3
):
if
α
∈
ZOutC
(Π0,4
)
(ρ0,4
(H))
induces
the
identity
automorphism
on
the
set
of
conjugacy
classes
of
cuspidal
inertia
subgroups
of
Π0,4
,
then
α
is
the
identity
outomorphism
of
Π0,4
.
In
light
of
the
claim
(∗2
),
in
the
remainder
of
the
proof
of
assertion
(ii),
we
assume
that
r
=
0,
hence
also
that
g
≥
2.
For
x
∈
(Mg,0
)k
(k),
write
Gx
for
the
semi-graph
of
anabelioids
of
pro-Σ
PSC-type
associated
to
the
log
log
log
def
geometric
ﬁber
of
(C
g,0
)k
→
(Mg,0
)k
over
xlog
=
x
×(Mg,0
)k
(Mg,0
)k
;
thus,
we
have
a
natural
Im(ρg,0
)
(⊆
Out(Πg,0
))-torsor
of
outer
isomor∼
∼
phisms
Πg,0
→
ΠGx
.
Let
us
ﬁx
an
isomorphism
Πg,0
→
ΠGx
that
belongs
to
this
collection
of
isomorphisms.
Moreover,
for
x
∈
(Mg,0
)k
(k),
we
shall
say
that
x
satisﬁes
the
condition
(†)
if
(†1
)
Vert(Gx
)
=
{v1
,
v2
};
Node(Gx
)
=
{e1
,
e2
,
·
·
·
,
eg+1
};
(†2
)
N
(v1
)
=
N
(v2
)
=
Node(Gx
);
(†3
)
v1
and
v2
are
of
type
(0,
g
+
1);
Combinatorial
anabelian
topics
I
145
we
shall
say
that
x
satisﬁes
the
condition
(‡)
if
(‡1
)
Vert(Gx
)
=
{v1∗
,
v2∗
,
w∗
};
Node(Gx
)
=
{e∗1
,
e∗2
,
·
·
·
,
e∗g+1
,
f
∗
};
(‡2
)
N
(v1∗
)
=
{e∗1
,
e∗2
,
·
·
·
,
e∗g+1
};
N
(v2∗
)
=
{e∗1
,
e∗2
,
·
·
·
,
e∗g−1
,
f
∗
};
N
(w∗
)
=
{e∗g
,
e∗g+1
,
f
∗
};
(‡3
)
v1∗
is
of
type
(0,
g
+
1),
v2∗
is
of
type
(0,
g),
and
w∗
is
of
type
(0,
3).
Let
us
observe
that
one
may
verify
easily
that
there
exists
a
k-valued
point
x
∈
(Mg,0
)k
(k)
that
satisﬁes
(†);
if,
moreover,
g
>
2,
then
there
exists
a
k-valued
point
x
∈
(Mg,0
)k
(k)
that
satisﬁes
(‡).
Let
x
∈
(Mg,0
)k
(k)
be
a
k-valued
point.
Then
we
claim
that
(∗4
):
if
x
satisﬁes
(†),
and,
relative
to
the
isomor∼
phism
Πg,0
→
ΠGx
ﬁxed
above,
α
∈
ZOutC
(Πg,0
)
(ρg,0
(H))
determines
an
element
of
Aut|grph|
(Gx
)
(⊆
Out(ΠGx
)
∼
←
Out(Πg,0
)),
then
for
any
e
∈
Node(Gx
),
the
image
αe
of
α
via
the
natural
inclusion
Aut|grph|
(Gx
)
→
Aut|grph|
((Gx
){e}
)
[cf.
Proposition
2.9,
(ii)]
satisﬁes
αe
∈
Dehn((Gx
){e}
)
.
Indeed,
let
e
∈
Node(Gx
)
and
y
∈
(Mg,0
)k
(k)
a
k-valued
point
such
that
Gy
corresponds
to
(Gx
){e}
[cf.
the
special
ﬁbers
of
the
stable
log
curves
over
“S
log
”
that
appear
in
Proposition
5.6,
(iii)].
Write
v
∈
Vert(Gy
)
for
the
unique
vertex
of
Gy
.
[Note
that
it
follows
from
the
deﬁnition
of
the
condition
(†)
that
Vert(Gy
)
=
1.]
Then
it
follows
immediately
from
the
general
theory
of
stable
log
curves
that
there
exist
a
“clutching
(1-)morphism”
corresponding
to
the
operation
of
resolving
the
nodes
of
Gy
[i.e.,
obtained
by
forming
appropriate
composites
of
the
clutching
morphisms
discussed
in
[Knud],
Deﬁnition
3.6]
(M0,2g
)k
−→
(Mg,0
)k
and
a
k-valued
point
y
∈
(M0,2g
)k
(k)
such
that
the
image
of
y
via
the
above
clutching
morphism
coincides
with
y,
and,
moreover,
Gy
is
naturally
isomorphic
to
(Gy
)|v
.
Write
(Mlog
0,2g
)k
for
the
log
stack
obtained
by
equipping
(M0,2g
)k
with
the
log
structure
induced
by
the
log
structure
log
of
(Mg,0
)k
via
the
above
clutching
morphism.
Then
one
veriﬁes
easily
146
Yuichiro
Hoshi
and
Shinichi
Mochizuki
that
the
composite
∼
log
def
ρg,0
ΠM0,2g
=
π1
((Mlog
0,2g
)k
)
−→
π1
((Mg,0
)k
)
←−
ΠMg,0
−→
Out(Πg,0
)
—
where
the
ﬁrst
arrow
is
the
outer
homomorphism
induced
by
the
above
clutching
morphism,
and
the
second
arrow
is
the
outer
isomorphism
obtained
by
applying
the
“log
purity
theorem”
to
the
natural
log
(1-)morphism
(Mg,0
)k
→
(Mg,0
)k
[cf.
[ExtFam],
Theorem
B]
—
fac∼
tors
through
Aut|grph|
(Gy
)
⊆
Out(ΠGy
)
←
Out(Πg,0
).
Moreover,
the
resulting
homomorphism
ΠM0,2g
→
Aut|grph|
(Gy
)
ﬁts
into
a
commutative
diagram
of
proﬁnite
groups
ΠM0,2g
⏐
⏐

−−−−→
ΠM0,2g
⏐
⏐

ρVert
Gy
Aut|grph|
(Gy
)
−−−−→
Glu(Gy
)
=
Aut|grph|
((Gy
)|v
)
[cf.
Deﬁnition
4.9;
Proposition
4.10,
(ii)]
—
where
the
upper
horizontal
arrow
is
the
outer
homomorphism
induced
by
the
(1-)morphism
(Mlog
0,2g
)k
→
(M0,2g
)k
obtained
by
forgetting
the
log
structure.
Moreover,
one
veriﬁes
easily
that
there
exists
a
natural
outer
isomorphism
∼
Π(Gy
)|v
→
Π0,2g
such
that
the
homomorphism
ΠM0,2g
→
Out(Π0,2g
)
obtained
by
conjugating
the
outer
action
implicit
in
the
right-hand
vertical
arrow
of
the
above
diagram
ΠM0,2g
→
Aut|grph|
((Gy
)|v
)
⊆
Out(Π(Gy
)|v
)
∼
by
the
outer
isomorphism
Π(Gy
)|v
→
Π0,2g
coincides
with
ρ0,2g
.
Thus,
by
considering
the
image
in
ΠM0,2g
of
the
inverse
image
of
H
⊆
ΠMg,0
in
ΠM0,2g
[cf.
the
diagrams
of
the
above
displays],
it
follows
immediately
from
the
claims
(∗2
)
[in
the
case
where
“(g,
r)”=
(0,
2g)]
and
(∗3
)
[in
the
case
where
g
=
2],
together
with
the
various
deﬁnitions
involved,
that
if
α
∈
ZOutC
(Πg,0
)
(ρg,0
(H))
determines
an
element
of
Aut|grph|
(Gx
)
∼
(⊆
Out(ΠGx
)
←
Out(Πg,0
)),
then
the
image
of
α
via
Aut|grph|
(Gx
)
→
ρVert
Gy

∼
Aut|grph|
((Gx
){e}
)
→
Aut|grph|
(Gy
)
Glu(Gy
)
=
Aut|grph|
((Gy
)|v
)
[cf.
Proposition
2.9,
(ii)]
is
trivial.
In
particular,
it
follows
from
Proposition
4.10,
(ii),
that
the
image
αe
of
α
via
Aut|grph|
(Gx
)
→
Aut|grph|
((Gx
){e}
)
satisﬁes
αe
∈
Dehn((Gx
){e}
).
This
completes
the
proof
of
the
claim
(∗4
).
Next,
we
claim
that
Combinatorial
anabelian
topics
I
147
(∗5
):
if
x
satisﬁes
(†),
and
α
∈
ZOutC
(Πg,0
)
(ρg,0
(H))
determines
an
element
of
Aut|grph|
(Gx
)
(⊆
Out(ΠGx
)
∼
←
Out(Πg,0
)),
then
α
is
the
identity
outomorphism
of
Πg,0
.
Indeed,
it
follows
from
the
claim
(∗4
)
that



Im
Dehn((Gx
){e}
)
→
Dehn(Gx
)
α∈
e∈Node(Gx
)
[cf.
Theorem
4.8,
(ii)].
On
the
other
hand,
it
follows
immediately
from
Theorem
4.8,
(ii),
(iv),
that
the
right-hand
intersection
is
=
{1}.
This
completes
the
proof
of
the
claim
(∗5
).
Next,
we
claim
that
(∗6
):
we
have
∼
ZOutC
(Πg,0
)
(ρg,0
(H))
⊆
Aut|Node(Gx
)|
(Gx
)
(⊆
Out(ΠGx
)
←
Out(Πg,0
))
;
if,
moreover,
x
satisﬁes
(‡),
then
ZOutC
(Πg,0
)
(ρg,0
(H))
⊆
Aut|grph|
(Gx
)
.
Indeed,
it
follows
immediately
from
Proposition
5.6,
(ii),
together
with
log
the
deﬁnition
of
xlog
=
x
×(Mg,0
)k
(Mg,0
)k
,
that
the
composite
log
∼
ρg,0
π1
(xlog
)
−→
π1
((Mg,0
)k
)
←−
ΠMg,0
−→
Out(Πg,0
)
—
where
the
second
arrow
is
the
outer
isomorphism
obtained
by
applying
the
“log
purity
theorem”
to
the
natural
(1-)morphism
(Mg,0
)k
→
log
(Mg,0
)k
[cf.
[ExtFam],
Theorem
B]
—
determines
a
surjection
π1
(xlog
)
∼

Dehn(Gx
)
(⊆
Out(ΠGx
)
←
Out(Πg,0
))
[i.e.,
which
induces
an
isomorphism
between
the
respective
maximal
pro-Σ
quotients].
Thus,
it
follows
immediately
from
the
various
deﬁnitions
involved
that
there
exists
an
open
subgroup
M
⊆
Dehn(Gx
)
such
that
ZOutC
(Πg,0
)
(ρg,0
(H))
⊆
∼
ZOutC
(ΠGx
)
(M
)
relative
to
the
identiﬁcation
OutC
(Πg,0
)
→
OutC
(ΠGx
)
∼
arising
from
our
choice
of
an
isomorphism
Πg,0
→
ΠGx
.
Therefore,
the
inclusion
ZOutC
(Πg,0
)
(ρg,0
(H))
⊆
Aut|Node(Gx
)|
(Gx
)
follows
immediately
from
Theorem
5.14,
(ii).
This
completes
the
proof
of
the
inclusion
ZOutC
(Πg,0
)
(ρg,0
(H))
⊆
Aut|Node(Gx
)|
(Gx
).
On
the
other
hand,
if,
moreover,
x
satisﬁes
(‡),
then
it
follows
immediately
from
the
deﬁnition
of
the
condition
(‡)
that
Aut|grph|
(Gx
)
=
Aut|Node(Gx
)|
(Gx
).
In
particular,
148
Yuichiro
Hoshi
and
Shinichi
Mochizuki
we
obtain
that
ZOutC
(Πg,0
)
(ρg,0
(H))
⊆
Aut|grph|
(Gx
).
This
completes
the
proof
of
the
claim
(∗6
).
Next,
we
claim
that
(∗7
):
if
x
satisﬁes
(†),
then
for
any
α
∈
ZOutC
(Πg,0
)
(ρg,0
(H)),
there
exists
an
element
β
of
the
image
of
the
injection
of
(∗1
)
such
that
the
outo∼
morphism
α
◦
β
of
Πg,0
→
ΠGx
is
∈
Aut|grph|
(Gx
)
∼
(⊆
Out(ΠGx
)
←
Out(Πg,0
)).
Indeed,
suppose
that
g
>
2.
Then
by
the
deﬁnitions
of
(†),
(‡),
one
may
verify
easily
that
there
exist
y
∈
(Mg,0
)k
(k)
and
f
∈
Node(Gy
)
such
that
y
satisﬁes
(‡),
and,
moreover,
Gx
corresponds
to
(Gy
){f
}
[cf.
Proposition
5.6,
(iv)].
Thus,
it
follows
immediately
from
the
claim
(∗6
)
that
ZOutC
(Πg,0
)
(ρg,0
(H))
⊆
Aut|grph|
(Gy
)
→
Aut|grph|
(Gx
)
[cf.
Proposition
2.9,
(ii)],
i.e.,
so
we
may
take
β
to
be
the
identity
outomorphism.
This
completes
the
proof
of
the
claim
(∗7
)
in
the
case
where
g
>
2.
Next,
suppose
that
g
=
2.
Write
Gx
for
the
underlying
semi-graph
of
Gx
and
Aut|Node|
(Gx
)
for
the
group
of
automorphisms
of
Gx
which
induce
the
identity
automorphism
of
the
set
of
nodes
of
Gx
.
Then
one
may
verify
easily
from
the
explicit
structure
of
Gx
[cf.
the
deﬁnition
of
the
condition
(†)]
that
Aut|Node|
(Gx
)
is
isomorphic
to
Z/2Z.
Thus,
since
the
automorphism
group
Aut(M2,0
)k
((C2,0
)k
)
is
isomorphic
to
Z/2Z,
it
follows
immediately
from
the
claim
(∗6
),
together
with
the
various
deﬁnitions
involved,
that
—
to
complete
the
proof
of
the
claim
(∗7
)
in
the
case
where
g
=
2
—
it
suﬃces
to
verify
that
the
composite
of
natural
homomorphisms
Aut(M2,0
)k
((C2,0
)k
)
−→
Aut(Gx
)
−→
Aut(Gx
)
factors
through
Aut|Node|
(Gx
)
⊆
Aut(Gx
)
and
is
injective.
Now
the
fact
that
the
composite
in
question
factors
through
Aut|Node|
(Gx
)
⊆
Aut(Gx
)
follows
immediately
from
the
claim
(∗6
),
applied
to
elements
of
the
image
of
the
injection
of
(∗1
).
On
the
other
hand,
the
injectivity
of
the
composite
in
question
follows
immediately
from
the
injectivity
of
the
natural
homomorphism
Aut(M2,0
)k
((C2,0
)k
)
→
Aut(Gx
)
[cf.
the
proof
of
the
claim
(∗1
)]
and
the
claim
(∗5
).
This
completes
the
proof
of
the
claim
(∗7
)
in
the
case
where
g
=
2,
hence
also
—
in
light
of
the
above
proof
of
the
claim
(∗7
)
in
the
case
where
g
>
2
—
of
the
claim
(∗7
).
Thus,
the
surjectivity
of
the
injection
of
(∗1
)
follows
immediately
from
the
claims
(∗5
)
and
(∗7
).
This
completes
the
proof
of
assertion
(ii).
Assertion
(iii)
follows
immediately
from
assertion
(ii).
This
completes
the
proof
of
Theorem
6.13.
Q.E.D.
Combinatorial
anabelian
topics
I
149
Remark
6.13.1.
In
the
notation
of
Theorem
6.13,
since
ΠM0,3
=
{1},
it
is
immediate
that
a
similar
result
to
the
results
stated
in
Theorem
6.13,
(ii),
(iii),
does
not
hold
in
the
case
where
(g,
r)
=
(0,
3).
On
the
other
hand,
it
is
not
clear
to
the
authors
at
the
time
of
writing
whether
or
not
a
similar
result
to
the
results
stated
in
Theorem
6.13,
(ii),
(iii),
holds
in
the
case
where
(g,
r)
=
(1,
1).
Nevertheless,
we
are
able
to
obtain
a
conditional
result
concerning
the
centralizer
of
the
geometric
monodromy
group
in
the
case
where
(g,
r)
=
(1,
1)
[cf.
Theorem
6.14,
(iii),
(iv)
below].
Theorem
6.14
(Centralizers
of
geometric
monodromy
groups
arising
from
moduli
stacks
of
punctured
semi-ellptic
±
)k
for
the
stackcurves).
In
the
notation
of
Theorem
6.13,
write
(C1,1
theoretic
quotient
of
(C1,1
)k
by
the
natural
action
of
Aut(M1,1
)k
((C1,1
)k
)
over
the
moduli
stack
(M1,1
)k
;
Π±
1,1
for
the
maximal
pro-Σ
quotient
±
±
of
the
kernel
N1,1
=
Ker(π1
((C1,1
)k
)

π1
((M1,1
)k
)
=
ΠM1,1
)
of
the
±
natural
surjection
π1
((C1,1
)k
)

π1
((M1,1
)k
)
=
ΠM1,1
;
ΠC
±
for
the
def
1,1
±
±
)k
)
of
the
stack
(C1,1
)k
quotient
of
the
étale
fundamental
group
π1
((C1,1
±
±
by
the
kernel
of
the
natural
surjection
N1,1

Π1,1
.
Thus,
we
have
a
natural
exact
sequence
of
proﬁnite
groups
1
−→
Π±
1,1
−→
ΠC
±
−→
ΠM1,1
−→
1
,
1,1
which
determines
an
outer
representation
±
ρ±
1,1
:
ΠM1,1
−→
Out(Π1,1
)
.
±
Write
OutC
(Π±
1,1
)
for
the
group
of
outomorphisms
of
Π1,1
which
induce
±
bijections
on
the
set
of
cuspidal
inertia
subgroups
of
Π1,1
.
Suppose
that
2
∈
Σ.
Then
the
following
hold:
(i)
The
proﬁnite
group
Π±
1,1
is
slim
[cf.
the
discussion
entitled
“Topological
groups”
in
§0].
(ii)
Let
H
⊆
ΠM1,1
be
an
open
subgroup
of
ΠM1,1
.
Then
the
composite
of
natural
homomorphisms
±
)k
)
−→
AutΠM1,1
(ΠC
±
)/Inn(Π±
Aut(M1,1
)k
((C1,1
1,1
)
1,1
∼
±
−→
ZOut(Π±
)
(Im(ρ±
1,1
))
⊆
ZOut(Π±
)
(ρ1,1
(H))
1,1
1,1
150
Yuichiro
Hoshi
and
Shinichi
Mochizuki
[cf.
(i);
the
discussion
entitled
“Topological
groups”
in
§0]
determines
an
isomorphism
∼
±
)k
)
−→
ZOutC
(Π±
)
(ρ±
Aut(M1,1
)k
((C1,1
1,1
(H))
.
1,1
±
Here,
we
recall
that
Aut(M1,1
)k
((C1,1
)k
)
=
{1}.
(iii)
Let
H
⊆
ΠM1,1
be
an
open
subgroup
of
ΠM1,1
.
Then
the
composite
of
natural
homomorphisms
Aut(M1,1
)k
((C1,1
)k
)
−→
AutΠM1,1
(ΠC1,1
)/Inn(Π1,1
)
∼
−→
ZOut(Π1,1
)
(Im(ρ1,1
))
⊆
ZOut(Π1,1
)
(ρ1,1
(H))
[cf.
Theorem
6.13,
(i);
the
discussion
entitled
“Topological
groups”
in
§0]
determines
an
injection
Aut(M1,1
)k
((C1,1
)k
)
→
ZOutC
(Π1,1
)
(ρ1,1
(H))
.
Moreover,
the
image
of
this
injection
is
centrally
terminal
in
ZOutC
(Π1,1
)
(ρ1,1
(H))
[cf.
the
discussion
entitled
“Topological
groups”
in
§0].
Here,
we
recall
that
Aut(M1,1
)k
((C1,1
)k
)
≃
Z/2Z.
(iv)
The
composite
of
natural
homomorphisms
Aut(M1,1
)k
((C1,1
)k
)
−→
AutΠM1,1
(ΠC1,1
)/Inn(Π1,1
)
∼
−→
ZOut(Π1,1
)
(Im(ρ1,1
))
[cf.
Theorem
6.13,
(i);
the
discussion
entitled
“Topological
groups”
in
§0]
determines
an
isomorphism
∼
Aut(M1,1
)k
((C1,1
)k
)
−→
ZOutC
(Π1,1
)
(Im(ρ1,1
))
.
Proof.
Assertion
(i)
follows
immediately
from
a
similar
argument
to
the
argument
used
in
the
proof
of
[MT],
Proposition
1.4.
This
completes
the
proof
of
assertion
(i).
Next,
we
verify
assertion
(ii).
First,
let
us
recall
that
the
description
±
)k
)
given
in
the
statement
of
the
automorphism
group
Aut(M1,1
)k
((C1,1
of
assertion
(ii)
is
well-known
and
easily
veriﬁed.
Write
E
→
(M1,1
)k
for
the
family
of
elliptic
curves
determined
by
the
family
of
hyperbolic
curves
(C1,1
)k
→
(M1,1
)k
of
type
(1,
1);
U
→
(C1,1
)k
for
the
restriction
of
the
ﬁnite
étale
covering
E
→
E
over
(M1,1
)k
given
by
multiplication
by
2
to
(C1,1
)k
⊆
E.
Then
one
veriﬁes
easily
that
the
action
of
Combinatorial
anabelian
topics
I
151
Aut(M1,1
)k
((C1,1
)k
)
on
(C1,1
)k
lifts
naturally
to
an
action
[i.e.,
given
by
“multiplication
by
±1”]
on
U
over
(M1,1
)k
.
Write
P
for
the
stacktheoretic
quotient
of
U
by
the
action
of
Aut(M1,1
)k
((C1,1
)k
)
on
U;
ΠP/M
for
the
maximal
pro-Σ
quotient
of
the
kernel
of
the
natural
surjection
π1
(P)

π1
((M1,1
)k
);
ρP/M
:
ΠM1,1
−→
Out(ΠP/M
)
for
the
natural
pro-Σ
outer
representation
arising
from
the
family
of
hyperbolic
curves
P
→
(M1,1
)k
.
Thus,
since
2
∈
Σ,
one
veriﬁes
easily
that
ΠP/M
may
be
regarded
as
a
normal
open
subgroup
of
Π±
1,1
.
Now
let
us
observe
that
one
veriﬁes
easily
that
(∗1
):
P
→
(M1,1
)k
is
a
family
of
hyperbolic
curves
of
type
(0,
4).
If,
moreover,
we
denote
by
T
→
(M1,1
)k
the
connected
ﬁnite
étale
covering
that
trivializes
the
ﬁnite
étale
covering
determined
by
the
four
cusps
of
P
→
(M1,1
)k
,
then
the
classifying
(1-)morphism
T
→
(M0,4
)k
of
P
×(M1,1
)k
T
→
T
[which
is
welldeﬁned
up
to
the
natural
action
of
S4
on
(M0,4
)k
]
is
dominant.
Now
we
claim
that
(∗2
):
every
element
of
OutC
(Π±
1,1
)
preserves
the
normal
open
subgroup
ΠP/M
⊆
Π±
1,1
.
Indeed,
let
us
observe
that
one
veriﬁes
easily
that
the
natural
surjections
±
±
Π±
1,1

Π1,1
/Π1,1
,
Π1,1
/ΠP/M
determine
an
isomorphism
∼
±
ab
⊗Z
Σ
Z/2Z
−→
(Π±
(Π±
1,1
)
1,1
/Π1,1
)
×
(Π1,1
/ΠP/M
)
.
Moreover,
it
follows
immediately
from
the
various
deﬁnitions
involved
ab
⊗Z
Σ
Z/2Z
on
the
set
of
conjugacy
that
the
natural
action
of
(Π±
1,1
)
classes
of
cuspidal
inertia
subgroups
of
the
kernel
of
the
natural
surjec±
ab
⊗Z
Σ
Z/2Z
[which
is
equipped
with
a
natural
struction
Π±
1,1

(Π1,1
)
ab
ture
of
pro-Σ
surface
group
of
type
(1,
4)]
factors
through
(Π±
⊗Z
Σ
1,1
)
∼
pr2
±
±
Z/2Z
→
(Π±
1,1
/Π1,1
)
×
(Π1,1
/ΠP/M
)

(Π1,1
/ΠP/M
),
and
that
the
resulting
action
of
(Π±
1,1
/ΠP/M
)
is
faithful.
Thus,
we
conclude
that
every
element
of
OutC
(Π±
1,1
)
preserves
the
normal
open
subgroup
ΠP/M
⊆
±
Π1,1
.
This
completes
the
proof
of
the
claim
(∗2
).
To
verify
assertion
(ii),
take
an
element
α±
∈
ZOutC
(Π±
)
(ρ±
1,1
(H)).
1,1
±
Then
it
follows
from
the
claim
(∗2
)
that
α
naturally
determines
an
eleC
ment
αP
∈
Aut(ΠP/M
)/Inn(Π±
1,1
).
Let
us
ﬁx
a
lifting
β
∈
Out
(ΠP/M
)
152
Yuichiro
Hoshi
and
Shinichi
Mochizuki
of
αP
.
Next,
let
us
observe
that
since
Π±
1,1
/ΠP/M
is
ﬁnite,
to
verify
assertion
(ii),
by
replacing
H
by
an
open
subgroup
of
ΠM1,1
contained
in
H,
we
may
assume
without
loss
of
generality
that
β
commutes
with
ρP/M
(H)
⊆
Out(ΠP/M
),
i.e.,
β
∈
ZOutC
(ΠP/M
)
(ρP/M
(H)).
Then
it
follows
immediately
from
Theorem
6.13,
(ii),
in
the
case
where
(g,
r)
=
(0,
4),
together
with
(∗1
),
that
β
is
contained
in
the
image
of
the
natural
injection
Π±
1,1
/ΠP/M
→
Out(ΠP/M
)
obtained
by
conjugation.
Thus,
αP
,
hence
also
—
by
the
manifest
injectivity
[cf.
assertion
(i)]
±
of
the
homomorphism
OutC
(Π±
1,1
)
→
Aut(ΠP/M
)/Inn(Π1,1
)
implicit
in
the
content
of
the
claim
(∗2
)
—
α±
,
is
trivial.
This
completes
the
proof
of
assertion
(ii).
Next,
we
verify
assertion
(iii).
First,
recall
that
the
description
of
Aut(M1,1
)k
((C1,1
)k
)
given
in
the
statement
of
assertion
(iii)
is
well-known
and
easily
veriﬁed.
Next,
let
us
observe
that
the
fact
that
the
composite
in
the
statement
of
assertion
(iii)
determines
an
injection
Aut(M1,1
)k
((C1,1
)k
)
→
ZOutC
(Π1,1
)
(ρ1,1
(H))
follows
immediately
from
a
similar
argument
to
the
argument
used
in
the
proof
of
the
claim
(∗1
)
in
the
proof
of
Theorem
6.13,
(ii),
together
with
the
various
deﬁnitions
involved.
Next,
let
us
observe
that
by
applying
∼
out
the
natural
outer
isomorphism
Π±
1,1
→
Π1,1

Aut(M1,1
)k
((C1,1
)k
),
we
obtain
an
exact
sequence
of
proﬁnite
groups
1
−→
Aut(M1,1
)k
((C1,1
)k
)
−→
ZOut(Π1,1
)
(Aut(M1,1
)k
((C1,1
)k
))
−→
Out(Π±
1,1
)
—
where
we
regard
Aut(M1,1
)k
((C1,1
)k
)
as
a
closed
subgroup
of
Out(Π1,1
)
by
means
of
the
injection
“
→”
of
the
above
display.
Thus,
the
central
terminality
asserted
in
the
statement
of
assertion
(iii)
follows
immediately,
in
light
of
the
above
exact
sequence,
from
assertion
(ii).
This
completes
the
proof
of
assertion
(iii).
Finally,
we
verify
assertion
(iv).
It
follows
immediately
from
assertion
(iii)
that
the
image
of
the
homomorphism
Aut(M1,1
)k
((C1,1
)k
)
→
ZOutC
(Π1,1
)
(Im(ρ1,1
))
determined
by
the
composite
in
the
statement
of
assertion
(iv)
is
centrally
terminal.
On
the
other
hand,
as
is
wellknown,
this
image
of
Aut(M1,1
)k
((C1,1
)k
)
in
Out(Π1,1
)
is
contained
in
Im(ρ1,1
)
⊆
Out(Π1,1
).
[Indeed,
recall
that
there
exists
a
natural
outer
∼
isomorphism
SL2
(Z)∧
→
ΠM1,1
,
where
we
write
SL2
(Z)∧
for

the
proﬁ−1
0
nite
completion
of
SL2
(Z),
such
that
the
image
of
∈
SL2
(Z)∧
0
−1
Combinatorial
anabelian
topics
I
153
in
Out(Π1,1
)
coincides
with
the
image
of
the
unique
nontrivial
element
of
Aut(M1,1
)k
((C1,1
)k
)
≃
Z/2Z
in
Out(Π1,1
).]
Now
assertion
(iv)
follows
immediately.
This
completes
the
proof
of
assertion
(iv).
Q.E.D.
Remark
6.14.1.
The
authors
hope
to
be
able
to
address
the
issue
of
whether
or
not
a
similar
result
to
the
results
stated
in
Theorem
6.13,
(ii),
(iii),
holds
for
other
families
of
pointed
curves
[e.g.,
the
universal
curves
over
moduli
stacks
of
hyperelliptic
curves
or
more
general
Hurwitz
stacks]
in
a
sequel
to
the
present
paper.
References
[André]
Y.
André,
On
a
geometric
description
of
Gal(Qp
/Qp
)
and
a
p-adic

Duke
Math.
J.
119
(2003),
no.
1,
1-39.
avatar
of
GT,
[Hsh]
Y.
Hoshi,
Absolute
anabelian
cuspidalizations
of
conﬁguration
spaces
of
proper
hyperbolic
curves
over
ﬁnite
ﬁelds,
Publ.
Res.
Inst.
Math.
Sci.
45
(2009),
no.
3,
661-744.
[NodNon]
Y.
Hoshi
and
S.
Mochizuki,
On
the
combinatorial
anabelian
geometry
of
nodally
nondegenerate
outer
representations,
Hiroshima
Math.
J.
41
(2011),
no.
3,
275-342.
[Illu]
L.
Illusie,
An
overview
of
the
work
of
K.
Fujiwara,
K.
Kato,
and
C.
Nakayama
on
logarithmic
étale
cohomology,
Astérisque
279
(2002),
271322.
[JR]
M.
Jarden
and
J.
Ritter,
Normal
automorphisms
of
absolute
Galois
groups
of
p-adic
ﬁelds.
Duke
Math.
J.
47
(1980),
no.
1,
47-56.
[Knud]
F.
Knudsen,
The
projectivity
of
the
moduli
space
of
stable
curves.
II.
The
stacks
Mg,n
.
Math.
Scand.
52
(1983),
no.
2,
161-199.
[Mln]
J.
S.
Milne,
Étale
cohomology,
Princeton
Mathematical
Series,
33,
Princeton
University
Press,
Princeton,
N.J,
1980.
[CorHyp]
S.
Mochizuki,
Correspondences
on
Hyperbolic
Curves,
J.
Pure
Appl.
Algebra
131
(1998),
no.
3,
227-244.
[LocAn]
S.
Mochizuki,
The
local
pro-p
anabelian
geometry
of
curves,
Invent.
Math.
138
(1999),
no.
2,
319-423.
[ExtFam]
S.
Mochizuki,
Extending
families
of
curves
over
log
regular
schemes,
J.
Reine
Angew.
Math.
511
(1999),
43-71.
[AbsHyp]
S.
Mochizuki,
The
absolute
anabelian
geometry
of
hyperbolic
curves,
Galois
theory
and
modular
forms,
77-122,
Dev.
Math,
11,
Kluwer
Acad.
Publ,
Boston,
MA,
2004.
[GalSct]
S.
Mochizuki,
Galois
sections
in
absolute
anabelian
geometry,
Nagoya
Math.
J.
179
(2005),
17-45.
154
Yuichiro
Hoshi
and
Shinichi
Mochizuki
[SemiAn]
S.
Mochizuki,
Semi-graphs
of
anabelioids,
Publ.
Res.
Inst.
Math.
Sci.
42
(2006),
no.
1,
221-322.
[CmbGC]
S.
Mochizuki,
A
combinatorial
version
of
the
Grothendieck
conjecture,
Tohoku
Math
J.
59
(2007),
455-479.
[AbsCsp]
S.
Mochizuki,
Absolute
anabelian
cuspidalizations
of
proper
hyperbolic
curves,
J.
Math.
Kyoto
Univ.
47
(2007),
no.
3,
451-539.
[CmbCsp]
S.
Mochizuki,
On
the
Combinatorial
Cuspidalization
of
Hyperbolic
Curves,
Osaka
J.
Math.
47
(2010),
651-715.
[MT]
S.
Mochizuki
and
A.
Tamagawa,
The
Algebraic
and
Anabelian
Geometry
of
Conﬁguration
Spaces,
Hokkaido
Math.
J.
37
(2008),
no.
1,
75-131.
[NSW]
J.
Neukirch,
A.
Schmidt,
and
K.
Wingberg,
Cohomology
of
number
ﬁelds,
Second
edition,
Grundlehren
der
Mathematischen
Wissenschaften,
323,
Springer-Verlag,
Berlin,
2008.
[NS]
N.
Nikolov
and
D.
Segal,
Finite
index
subgroups
in
proﬁnite
groups,
C.
R.
Math.
Acad.
Sci.
Paris
337
(2003),
no.
5,
303-308.
(Yuichiro
Hoshi)
Research
Institute
for
Mathematical
Sciences,
Kyoto
University,
Kyoto
606-8502,
JAPAN
E-mail
address:
yuichiro@kurims.kyoto-u.ac.jp
(Shinichi
Mochizuki)
Research
Institute
for
Mathematical
Sciences,
Kyoto
University,
Kyoto
606-8502,
JAPAN
E-mail
address:
motizuki@kurims.kyoto-u.ac.jp
