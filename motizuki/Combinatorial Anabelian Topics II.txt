TOPICS SURROUNDING THE COMBINATORIAL
ANABELIAN GEOMETRY OF HYPERBOLIC CURVES II:
TRIPODS AND COMBINATORIAL CUSPIDALIZATION
YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
OCTOBER 2021
Abstract. Let Σ be a subset of the set of prime numbers which
is either equal to the entire set of prime numbers or of cardinality
one. In the present monograph, we continue our study of the pro-Σ
fundamental groups of hyperbolic curves and their associated conﬁguration spaces over algebraically closed ﬁelds in which the primes
of Σ are invertible. The starting point of the theory of the present
monograph is a combinatorial anabelian result which, unlike results
obtained in previous papers, allows one to eliminate the hypothesis
that cuspidal inertia subgroups are preserved by the isomorphism in
question. This result allows us to [partially] generalize combinatorial cuspidalization results obtained in previous papers to the case
of outer automorphisms of pro-Σ fundamental groups of conﬁguration
spaces that do not necessarily preserve the cuspidal inertia subgroups
of the various one-dimensional subquotients of such a fundamental
group. Such partial combinatorial cuspidalization results allow one in
eﬀect to reduce issues concerning the anabelian geometry of conﬁguration spaces to issues concerning the anabelian geometry of
hyperbolic curves. These results also allow us, in the case of conﬁguration spaces of suﬃciently large dimension, to give purely grouptheoretic characterizations of the cuspidal inertia subgroups of
the various one-dimensional subquotients of the pro-Σ fundamental
group of a conﬁguration space. We then turn to the study of tripod
synchronization, i.e., roughly speaking, the phenomenon that an
outer automorphism of the pro-Σ fundamental group of a log conﬁguration space associated to a stable log curve typically induces the
same outer automorphism on the various subquotients of such a fundamental group determined by tripods [i.e., copies of the projective
line minus three points]. Our study of tripod synchronization allows
us to show that outer automorphisms of pro-Σ fundamental groups of
conﬁguration spaces exhibit somewhat diﬀerent behavior from the
behavior that may be observed — as a consequence of the classical
Dehn-Nielsen-Baer theorem — in the case of discrete fundamental groups. Other applications of the theory of tripod synchronization
include a result concerning commuting proﬁnite Dehn multitwists that, a priori, arise from distinct semi-graphs of anabelioids

2010 Mathematics Subject Classiﬁcation. Primary 14H30; Secondary 14H10.
Key words and phrases. anabelian geometry, combinatorial anabelian geometry,
combinatorial cuspidalization, proﬁnite Dehn twist, tripod, tripod synchronization,
Grothendieck-Teichmüller group, semi-graph of anabelioids, hyperbolic curve, conﬁguration space.
The ﬁrst author was supported by Grant-in-Aid for Scientiﬁc Research (C), No.
24540016, Japan Society for the Promotion of Science.
1

2

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
of pro-Σ PSC-type structures [i.e., the proﬁnite analogue of the notion
of a decomposition of a hyperbolic topological surface into hyperbolic
subsurfaces, such as “pants”], as well as the computation, in terms
of a certain scheme-theoretic fundamental group, of the purely
combinatorial/group-theoretic commensurator of the group of proﬁnite Dehn multi-twists. Finally, we show that the condition that
an outer automorphism of the pro-Σ fundamental group of a stable
log curve lift to an outer automorphism of the pro-Σ fundamental
group of the corresponding n-th log conﬁguration space, where n ≥ 2
is an integer, is compatible, in a suitable sense, with localization
on the dual graph of the stable log curve. This localizability property, together with the theory of tripod synchronization, is applied to
construct a purely combinatorial analogue of the natural outer
surjection from the étale fundamental group of the moduli stack of
hyperbolic curves over Q to the absolute Galois group of Q.

Contents
Introduction
Notations and Conventions
1. Combinatorial anabelian geometry in the absence of
group-theoretic cuspidality
2. Partial combinatorial cuspidalization for F-admissible
outomorphisms
3. Synchronization of tripods
4. Glueability of combinatorial cuspidalizations
References

2
15
18
32
51
103
167

Introduction
Let Σ ⊆ Primes be a subset of the set of prime numbers Primes
which is either equal to Primes or of cardinality one. In the present
monograph, we continue our study of the pro-Σ fundamental groups
of hyperbolic curves and their associated conﬁguration spaces over algebraically closed ﬁelds in which the primes of Σ are invertible [cf.
[MzTa], [CmbCsp], [NodNon], [CbTpI]].
Before proceeding, we review some fundamental notions that play
a central role in the present monograph. We shall say that a scheme
X over an algebraically closed ﬁeld k is a semi-stable curve if X is
connected and proper over k, and, moreover, for each closed point x
of X, the completion of the local ring OX,x is isomorphic over k either
to k[[t]] or to k[[t1 , t2 ]]/(t1 t2 ), where t, t1 , and t2 are indeterminates.
We shall say that a scheme X over a scheme S is a semi-stable curve if
the structure morphism X → S is ﬂat, and, moreover, every geometric
ﬁber of X → S is a semi-stable curve. We shall say that a pair (X, D)
consisting of a scheme X over a scheme S and a [possibly empty] closed
subscheme D ⊆ X is a pointed stable curve over S if the following

COMBINATORIAL ANABELIAN TOPICS II

3

conditions are satisﬁed: X is a semi-stable curve over S; D is contained
in the smooth locus of the structure morphism X → S and étale over S;
the invertible sheaf ωX/S (D) — where we write ωX/S for the dualizing
sheaf of X/S — is relatively ample [relative to the morphism X → S].
We shall say that a scheme X over a scheme S is a hyperbolic curve
over S if there exists a pointed stable curve (Y, E) over S such that Y
is smooth over S, and, moreover, X is isomorphic to Y \ E over S.
It is well-known [cf. [SGA1], Exposé V, §7] that if X is a connected
locally noetherian scheme, and x → X is a geometric point of X,
then the category Fét(X) consisting of X-schemes Z whose structure
morphism is ﬁnite and étale and [necessarily ﬁnite étale] X-morphisms
forms a Galois category, for which the functor from Fét(X) to the category of ﬁnite sets given by Z → Z ×X x is a fundamental functor [cf.
[SGA1], Exposé V, Déﬁnition 5.1]. Thus, it follows from the general
theory of Galois categories [cf. the discussion following [SGA1], Exposé V, Remarque 5.10] that one may associate, to the Galois category
Fét(X) equipped with the above fundamental functor, the “fundamental pro-group” of the Galois category Fét(X) equipped with the above
fundamental functor, which we shall refer to as the étale fundamental
group π1 (X, x) of (X, x). If X is a normal scheme, K is an algebraic
closure of the function ﬁeld K of X, and x is the tautological geometric
point of X determined by K, then π1 (X, x) may be naturally identiﬁed with the quotient of Gal(K/K) determined by the union of ﬁnite
subextensions K ⊆ L ⊆ K such that the normalization of X in L is
ﬁnite étale over X [cf. [SGA1], Exposé I, Corollaire 10.3]. Since [one
veriﬁes easily that] the étale fundamental group is, in a natural sense,
independent, up to inner automorphism, of the choice of the basepoint,
i.e., the geometric point “x”, we shall omit mention of the basepoint
throughout the present monograph.
Let G be a topological group. Then we shall write Aut(G) for the
group of [continuous] automorphisms of G, Inn(G) ⊆ Aut(G) for the
def
group of inner automorphisms of G, and Out(G) = Aut(G)/Inn(G) for
the group of [continuous] outomorphisms [i.e., outer automorphisms]
of G. Thus, an outer automorphism of G is an automorphism of G
considered up to composition with an inner automorphism.
Let k be a ﬁeld, k sep a separable closure of k, and X a geometrically
def
connected scheme of ﬁnite type over k. Write Gk = Gal(k sep /k) for the
absolute Galois group of k. Then it is well-known [cf. [SGA1], Exposé
IX, Théorème 6.1] that the natural morphisms of schemes X ×k k sep →
X → Spec k determine an exact sequence of proﬁnite groups
1 −→ π1 (X ×k k sep ) −→ π1 (X) −→ Gk −→ 1.
Write ΔX for the maximal pro-Σ quotient of the étale fundamental
group π1 (X ×k k sep ) of X ×k k sep and ΠX for the quotient of the étale
fundamental group π1 (X) of X by the normal closed subgroup of π1 (X)

4

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

determined by the kernel of the natural surjection (π1 (X) ←) π1 (X ×k
k sep )  ΔX . Then the above displayed exact sequence determines an
exact sequence of proﬁnite groups
1 −→ ΔX −→ ΠX −→ Gk −→ 1.
Next, observe that the above displayed exact sequence induces a natural
action of ΠX on ΔX by conjugation, i.e., a homomorphism ΠX →
Aut(ΔX ), which restricts to the tautological homomorphism ΔX →
Inn(ΔX ). Thus, by considering the respective quotients by ΔX , we
obtain an outer action of Gk on ΔX , i.e., a homomorphism
Gk −→ Out(ΔX ).
This outer action is one of the main objects of study in anabelian
geometry.
In the situation of the preceding paragraph, if X is a hyperbolic curve
over k, then each cusp of X [i.e., each geometric point of the smooth
compactiﬁcation of X whose image is not contained in X] determines a
conjugacy class of closed subgroups of ΔX [i.e., the inertia subgroup(s)
associated to the cusp], each member of which we shall refer to as a
cuspidal inertia subgroup of ΔX . Now suppose further that k is the
ﬁeld of fractions of a complete regular local ring R, and that every
element of Σ is invertible in R. Suppose, moreover, that X has a stable
model over R, i.e., that there exists a pointed stable curve (Y, E) over
def
S = Spec R such that X is isomorphic to (Y \ E) ×R k over k. Then
combinatorial anabelian geometry may be described as the study of
the combinatorial geometric properties of the irreducible components
and nodes [i.e., singular points] of the geometric ﬁber of (Y, E) over
the unique closed point of S by means of the purely group-theoretic
properties of the outer action of Gk — or, alternatively, various natural
subquotients of Gk — on ΔX . Here, we observe that this geometric
ﬁber of (Y, E) over the unique closed point of S may be regarded as a
sort of degeneration of the hyperbolic curve X.
Let k be an algebraically closed ﬁeld of characteristic ∈ Σ and X a
hyperbolic curve over k. For each positive integer m, write
• Xm for the m-th conﬁguration space of X, i.e., the open subscheme of the ﬁber product of m copies of X over k obtained
by removing the various diagonals;
• Πm for the maximal pro-Σ quotient of the étale fundamental
group π1 (Xm ) of Xm ;
def
def
• X0 = Spec k and Π0 = {1}.
Let n be a positive integer. We shall think of the factors of Xn as
labeled by the indices 1, . . . , n. Thus, for E ⊆ {1, . . . , n} a subset
of cardinality n − m, where m is a nonnegative integer, we have a
projection morphism Xn → Xm obtained by forgetting the factors that
belong to E, hence also an induced outer surjection Πn  Πm , i.e., a

COMBINATORIAL ANABELIAN TOPICS II

5

surjection considered up to composition with an inner automorphism.
Normal closed subgroups Ker(Πn  Πm ) ⊆ Πn obtained in this way
will be referred to as ﬁber subgroups of Πn of length n − m [cf. [MzTa],
Deﬁnition 2.3, (iii)]. Write
Xn −→ Xn−1 −→ . . . −→ Xm −→ . . . −→ X1 −→ X0
for the projections obtained by forgetting, successively, the factors labeled by indices > m [as m ranges over the nonnegative integers ≤ n].
Thus, we obtain a sequence of outer surjections
Πn  Πn−1  . . .  Πm  . . .  Π1  Π0 .
def

For each nonnegative integer m ≤ n, write Km = Ker(Πn  Πm ).
Thus, we have a ﬁltration of subgroups
{1} = Kn ⊆ Kn−1 ⊆ . . . ⊆ Km ⊆ . . . ⊆ K1 ⊆ K0 = Πn .
In the situation of the previous paragraph, let Y be a hyperbolic
curve over k and Y n a positive integer. Write Y ΠY n for the “Πn ”
that occurs in the case where we take “(X, n)” to be (Y, Y n). Let
∼
α : Πn → Y ΠY n be a(n) [continuous] outer isomorphism. Then we shall
say that
• α is PF-admissible [cf. [CbTpI], Deﬁnition 1.4, (i)] if α induces
a bijection between the set of ﬁber subgroups of Πn and the
set of ﬁber subgroups of Y ΠY n ;
• α is PC-admissible [cf. [CbTpI], Deﬁnition 1.4, (ii), as well as
Lemma 3.2, (i), of the present monograph] if, for each positive
integer a ≤ n, α(Ka ) ⊆ Y ΠY n is a ﬁber subgroup of Y ΠY n
of length Y n − a, and, moreover, the Y ΠY n -conjugacy-orbit of
∼
isomorphisms Ka−1 /Ka → α(Ka−1 )/α(Ka ) determined by α
induces a bijection between the set of conjugacy classes of cuspidal inertia subgroups of Ka−1 /Ka and the set of conjugacy
classes of cuspidal inertia subgroups of α(Ka−1 )/α(Ka ) [where
we note that it follows immediately from the various deﬁnitions involved that the proﬁnite group Ka−1 /Ka (respectively,.
α(Ka−1 )/α(Ka )) is equipped with a natural structure of pro-Σ
surface group — cf. [MzTa], Deﬁnition 1.2];
• α is PFC-admissible [cf. [CbTpI], Deﬁnition 1.4, (iii)] if α is
PF-admissible and PC-admissible.
Suppose, moreover, that (X, n) = (Y, Y n), which thus implies that
α is a(n) [continuous] outomorphism of Πn = Y ΠY n . Then we shall say
that
• α is F-admissible [cf. [CmbCsp], Deﬁnition 1.1, (ii)] if α(K) =
K for every ﬁber subgroup K of Πn ;
• α is C-admissible [cf. [CmbCsp], Deﬁnition 1.1, (ii)] if α is
PC-admissible, and α(Ka ) = Ka for each nonnegative integer
a ≤ n;

6

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

• α is FC-admissible [cf. [CmbCsp], Deﬁnition 1.1, (ii)] if α is
F-admissible and C-admissible.
One central theme of the present monograph is the issue of ncuspidalizability [cf. Deﬁnition 3.20], i.e., the issue of the extent
to which a given isomorphism between the pro-Σ fundamental groups
of a pair of hyperbolic curves lifts [necessarily uniquely, up to a permutation of factors — cf. [NodNon], Theorem B] to a PFC-admissible
[cf. [CbTpI], Deﬁnition 1.4, (iii)] isomorphism between the pro-Σ fundamental groups of the corresponding n-th conﬁguration spaces, for
n ≥ 1 a positive integer. In this context, we recall that both the algebraic and the anabelian geometry of such conﬁguration spaces revolves
around the behavior of the various diagonals that are removed from
direct products of copies of the given curve in order to construct these
conﬁguration spaces. From this point of view, it is perhaps natural to
think of the issue of n-cuspidalizability as a sort of abstract proﬁnite
analogue of the notion of n-diﬀerentiability in the theory of diﬀerential manifolds. In particular, it is perhaps natural to think of the theory
of the present monograph [as well as of [MzTa], [CmbCsp], [NodNon],
[CbTpI]] as a sort of abstract proﬁnite analogue of the classical
theory constituted by the diﬀerential topology of surfaces.
Next, we recall that, to a substantial extent, the theory of combinatorial cuspidalization [i.e., the issue of n-cuspidalizability] developed
in [CmbCsp] may be thought of as an essentially formal consequence of
the combinatorial anabelian result obtained in [CmbGC], Corollary 2.7, (iii). In a similar vein, the generalization of this theory of
[CmbCsp] that is summarized in [NodNon], Theorem B, may be regarded as an essentially formal consequence of the combinatorial anabelian result given in [NodNon], Theorem A. The development of the
theory of the present monograph follows this pattern to a substantial
extent. That is to say, in §1, we begin the development of the theory of the present monograph by proving a fundamental combinatorial
anabelian result [cf. Theorem 1.9], which generalizes the combinatorial anabelian results given in [CmbGC], Corollary 2.7, (iii); [NodNon],
Theorem A. A substantial portion of the main results obtained in the
remainder of the present monograph may be understood as consisting
of various applications of Theorem 1.9.
By comparison to the combinatorial anabelian results of [CmbGC],
Corollary 2.7, (iii); [NodNon], Theorem A, the main technical feature of
the combinatorial anabelian result given in Theorem 1.9 of the present
monograph is that it allows one, to a substantial extent, to
eliminate the group-theoretic cuspidality hypothesis
— i.e., the assumption to the eﬀect that the isomorphism between proΣ fundamental groups of stable log curves under consideration [that is
to say, in eﬀect, an isomorphism between the pro-Σ fundamental groups

COMBINATORIAL ANABELIAN TOPICS II

7

of certain degenerations of hyperbolic curves] necessarily preserves cuspidal inertia subgroups — that plays a central role in the proofs of earlier combinatorial anabelian results. In §2, we apply Theorem 1.9 to
obtain the following [partial] combinatorial cuspidalization result
[cf. Theorem 2.3, (i), (ii); Corollary 3.22], which [partially] generalizes
[NodNon], Theorem B.
Theorem A (Partial combinatorial cuspidalization for F-admissible outomorphisms). Let (g, r) be a pair of nonnegative integers such that 2g − 2 + r > 0; n a positive integer; Σ a set of prime
numbers which is either equal to the set of all prime numbers or of cardinality one; X a hyperbolic curve of type (g, r) over an algebraically
closed ﬁeld of characteristic ∈ Σ; Xn the n-th conﬁguration space
of X; Πn the maximal pro-Σ quotient of the fundamental group of Xn ;
OutF (Πn ) ⊆ Out(Πn )
the subgroup of F-admissible outomorphisms [i.e., roughly speaking,
outer automorphisms that preserve the ﬁber subgroups — cf. the discussion preceding Theorem A; [CmbCsp], Deﬁnition 1.1, (ii), for more
details] of Πn ;
OutFC (Πn ) ⊆ OutF (Πn )
the subgroup of FC-admissible outomorphisms [i.e., roughly speaking, outer automorphisms that preserve the ﬁber subgroups and the
cuspidal inertia subgroups — cf. the discussion preceding Theorem A;
[CmbCsp], Deﬁnition 1.1, (ii), for more details] of Πn . Then the following hold:
(i) Write


def

ninj =

1
2

if r = 0,
if r = 0 ,


def

nbij =

3
4

if r = 0,
if r = 0 .

If n ≥ ninj (respectively, n ≥ nbij ), then the natural homomorphism
OutF (Πn+1 ) −→ OutF (Πn )
induced by the projections Xn+1 → Xn obtained by forgetting
any one of the n + 1 factors of Xn+1 [cf. [CbTpI], Theorem A,
(i)] is injective (respectively, bijective).
(ii) Write

⎧
⎨ 2
def
3
nFC =
⎩ 4

if (g, r) = (0, 3),
if (g, r) = (0, 3) and r = 0,
if r = 0 .

If n ≥ nFC , then it holds that
OutFC (Πn ) = OutF (Πn ) .

8

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

(iii) Suppose that (g, r) ∈ {(0, 3); (1, 1)}. Then the natural injection [cf. [NodNon], Theorem B]
OutFC (Π2 ) → OutFC (Π1 )
induced by the projections X2 → X1 obtained by forgetting either of the two factors of X2 is not surjective.
Here, we remark that the non-surjectivity discussed in Theorem A,
(iii), is, in fact, obtained as a consequence of the theory of tripod synchronization developed in §3 [cf. the discussion preceding Theorem C
below]. This non-surjectivity is remarkable in that it yields an important example of substantially diﬀerent behavior in the theory of proﬁnite fundamental groups of hyperbolic curves from the corresponding
theory in the discrete case. That is to say, in the case of the classical
discrete fundamental group of a hyperbolic topological surface, the surjectivity of the corresponding homomorphism may be derived as an
essentially formal consequence of the well-known Dehn-Nielsen-Baer
theorem in the theory of topological surfaces [cf. the discussion of Remark 3.22.1, (i)]. In particular, it constitutes an important “counterexample” to the “line of reasoning” [i.e., for instance, of the sort which
appears in the ﬁnal paragraph of [Lch], §1; the discussion between
[Lch], Theorem 5.1, and [Lch], Conjecture 5.2] that one should expect
essentially analogous behavior in the theory of proﬁnite fundamental
groups of hyperbolic curves to the relatively well understood behavior observed classically in the theory of discrete fundamental groups of
topological surfaces [cf. the discussion of Remark 3.22.1, (iii)].
Theorem A leads naturally to the following strengthening of the
result obtained in [CbTpI], Theorem A, (ii), concerning the grouptheoreticity of the cuspidal inertia subgroups of the various onedimensional subquotients of a conﬁguration space group [cf. Corollary 2.4].
Theorem B (PFC-admissibility of outomorphisms). In the notation of Theorem A, write
OutPF (Πn ) ⊆ Out(Πn )
for the subgroup of PF-admissible outomorphisms [i.e., roughly speaking, outer automorphisms that preserve the ﬁber subgroups up to a possible permutation of the factors — cf. the discussion preceding Theorem A; [CbTpI], Deﬁnition 1.4, (i), for more details] and
OutPFC (Πn ) ⊆ OutPF (Πn )
for the subgroup of PFC-admissible outomorphisms [i.e., roughly speaking, outer automorphisms that preserve the ﬁber subgroups and the cuspidal inertia subgroups up to a possible permutation of the factors —
cf. the discussion preceding Theorem A; [CbTpI], Deﬁnition 1.4, (iii),

COMBINATORIAL ANABELIAN TOPICS II

9

for more details]. Let us regard the symmetric group on n letters Sn
as a subgroup of Out(Πn ) via the natural inclusion Sn → Out(Πn )
obtained by permuting the various factors of Xn . Finally, suppose that
(g, r) ∈ {(0, 3); (1, 1)}. Then the following hold:
(i) We have an equality
Out(Πn ) = OutPF (Πn ).
If, moreover, (r, n) = (0, 2), then we have equalities
Out(Πn ) = OutPF (Πn ) = OutF (Πn ) × Sn .
(ii) If either
r > 0, n ≥ 3
or
n ≥ 4,
then we have equalities
Out(Πn ) = OutPFC (Πn ) = OutFC (Πn ) × Sn .
The partial combinatorial cuspidalization of Theorem A has natural
applications to the relative and [semi-]absolute anabelian geometry of conﬁguration spaces [cf. Corollaries 2.5, 2.6], which generalize the theory of [AbsTpI], §1. Roughly speaking, these results
allow one, in a wide variety of cases, to reduce issues concerning the
relative and [semi-]absolute anabelian geometry of conﬁguration spaces
to the corresponding issues concerning the relative and [semi-]absolute
anabelian geometry of hyperbolic curves. Also, we remark that in this
context, we obtain a purely scheme-theoretic result [cf. Lemma 2.7] that
states, roughly speaking, that the theory of isomorphisms [of schemes!]
between conﬁguration spaces associated to hyperbolic curves may be
reduced to the theory of isomorphisms [of schemes!] between hyperbolic curves.
In §3, we take up the study of [the group-theoretic versions of] the
various tripods [i.e., copies of the projective line minus three points]
that occur in the various one-dimensional ﬁbers of the log conﬁguration spaces associated to a stable log curve [cf. the discussion entitled
“Curves” in [CbTpI], §0]. Roughly speaking, these tripods either occur in the original stable log curve or arise as the result of blowing up
various cusps or nodes that occur in the one-dimensional ﬁbers of
log conﬁguration spaces of lower dimension [cf. Figure 1 at the end
of the present Introduction]. In fact, a substantial portion of §3 is
devoted precisely to the theory of classiﬁcation of the various tripods
that occur in the one-dimensional ﬁbers of the log conﬁguration spaces
associated to a stable log curve [cf. Lemmas 3.6, 3.8]. This leads naturally to the study of the phenomenon of tripod synchronization, i.e.,
roughly speaking, the phenomenon that an outomorphism [that is to

10

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

say, an outer automorphism] of the pro-Σ fundamental group of a log
conﬁguration space associated to a stable log curve typically induces
the same outer automorphism on the various [group-theoretic] tripods
that occur in subquotients of such a fundamental group [cf. Theorems 3.16, 3.17, 3.18]. The phenomenon of tripod synchronization, in
turn, leads naturally to the deﬁnition of the tripod homomorphism
[cf. Deﬁnition 3.19], which may be thought of as the homomorphism
obtained by associating to an [FC-admissible] outer automorphism of
the pro-Σ fundamental group of the n-th log conﬁguration space associated to a stable log curve, where n ≥ 3 is a positive integer, the
outer automorphism induced on a [group-theoretic] central tripod,
i.e., roughly speaking, a tripod that arises, in the case where n = 3 and
the given stable log curve has no nodes, by blowing up the intersection
of the three diagonal divisors of the direct product of three copies of
the curve.
Theorem C (Synchronization of tripods in three or more dimensions). Let (g, r) be a pair of nonnegative integers such that 2g −
2 + r > 0; n a positive integer; Σ a set of prime numbers which is
either equal to the set of all prime numbers or of cardinality one; k
an algebraically closed ﬁeld of characteristic ∈ Σ; (Spec k)log the log
scheme obtained by equipping Spec k with the log structure determined
by the fs chart N → k that maps 1 → 0; X log = X1log a stable log
curve of type (g, r) over (Spec k)log . Write G for the semi-graph of
anabelioids of pro-Σ PSC-type determined by the stable log curve X log .
For each positive integer i, write Xilog for the i-th log conﬁguration
space of the stable log curve X log [cf. the discussion entitled “Curves”
in “Notations and Conventions”]; Πi for the maximal pro-Σ quotient
of the kernel of the natural surjection π1 (Xilog )  π1 ((Spec k)log ). Let
T ⊆ Πm be a {1, · · · , m}-tripod of Πn [cf. Deﬁnition 3.3, (i)] for
m a positive integer ≤ n. Suppose that n ≥ 3. Let
Πtpd ⊆ Π3
be a 1-central {1, 2, 3}-tripod of Πn [cf. Deﬁnitions 3.3, (i); 3.7,
(ii)]. Then the following hold:
(i) The commensurator and centralizer of T in Πm satisfy the
equality
CΠm (T ) = T × ZΠm (T ) .
Thus, if an outomorphism α of Πm preserves the Πm -conjugacy
class of T ⊆ Πm , then one obtains a “restriction” α|T ∈
Out(T ).
(ii) Let α ∈ OutFC (Πn ) be an FC-admissible outomorphism of Πn .
Then the outomorphism of Π3 induced by α preserves the Π3 conjugacy class of Πtpd ⊆ Π3 . In particular, by (i), we obtain

COMBINATORIAL ANABELIAN TOPICS II

11

a natural homomorphism
TΠtpd : OutFC (Πn ) −→ Out(Πtpd ) .
We shall refer to this homomorphism as the tripod homomorphism associated to Πn .
(iii) Let α ∈ OutFC (Πn ) be an FC-admissible outomorphism of Πn
such that the outomorphism αm of Πm induced by α preserves
the Πm -conjugacy class of T ⊆ Πm and induces [cf. (i)] the
identity automorphism of the set of T -conjugacy classes of
cuspidal inertia subgroups of T . Then there exists a geometric
∼
[cf. Deﬁnition 3.4, (ii)] outer isomorphism Πtpd → T with
respect to which the outomorphism TΠtpd (α) ∈ Out(Πtpd ) [cf.
(ii)] is compatible with the outomorphism αm |T ∈ Out(T )
[cf. (i)].
(iv) Suppose, moreover, that either n ≥ 4 or r = 0. Then the
homomorphism TΠtpd of (ii) factors through OutC (Πtpd )Δ+ ⊆
Out(Πtpd ) [cf. Deﬁnition 3.4, (i)], and, moreover, the resulting
homomorphism
TΠtpd : OutF (Πn ) = OutFC (Πn ) −→ OutC (Πtpd )Δ+
[cf. Theorem A, (ii)] is surjective.
Here, we remark that the surjectivity of the tripod homomorphism
[cf. Theorem C, (iv)] is obtained [cf. Corollary 4.15] as a consequence
of the theory of glueability of combinatorial cuspidalizations developed
in §4 [cf. the discussion preceding Theorem F below]. Also, we recall
that the codomain of this surjective tripod homomorphism
OutC (Πtpd )Δ+
may be identiﬁed with the [pro-Σ] Grothendieck-Teichmüller group
GTΣ [cf. the discussion of [CmbCsp], Remark 1.11.1]. Since GTΣ may
be thought of as a sort of abstract combinatorial approximation
of the absolute Galois group GQ of the rational number ﬁeld Q, it is
thus natural to think of the surjective tripod homomorphism
OutF (Πn )  OutC (Πtpd )Δ+
of Theorem C, (iv), as a sort of abstract combinatorial version of
the natural surjective outer homomorphism
π1 ((Mg,[r] )Q )  GQ
induced on étale fundamental groups by the structure morphism (Mg,[r] )Q
→ Spec (Q) of the moduli stack (Mg,[r] )Q of hyperbolic curves of type
(g, r) [cf. the discussion of Remark 3.19.1]. In particular, the kernel of
the tripod homomorphism — which we denote by
OutF (Πn )geo

12

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

— may be thought of as a sort of abstract combinatorial analogue of
the geometric étale fundamental group of (Mg,[r] )Q [i.e., the kernel of
the natural outer homomorphism π1 ((Mg,[r] )Q )  GQ ].
One interesting application of the theory of tripod synchronization
is the following. Fix a pro-Σ fundamental group of a hyperbolic curve.
Recall the notion of a nondegenerate proﬁnite Dehn multi-twist
[cf. [CbTpI], Deﬁnition 4.4; [CbTpI], Deﬁnition 5.8, (ii)] associated to a
structure of semi-graph of anabelioids of pro-Σ PSC-type on such a fundamental group. Here, we recall that such a structure may be thought
of as a sort of proﬁnite analogue of the notion of a decomposition of a
hyperbolic topological surface into hyperbolic subsurfaces [i.e., such as
“pants”]. Then the following result asserts that, under certain technical conditions, any such nondegenerate proﬁnite Dehn multi-twist that
commutes with another nondegenerate proﬁnite Dehn multi-twist associated to some given totally degenerate semi-graph of anabelioids
of pro-Σ PSC-type [cf. [CbTpI], Deﬁnition 2.3, (iv)] necessarily arises
from a structure of semi-graph of anabelioids of pro-Σ PSC-type that
is “co-Dehn” to, i.e., arises by applying a deformation to, the given
totally degenerate semi-graph of anabelioids of pro-Σ PSC-type [cf.
Corollary 3.25]. This sort of result is reminiscent of topological results
concerning subgroups of the mapping class group generated by pairs of
positive Dehn multi-twists [cf. [Ishi], [HT]].
Theorem D (Co-Dehn-ness of degeneration structures in the
totally degenerate case). In the notation of Theorem C, for i =
1, 2, let Yilog be a stable log curve over (Spec k)log ; Hi the “G” that
occurs in the case where we take “X log ” to be Yilog ; (Hi , Si , φi ) a 3cuspidalizable degeneration structure on G [cf. Deﬁnition 3.23,
(i), (v)]; αi ∈ Out(ΠG ) a nondegenerate (Hi , Si , φi )-Dehn multi-twist
of G [cf. Deﬁnition 3.23, (iv)]. Suppose that α1 commutes with α2 ,
and that H2 is totally degenerate [cf. [CbTpI], Deﬁnition 2.3, (iv)].
Suppose, moreover, that one of the following conditions is satisﬁed:
(i) r = 0.
(ii) α1 and α2 are positive deﬁnite [cf. Deﬁnition 3.23, (iv)].
Then (H1 , S1 , φ1 ) is co-Dehn to (H2 , S2 , φ2 ) [cf. Deﬁnition 3.23,
(iii)], or, equivalently [since H2 is totally degenerate], (H2 , S2 , φ2 )
(H1 , S1 , φ1 ) [cf. Deﬁnition 3.23, (ii)].
Another interesting application of the theory of tripod synchronization is to the computation, in terms of a certain scheme-theoretic
fundamental group, of the purely combinatorial commensurator of
the subgroup of proﬁnite Dehn multi-twists in the group of 3-cuspidalizable, FC-admissible, “geometric” outer automorphisms of the pro-Σ

COMBINATORIAL ANABELIAN TOPICS II

13

fundamental group of a totally degenerate stable log curve [cf. Corollary 3.27]. Here, we remark that the scheme-theoretic [or, perhaps more
precisely, “log algebraic stack-theoretic”] fundamental group that appears is, roughly speaking, the pro-Σ geometric fundamental group
of a formal neighborhood, in the corresponding logarithmic moduli
stack, of the point determined by the given totally degenerate stable log curve. In particular, this computation may also be regarded
as a sort of purely combinatorial algorithm for constructing this
scheme-theoretic fundamental group [cf. Remark 3.27.1].
Theorem E (Commensurator of proﬁnite Dehn multi-twists
in the totally degenerate case). In the notation of Theorem C
[so n ≥ 3], suppose further that if r = 0, then n ≥ 4. Also, we
assume that G is totally degenerate [cf. [CbTpI], Deﬁnition 2.3,
def
(iv)]. Write s : Spec k → (Mg,[r] )k = (Mg,[r] )Spec k [cf. the discussion
entitled “Curves” in “Notations and Conventions”] for the underlying (1-)morphism of algebraic stacks of the classifying (1-)morphism
log
log
def
(Spec k)log → (Mg,[r] )k = (Mg,[r] )Spec k [cf. the discussion entitled
“Curves” in “Notations and Conventions”] of the stable log curve X log
 log for the log scheme obtained by equipping N
s def
over (Spec k)log ; N
=
s
Spec k with the log structure induced, via s, by the log structure of
log
(Mg,[r] )k ; Nslog for the log stack obtained by forming the [stack-theoretic]
 log by the natural action of the ﬁnite kquotient of the log scheme N
s
group “s ×(Mg,[r] )k s”, i.e., the ﬁber product over (Mg,[r] )k of two copies
of s; Ns for the underlying stack of the log stack Nslog ; INs ⊆ π1 (Nslog )
for the closed subgroup of the log fundamental group π1 (Nslog ) of Nslog
given by the kernel of the natural surjection π1 (Nslog )  π1 (Ns ) [induced by the (1-)morphism Nslog → Ns obtained by forgetting the log
(Σ)
structure]; π1 (Nslog ) for the quotient of π1 (Nslog ) by the kernel of the
Σ
natural surjection from INs to its maximal pro-Σ quotient IN
. Then
s
we have an equality
NOutF (Πn )geo (Dehn(G)) = COutF (Πn )geo (Dehn(G))
and a natural commutative diagram of proﬁnite groups
1 −−−→

Σ
IN
⏐s
⏐


−−−→

(Σ)

π1 (Nslog )
⏐
⏐


−−−→ π1 (Ns ) −−−→ 1
⏐
⏐


1 −−−→ Dehn(G) −−−→ COutF (Πn )geo (Dehn(G)) −−−→ Aut(G) −−−→ 1
[cf. Deﬁnition 3.1, (ii), concerning the notation “G”] — where the
horizontal sequences are exact, and the vertical arrows are isomorphisms. Moreover, Dehn(G) is open in COutF (Πn )geo (Dehn(G)).

14

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

In §4, we show, under suitable technical conditions, that an automorphism of the pro-Σ fundamental group of the log conﬁguration
space associated to a stable log curve necessarily preserves the graphtheoretic structure of the various one-dimensional ﬁbers of such a
log conﬁguration space [cf. Theorem 4.7]. This allows us to verify the
glueability of combinatorial cuspidalizations, i.e., roughly speaking, that, for n ≥ 2 a positive integer, the datum of an n-cuspidalizable
outer automorphism of the pro-Σ fundamental group of a stable log
curve is equivalent, up to possible composition with a proﬁnite Dehn
multi-twist, to the datum of a collection of n-cuspidalizable automorphisms of the pro-Σ fundamental groups of the various irreducible components of the given stable log curve that satisfy a certain gluing condition involving the induced outer actions on tripods [cf. Theorem 4.14].
Theorem F (Glueability of combinatorial cuspidalizations). In
the notation of Theorem C, write
OutFC (Πn )brch ⊆ OutFC (Πn )
for the closed subgroup of OutFC (Πn ) consisting of FC-admissible outomorphisms α of Πn such that the outomorphism of Π1 determined by
α induces the identity automorphism of Vert(G), Node(G), and, moreover, ﬁxes each of the branches of every node of G [cf. Deﬁnition 4.6,
(i)];
OutFC ((Πv )n )
Glu(Πn ) ⊆
v∈Vert(G)

for the closed subgroup of v∈Vert(G) OutFC ((Πv )n ) consisting of “glueable” collections of outomorphisms of the groups “(Πv )n ” [cf. Deﬁnition 4.9, (iii)]. Then we have a natural exact sequence of proﬁnite
groups
1 −→ Dehn(G) −→ OutFC (Πn )brch −→ Glu(Πn ) −→ 1 .
This glueability result may, alternatively, be thought of as a result that asserts the localizability [i.e., relative to localization on
the dual semi-graph of the given stable log curve] of the notion of ncuspidalizability. In this context, it is of interest to observe that this
glueability result may be regarded as a natural generalization, to the
case of n-cuspidalizability for n ≥ 2, of the glueability result obtained
in [CbTpI], Theorem B, (iii), in the “1-cuspidalizable” case, which is
derived as a consequence of the theory of localizability [i.e., relative to
localization on the dual semi-graph of the given stable log curve] and
synchronization of cyclotomes developed in [CbTpI], §3, §4. From
this point of view, it is also of interest to observe that the suﬃciency
portion of [the equivalence that constitutes] this glueability result [i.e.,
Theorem F] may be thought of as a sort of “converse” to the theory
of tripod synchronizations developed in §3 [i.e., of which the necessity

COMBINATORIAL ANABELIAN TOPICS II

15

portion of this glueability result is, in essence, a formal consequence —
cf. the proof of Lemma 4.10, (ii)]. Indeed, the bulk of the proof given in
§4 of Theorem 4.14 is devoted to the suﬃciency portion of this result,
which is veriﬁed by means of a detailed combinatorial analysis [cf. the
proof of [CbTpI], Proposition 4.10, (ii)] of the noncyclically primitive and cyclically primitive cases [cf. Lemmas 4.12, 4.13; Figures
2, 3, 4].
Finally, we apply this glueability result to derive a cuspidalization
theorem — i.e., in the spirit of and generalizing the corresponding
results of [AbsCsp], Theorem 3.1; [Hsh], Theorem 0.1; [Wkb], Theorem
C [cf. Remark 4.16.1] — for geometrically pro-l fundamental groups of
stable log curves over ﬁnite ﬁelds [cf. Corollary 4.16]. That is to say,
in the case of stable log curves over ﬁnite ﬁelds,
the condition of compatibility with the Galois action
is suﬃcient to imply the n-cuspidalizability of arbitrary isomorphisms between the geometric pro-l fundamental groups, for n ≥ 1.
In this context, it is of interest to recall that strong anabelian results
[i.e., in the style of the “Grothendieck Conjecture”] for such geometrically pro-l fundamental groups of stable log curves over ﬁnite ﬁelds
are not known in general, at the time of writing. On the other hand,
we observe that in the case of totally degenerate stable log curves
over ﬁnite ﬁelds, such “strong anabelian results” may be obtained under certain technical conditions [cf. Corollary 4.17; Remarks 4.17.1,
4.17.2].
Notations and Conventions
Sets: If S is a set, then we shall denote by #S the cardinality of S.
Groups: We shall refer to an element of a group as trivial (respectively,
nontrivial) if it is (respectively, is not) equal to the identity element of
the group. We shall refer to a nonempty subset of a group as trivial
(respectively, nontrivial) if it is (respectively, is not) equal to the set
whose unique element is the identity element of the group.
Topological groups: Let G be a topological group and J, H ⊆ G
closed subgroups. Then we shall write
def

ZJ (H) = { j ∈ J | jh = hj for any h ∈ H } = ZG (H) ∩ J
for the centralizer of H in J,
def

Z(G) = ZG (G)
for the center of G, and
def

ZJloc (H) = lim ZJ (U ) ⊆ J
−→

16

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

— where the inductive limit is over all open subgroups U ⊆ H of H —
def
for the “local centralizer” of H in J. We shall write Z loc (G) = ZGloc (G)
for the “local center” of G. Thus, a proﬁnite group G is slim [cf. the
discussion entitled “Topological groups” in [CbTpI], §0] if and only if
Z loc (G) = {1}.
Rings: If R is a commutative ring with unity, then we shall write R∗
for the multiplicative group of invertible elements of R.
Curves: Let g, r1 , r2 be nonnegative integers such that 2g − 2 +
r1 + r2 > 0. Then we shall write Mg,[r1 ]+r2 for the moduli stack of
pointed stable curves of type (g, r1 + r2 ), where the ﬁrst r1 marked
points are regarded as unordered, but the last r2 marked points are
regarded as ordered, over Z; Mg,[r1 ]+r2 ⊆ Mg,[r1 ]+r2 for the open sublog
stack of Mg,[r1 ]+r2 that parametrizes smooth curves; Mg,[r1 ]+r2 for the
log stack obtained by equipping Mg,[r1 ]+r2 with the log structure associated to the divisor with normal crossings Mg,[r1 ]+r2 \ Mg,[r1 ]+r2 ⊆
Mg,[r1 ]+r2 ; C g,[r1 ]+r2 → Mg,[r1 ]+r2 for the tautological stable curve over
Mg,[r1 ]+r2 ; Dg,[r1 ]+r2 ⊆ C g,[r1 ]+r2 for the corresponding tautological divisor of cusps of C g,[r1 ]+r2 → Mg,[r1 ]+r2 . Then the divisor given by
the union of Dg,[r1 ]+r2 with the inverse image in C g,[r1 ]+r2 of the divisor Mg,[r1 ]+r2 \ Mg,[r1 ]+r2 ⊆ Mg,[r1 ]+r2 determines a log structure on
log
C g,[r1 ]+r2 ; write C g,[r1 ]+r2 for the resulting log stack. Thus, we obtain
log

log

a (1-)morphism of log stacks C g,[r1 ]+r2 → Mg,[r1 ]+r2 . We shall write
log

Cg,[r1 ]+r2 ⊆ C g,[r1 ]+r2 for the interior of C g,[r1 ]+r2 [cf. the discussion
entitled “Log schemes” in [CbTpI], §0]. In particular, we obtain a
(1-)morphism of stacks Cg,[r1 ]+r2 → Mg,[r1 ]+r2 . Moreover, for a nonnegdef

ative integer r such that 2g−2+r > 0, we shall write Mg,[r] = Mg,[r]+0 ;
log

def

def

log

def

def

Mg,[r] = Mg,[r]+0 ; Mg,[r] = Mg,[r]+0 ; C g,[r] = C g,[r]+0 ; Dg,[r] = Dg,[r]+0 ;
log

def

log

def

C g,[r] = C g,[r]+0 ; Cg,[r] = Cg,[r]+0 . In particular, the stack Mg,[r] may be
regarded as a moduli stack of hyperbolic curves of type (g, r) over Z. If
S is a scheme, then we shall denote by means of a subscript S the result
of base-changing via the structure morphism S → Spec Z the various
log stacks of the above discussion.
Let (g, r) be a pair of nonnegative integers such that 2g − 2 + r > 0;
n a positive integer; X log a stable log curve [cf. the discussion entitled
“Curves” in [CbTpI], §0] of type (g, r) over a log scheme S log . Then we
shall refer to the log scheme obtained by pulling back the (1-)morphism
log
log
Mg,[r]+n → Mg,[r] given by forgetting the last n [ordered] points via
the classifying (1-)morphism S log → Mg,[r] of X log as the n-th log
conguration space of X log .

COMBINATORIAL ANABELIAN TOPICS II

17

.........

....
....

.

.
.. . . . .

.

.

tripod

.........

tripod

tripod

....
....

.........

..

.
.
.
.
...

.........

.
.........

.........
tripod

tripod

tripod

Figure 1 : tripods in the various ﬁbers of a conﬁguration space

18

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

1. Combinatorial anabelian geometry in the absence of
group-theoretic cuspidality
In the present §1, we discuss various combinatorial versions of the
Grothendieck Conjecture for outer representations of NN- and IPSCtype [cf. Theorem 1.9 below]. These Grothendieck Conjecture-type
results may be regarded as generalizations of [NodNon], Corollary 4.2;
[NodNon], Remark 4.2.1, that may be applied to isomorphisms that
are not necessarily group-theoretically cuspidal. For instance, we prove
[cf. Theorem 1.9, (ii), below] that any isomorphism between outer
representations of IPSC-type [cf. [NodNon], Deﬁnition 2.4, (i)] is necessarily group-theoretically verticial, i.e., roughly speaking, preserves
the verticial subgroups.
A basic reference for the theory of semi-graphs of anabelioids of PSCtype is [CmbGC]. We shall use the terms “semi-graph of anabelioids of
PSC-type”, “PSC-fundamental group of a semi-graph of anabelioids of
PSC-type”, “ﬁnite étale covering of semi-graphs of anabelioids of PSCtype”, “vertex”, “edge”, “node”, “cusp”, “verticial subgroup”, “edge-like
subgroup”, “nodal subgroup”, “cuspidal subgroup”, and “sturdy” as they
are deﬁned in [CmbGC], Deﬁnition 1.1 [cf. also Remark 1.1.2 below].
Also, we shall apply the various notational conventions established in
[NodNon], Deﬁnition 1.1, and refer to the “PSC-fundamental group of
a semi-graph of anabelioids of PSC-type” simply as the “fundamental
group” [of the semi-graph of anabelioids of PSC-type]. That is to
say, we shall refer to the maximal pro-Σ quotient of the fundamental
group of a semi-graph of anabelioids of pro-Σ PSC-type [as a semigraph of anabelioids!] as the “fundamental group of the semi-graph of
anabelioids of PSC-type”.
In the present §1, let Σ be a nonempty set of prime numbers and G a
semi-graph of anabelioids of pro-Σ PSC-type. Write G for the underlying semi-graph of G, ΠG for the [pro-Σ] fundamental group of G, and
G → G for the universal covering of G corresponding to ΠG . Then since
the fundamental group ΠG of G is topologically ﬁnitely generated, the
proﬁnite topology of ΠG induces [proﬁnite] topologies on Aut(ΠG ) and
Out(ΠG ) [cf. the discussion entitled “Topological groups” in [CbTpI],
§0]. If, moreover, we write Aut(G) for the automorphism group of G,
then, by the discussion preceding [CmbGC], Lemma 2.1, the natural
homomorphism
Aut(G) −→ Out(ΠG )
is an injection with closed image. [Here, we recall that an automorphism of a semi-graph of anabelioids consists of an automorphism of
the underlying semi-graph, together with a compatible system of isomorphisms between the various anabelioids at each of the vertices and

COMBINATORIAL ANABELIAN TOPICS II

19

edges of the underlying semi-graph which are compatible with the various morphisms of anabelioids associated to the branches of the underlying semi-graph — cf. [SemiAn], Deﬁnition 2.1; [SemiAn], Remark
2.4.2.] Thus, by equipping Aut(G) with the topology induced via this
homomorphism by the topology of Out(ΠG ), we may regard Aut(G) as
being equipped with the structure of a proﬁnite group.
Deﬁnition 1.1. We shall say that an element γ ∈ ΠG of ΠG is verticial
(respectively, edge-like; nodal; cuspidal) if γ is contained in a verticial
(respectively, an edge-like; a nodal; a cuspidal) subgroup of ΠG .
Remark 1.1.1. Let γ ∈ ΠG be a nontrivial [cf. the discussion entitled
“Groups” in “Notations and Conventions”] element of ΠG . If γ ∈ ΠG is
edge-like [cf. Deﬁnition 1.1], then it follows from [NodNon], Lemma 1.5,
 such that γ ∈ Πe. If γ ∈ ΠG
that there exists a unique edge e ∈ Edge(G)
is verticial, but not nodal [cf. Deﬁnition 1.1], then it follows from

[NodNon], Lemma 1.9, (i), that there exists a unique vertex v ∈ Vert(G)
such that γ ∈ Πv.
Remark 1.1.2. Here, we take the opportunity to correct an unfortunate misprint in [CmbGC]. In the ﬁnal sentence of [CmbGC], Deﬁnition
1.1, (ii), the phrase “rank ≥ 2” should read “rank > 2”. In particular,
we shall say that G is sturdy if the abelianization of the image, in the
quotient ΠG  Πunr
of ΠG by the normal closed subgroup normally
G
topologically generated by the edge-like subgroups, of every verticial
subgroup of ΠG is free of rank > 2 over ZΣ . Here, we note in passing
that G is sturdy if and only if every vertex of G is of genus ≥ 2 [cf.
[CbTpI], Deﬁnition 2.3, (iii)].
Lemma 1.2 (Existence of a certain connected ﬁnite étale covering). Let n be a positive integer which is a product [possibly with
 v ∈ Vert(G).
 Write
multiplicities!] of primes ∈ Σ; e1 , e2 ∈ Edge(G);
def
def
def
e1 = e1 (G), e2 = e2 (G), and v = v(G). Suppose that the following
conditions are satisﬁed:
(i) G is untangled [cf. [NodNon], Deﬁnition 1.2].
(ii) If e1 is a node, then the following condition holds: Let w,
w ∈ V(e1 ) be the two distinct elements of V(e1 ) [cf. (i)].
Then #(N (w) ∩ N (w )) ≥ 3.
(iii) If e1 is a cusp, then the following condition holds: Let w ∈
V(e1 ) be the unique element of V(e1 ). Then #C(w) ≥ 3.

20

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

(iv) e1 = e2 .
(v) v ∈ V(e1 ).
Then there exists a ﬁnite étale Galois subcovering G  → G of G → G
such that n divides [Πe1 : Πe1 ∩ ΠG  ], and, moreover, Πe2 , Πv ⊆ ΠG  .
Proof. Suppose that e1 is a node (respectively, cusp). Write H for
the [uniquely determined] sub-semi-graph of PSC-type [cf. [CbTpI],
Deﬁnition 2.2, (i)] of G whose set of vertices is = V(e1 ) = {w, w }
[cf. condition (ii)] (respectively, = {w} [cf. condition (iii)]). Now it
follows from condition (ii) (respectively, (iii)) that there exists an e3 ∈
Node(G|H ) = N (w) ∩ N (w ) (respectively, ∈ Cusp(G|H ) ∩ Cusp(G) =
C(w)) [cf. [CbTpI], Deﬁnition 2.2, (ii)] such that e3 = e2 . Moreover,
again by applying condition (ii) (respectively, (iii)), together with the
well-known structure of the abelianization of the fundamental group
of a smooth curve over an algebraically closed ﬁeld of characteristic
∈ Σ, we conclude that there exists a ﬁnite étale Galois covering GH →
G|H that arises from a normal open subgroup of ΠG|H and which is
unramiﬁed at every element of Edge(G|H ) \ {e1 , e3 } and totally ramiﬁed
at e1 , e3 with ramiﬁcation indices divisible by n. Now since GH → G|H is
unramiﬁed at every element of Cusp(G|H ) ∩ Node(G), one may extend
this covering to a ﬁnite étale Galois subcovering G  → G of G → G
which restricts to the trivial covering over every vertex u of G such
that u = w, w (respectively, u = w). Moreover, it follows immediately
from the construction of G  → G that n divides [Πe1 : Πe1 ∩ ΠG  ], and
Πe2 , Πv ⊆ ΠG  . This completes the proof of Lemma 1.2.

Lemma 1.3 (Product of edge-like elements). Let γ1 , γ2 ∈ ΠG be
two nontrivial edge-like elements of ΠG [cf. Deﬁnition 1.1]. Write
 for the unique elements of Edge(G)
 such that γ1 ∈
e1 , e2 ∈ Edge(G)
Πe1 , γ2 ∈ Πe2 [cf. Remark 1.1.1]. Suppose that the following conditions
are satisﬁed:
(i) For every positive integer n, it holds that γ1n γ2n is verticial.
(ii) e1 = e2 .
Then there exists a [necessarily unique — cf. [NodNon], Remark 1.8.1,
 such that {
v ); in particular, it holds that
(iii)] v ∈ Vert(G)
e1 , e2 } ⊆ E(
γ1 γ2 ∈ Πv.
Proof. Since e1 = e2 [cf. condition (ii)], one veriﬁes easily that there
exists a ﬁnite étale Galois subcovering H → G of G → G that satisﬁes
the following conditions:
(1) e1 (H) = e2 (H).

COMBINATORIAL ANABELIAN TOPICS II

21

(2) H is untangled [cf. [NodNon], Deﬁnition 1.2; [NodNon], Remark 1.2.1, (i), (ii)].
 then the following holds: Let
(3) For i ∈ {1, 2}, if ei ∈ Node(G),
ei (H)) be the two distinct elements of V(
ei (H)) [cf.
w, w ∈ V(
(ii)]. Then #(N (w) ∩ N (w )) ≥ 3.
 then the following holds:
(4) For i ∈ {1, 2}, if ei ∈ Cusp(G),
Let w ∈ V(
ei (H)) be the unique element of V(
ei (H)). Then
#C(w) ≥ 3.
Now it is immediate that there exists a positive integer m such that
 be such that γ1m γ2m ∈
γ1m ∈ Πe1 ∩ ΠH , γ2m ∈ Πe2 ∩ ΠH . Let v ∈ Vert(G)
Πv [cf. condition (i)].
Suppose that v(H) ∈ V(
e1 (H)). Then it follows from Lemma 1.2
that there exists a ﬁnite étale Galois subcovering H → H of G → H
such that γ1m ∈ ΠH , and, moreover, Πe2 ∩ΠH , Πv ∩ΠH ⊆ ΠH . But this
implies that γ2m , γ1m γ2m ∈ ΠH , hence that γ1m ∈ ΠH , a contradiction. In
particular, it holds that v(H) ∈ V(
e1 (H)); a similar argument implies
e1 (H)) ∩ V(
e2 (H)) = ∅. Thus, by
that v(H) ∈ V(
e2 (H)), hence that V(
applying this argument to a suitable system of connected ﬁnite étale
coverings of H, we conclude that V(
e1 )∩V(
e2 ) = ∅, i.e., that there exists
 such that {
a v ∈ Vert(G)
e1 , e2 } ⊆ E(
v ). Then since Πe1 , Πe2 ⊆ Πv,
it follows immediately that γ1 γ2 ∈ Πv. This completes the proof of
Lemma 1.3.


Proposition 1.4 (Group-theoretic characterization of closed
subgroups of edge-like subgroups). Let H ⊆ ΠG be a closed subgroup of ΠG . Then the following conditions are equivalent:
(i) H is contained in an edge-like subgroup.
(ii) An open subgroup of H is contained in an edge-like subgroup.
(iii) Every element of H is edge-like [cf. Deﬁnition 1.1].
(iv) There exists a connected ﬁnite étale subcovering G † → G of
G → G such that for any connected ﬁnite étale subcovering
G  → G of G → G that factors through G † → G, the image of
the composite
ab/edge

H ∩ ΠG  → ΠG   ΠG 
ab/edge

— where we write ΠG 
for the torsion-free [cf. [CmbGC],
Remark 1.1.4] quotient of the abelianization Πab
G  by the closed
subgroup topologically generated by the images in Πab
G  of the
edge-like subgroups of ΠG  — is trivial.

22

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Proof. The implications (i) ⇒ (ii) ⇒ (iv) are immediate. The equivalence (iii) ⇔ (iv) follows immediately from [NodNon], Lemma 1.6.
Thus, to complete the veriﬁcation of Proposition 1.4, it suﬃces to verify the implication (iii) ⇒ (i). To this end, suppose that condition (iii)
holds. First, we observe that, to verify the implication (iii) ⇒ (i), it
suﬃces to verify the following assertion:
Claim 1.4.A: Let γ1 , γ2 ∈ H be nontrivial elements.
 for the unique elements of
Write e1 , e2 ∈ Edge(G)
 such that γ1 ∈ Πe1 , γ2 ∈ Πe2 [cf. Remark 1.1.1].
Edge(G)
Then e1 = e2 .
To verify Claim 1.4.A, let us observe that it follows from condition (iii)
that, for every positive integer n, it holds that γ1n γ2n is edge-like, hence
verticial. Thus, it follows immediately from Lemma 1.3 that there
 such that {
v ); in particular,
exists an element v ∈ Vert(G)
e1 , e2 } ⊆ E(
it holds that γ1 , γ2 ∈ Πv. Thus, to complete the veriﬁcation of Claim
1.4.A, we may assume without loss of generality — by replacing ΠG , H

by Πv, Πv ∩ H, respectively — that Node(G) = ∅ [so e1 , e2 ∈ Cusp(G)].
Moreover, we may assume without loss of generality — by replacing ΠG
(respectively, γ1 , γ2 ) by a suitable open subgroup of ΠG (respectively,
suitable powers of γ1 , γ2 ) — that #Cusp(G) ≥ 4. Thus, it follows
immediately from the well-known structure of the abelianization of the
fundamental group of a smooth curve over an algebraically closed ﬁeld
of characteristic ∈ Σ that the direct product of any 3 cuspidal inertia
subgroups of ΠG associated to distinct cusps of G maps injectively to the
abelianization Πab
G of ΠG . In particular, since γ1 γ2 is edge-like, hence
cuspidal, we conclude, by considering the cuspidal inertia subgroups
that contain γ1 , γ2 , and γ1 γ2 , that e1 = e2 . This completes the proof of
Claim 1.4.A, hence also of the implication (iii) ⇒ (i). This completes
the proof of Proposition 1.4.


Proposition 1.5 (Group-theoretic characterization of closed
subgroups of verticial subgroups). Let H ⊆ ΠG be a closed subgroup of ΠG . Then the following conditions are equivalent:
(i) H is contained in a verticial subgroup.
(ii) An open subgroup of H is contained in a verticial subgroup.
(iii) Every element of H is verticial [cf. Deﬁnition 1.1].
(iv) There exists a connected ﬁnite étale subcovering G † → G of
G → G such that for any connected ﬁnite étale subcovering
G  → G of G → G that factors through G † → G, the image of
the composite
H ∩ ΠG  → ΠG   Πab-comb
G

COMBINATORIAL ANABELIAN TOPICS II

23

— where we write Πab-comb
for the torsion-free [cf. [CmbGC],
G
Remark 1.1.4] quotient of the abelianization Πab
G  by the closed
subgroup topologically generated by the images in Πab
G  of the
verticial subgroups of ΠG  — is trivial.
Proof. The implications (i) ⇒ (ii) ⇒ (iv) are immediate. Next, we
verify the implication (iv) ⇒ (iii). Suppose that condition (iv) holds.
Let γ ∈ H. Then to verify that γ is verticial, we may assume without loss of generality — by replacing H by the procyclic subgroup
of H topologically generated by γ — that H is procyclic. Now the
implication (iv) ⇒ (iii) follows immediately from a similar argument
to the argument applied in the proof of the implication (ii) ⇒ (i) of
[NodNon], Lemma 1.6, in the edge-like case. Here, we note that unlike
the edge-like case, there is a slight complication arising from the fact
 is not
[cf. [NodNon], Lemma 1.9, (i)] that an element v ∈ Vert(G)
necessarily uniquely determined by the condition that H ⊆ Πv, i.e.,
 such that
e) for some e ∈ Node(G)
there may exist distinct v1 , v2 ∈ V(
H ⊆ Πe = Πv1 ∩ Πv2 . On the other hand, this phenomenon is, in fact,
irrelevant to the argument in question, since ΠG does not contain any
elements that ﬁx, but permute the branches of, e. This completes the
proof of the implication (iv) ⇒ (iii).
Finally, we verify the implication (iii) ⇒ (i). Suppose that condition
(iii) holds. Now if every element of H is edge-like, then the implication
(iii) ⇒ (i) follows from the implication (iii) ⇒ (i) of Proposition 1.4,
together with the fact that every edge-like subgroup is contained in a
verticial subgroup. Thus, to verify the implication (iii) ⇒ (i), we may
assume without loss of generality that there exists an element γ1 ∈ H
 for the unique element
of H that is not edge-like. Write v1 ∈ Vert(G)
 such that γ1 ∈ Πv1 [cf. Remark 1.1.1].
of Vert(G)
Now we claim the following assertion:
Claim 1.5.A: H ⊆ Πv1 .
Indeed, let γ2 ∈ H be a nontrivial element of H. If γ2 = γ1 , then
γ2 ∈ Πv1 . Thus, we may assume without loss of generality that γ1 = γ2 .
def
Write γ = γ1 γ2−1 .
 for the
Next, suppose that γ2 is not edge-like. Write v2 ∈ Vert(G)
 such that γ2 ∈ Πv2 [cf. Remark 1.1.1]. Let
unique element of Vert(G)
H → G be a connected ﬁnite étale subcovering of G → G. Then since
neither γ1 nor γ2 is edge-like, one veriﬁes easily — by applying the
implication (iv) ⇒ (i) of Proposition 1.4 to the closed subgroups of
ΠG topologically generated by γ1 , γ2 , respectively — that there exist
a connected ﬁnite étale subcovering H → H of G → H and a positive
integer n such that γ1n , γ2n ∈ ΠH ⊆ ΠH , and, moreover, the images
ab/edge
[cf. the
of γ1n , γ2n ∈ ΠH via the natural surjection ΠH  ΠH
notation of Proposition 1.4, (iv)] are nontrivial. Thus, it follows from

24

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

the existence of the natural split injection
ab/edge

Πvab/edge −→ ΠH
v∈Vert(H )

of [NodNon], Lemma 1.4, together with the fact that γ1n γ2n ∈ ΠH is
verticial [cf. condition (iii)], that v1 (H ) = v2 (H ), hence that v1 (H) =
v2 (H). Therefore, by allowing the subcovering H → G of G → G to
vary, we conclude that v1 = v2 ; in particular, it holds that γ2 ∈ Πv1 .
Next, suppose that γ2 is edge-like, but that γ is not edge-like. Then,
by applying the argument of the preceding paragraph concerning γ2 to
γ, we conclude that γ, hence also γ2 , is contained in Πv1 .
Next, suppose that both γ2 and γ are edge-like. Write e2 , e ∈
 for the unique elements of Edge(G)
 such that γ2 ∈ Πe2 , γ ∈ Πe
Edge(G)
[cf. Remark 1.1.1]. Then since γ1 is not edge-like, it follows immediately that e2 = e. Moreover, it follows from condition (iii) that for
any positive integer n, the element γ2n γ n is verticial. Thus, it follows

immediately from Lemma 1.3 that there exists a unique v ∈ Vert(G)
such that {
e2 , e} ⊆ E(
v ), γ1 = γγ2 ∈ Πv. On the other hand, since
 is uniquely determined by the condition that γ1 ∈ Πv1 , we
v1 ∈ Vert(G)
thus conclude that v1 = v, hence that γ2 ∈ Πe2 ⊆ Πv1 , as desired. This
completes the proof of Claim 1.5.A and hence also of the implication
(iii) ⇒ (i).


Theorem 1.6 (Section conjecture-type result for outer representations of SNN-, IPSC-type). Let Σ be a nonempty set of
prime numbers, G a semi-graph of anabelioids of pro-Σ PSC-type, and
I → Aut(G) an outer representation of SNN-type [cf. [NodNon],
Deﬁnition 2.4, (iii)]. Write ΠG for the [pro-Σ] fundamental group of G
def

out

and ΠI = ΠG  I [cf. the discussion entitled “Topological groups” in
[CbTpI], §0]; thus, we have a natural exact sequence of proﬁnite groups
1 −→ ΠG −→ ΠI −→ I −→ 1 .
Write Sect(ΠI /I) for the set of sections of the natural surjection ΠI 
I. Then the following hold:
 the composite Iv → ΠI  I [cf. [NodNon],
(i) For any v ∈ Vert(G),
Deﬁnition 2.2, (i)] is an isomorphism. In particular, Iv ⊆ ΠI
determines an element sv ∈ Sect(ΠI /I); thus, we have a map
 −→ Sect(ΠI /I)
Vert(G)
v
→
sv .
Finally, the following equalities concerning centralizers of subgroups of ΠI in ΠG [cf. the discussion entitled “Topological

COMBINATORIAL ANABELIAN TOPICS II

25

groups” in “Notations and Conventions”] hold: ZΠG (sv(I)) =
ZΠG (Iv) = Πv.
(ii) The map of (i) is injective.
(iii) If, moreover, I → Aut(G) is of IPSC-type [cf. [NodNon],
Deﬁnition 2.4, (i)], then, for any s ∈ Sect(ΠI /I), the centralizer ZΠG (s(I)) is contained in a verticial subgroup.
(iv) Let s ∈ Sect(ΠI /I). Consider the following two conditions:
(1) The section s is contained in the image of the map of (i),

i.e., s = sv for some v ∈ Vert(G).
(2) ZΠG (ZΠG (s(I))) = {1}.
Then we have an implication
(1) =⇒ (2) .
If, moreover, I → Aut(G) is of IPSC-type, then we have an
equivalence
(1) ⇐⇒ (2) .
Proof. First, we verify assertion (i). The fact that the composite Iv →
ΠI  I is an isomorphism follows from condition (2 ) of [NodNon],
Deﬁnition 2.4, (ii). On the other hand, the equalities ZΠG (sv(I)) =
ZΠG (Iv) = Πv follow from [NodNon], Lemma 3.6, (i). This completes
the proof of assertion (i). Assertion (ii) follows immediately from the
ﬁnal equalities of assertion (i), together with [NodNon], Lemma 1.9,
def
(ii). Next, we verify assertion (iii). Write H = ZΠG (s(I)). Then
it follows immediately from [CmbGC], Proposition 2.6, together with
the deﬁnition of H = ZΠG (s(I)), that for any connected ﬁnite étale
subcovering G  → G of G → G, the image of the composite
H ∩ ΠG  → ΠG   Πab-comb
G
[cf. the notation of Proposition 1.5, (iv)] is trivial. Thus, it follows
from the implication (iv) ⇒ (i) of Proposition 1.5 that H is contained
in a verticial subgroup. This completes the proof of assertion (iii).
Finally, we verify assertion (iv). To verify the implication (1) ⇒ (2),
suppose that condition (1) holds. Then since ZΠG (sv(I)) = ZΠG (Iv) =
Πv [cf. assertion (i)] is commensurably terminal in ΠG [cf. [CmbGC],
Proposition 1.2, (ii)] and center-free [cf. [CmbGC], Remark 1.1.3], we
conclude that ZΠG (ZΠG (sv(I))) = ZΠG (Πv) = {1}. This completes the
proof of the implication (1) ⇒ (2). Next, suppose that I → Aut(G) is of
IPSC-type, and that condition (2) holds. Then it follows from assertion
 such that H def
= ZΠG (s(I)) ⊆
(iii) that there exists a v ∈ Vert(G)
Πv, so Iv ⊆ ZΠI (H). On the other hand, since s(I) ⊆ ZΠI (H), and
ZΠG (H) = ZΠG (ZΠG (s(I))) = {1} [cf. condition (2)], i.e., the composite
of natural homomorphisms ZΠI (H) → ΠI  I is injective, it follows

26

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

that s(I) = ZΠI (H) ⊇ Iv. Since Iv and s(I) may be obtained as the
images of sections, we thus conclude that Iv = s(I), i.e., s = sv. This
completes the proof of the implication (2) ⇒ (1), hence also of assertion
(iv).

Remark 1.6.1. Recall that in the case of outer representations of NNtype, the period matrix is not necessarily nondegenerate [cf. [CbTpI],
Remark 5.9.2]. In particular, the argument applied in the proof of Theorem 1.6, (iii) — which depends, in an essential way, on the fact that,
in the case of outer representations of IPSC-type, the period matrix is
nondegenerate [cf. the proof of [CmbGC], Proposition 2.6] — cannot be
applied in the case of outer representations of NN-type. Nevertheless,
the question of whether or not Theorem 1.6, (iii), as well as the application of Theorem 1.6, (iii), given in Corollary 1.7, (ii), below, may be
generalized to the case of outer representations of NN-type remains a
topic of interest to the authors.

Corollary 1.7 (Group-theoretic characterization of verticial
subgroups for outer representations of IPSC-type). In the notation of Theorem 1.6, let us refer to a closed subgroup of ΠG as a
section-centralizer if it may be written in the form ZΠG (s(I)) for
some s ∈ Sect(ΠI /I). Let H ⊆ ΠG be a closed subgroup of ΠG . Then
the following hold:
(i) Suppose that H is a section-centralizer such that ZΠG (H) =
{1}. Then the following conditions on a section s ∈ Sect(ΠI /I)
are equivalent:
(i-1) H = ZΠG (s(I)).
(i-2) s(I) ⊆ ZΠI (H).
(i-3) s(I) = ZΠI (H).
(ii) Consider the following three conditions:
(ii-1) H is a verticial subgroup.
(ii-2) H is a section-centralizer such that ZΠG (H) = {1}.
(ii-3) H is a maximal section-centralizer.
Then we have implications
(ii-1) =⇒ (ii-2) =⇒ (ii-3) .
If, moreover, I → Aut(G) is of IPSC-type [cf. [NodNon],
Deﬁnition 2.4, (i)], then we have equivalences
(ii-1) ⇐⇒ (ii-2) ⇐⇒ (ii-3) .

COMBINATORIAL ANABELIAN TOPICS II

27

Proof. First, we verify assertion (i). The implication (i-1) ⇒ (i-2)
is immediate. To verify the implication (i-2) ⇒ (i-3), suppose that
condition (i-2) holds. Then since ZΠI (H) ∩ ΠG = ZΠG (H) = {1}, the
composite ZΠI (H) → ΠI  I is injective. Thus, since the composite
s(I) → ZΠI (H) → ΠI  I is an isomorphism, it follows immediately
that condition (i-3) holds. This completes the proof of the implication
(i-2) ⇒ (i-3). Finally, to verify the implication (i-3) ⇒ (i-1), suppose
that condition (i-3) holds. Then since H is a section-centralizer, there
exists a t ∈ Sect(ΠI /I) such that H = ZΠG (t(I)). In particular, t(I) ⊆
ZΠI (H) = s(I) [cf. condition (i-3)]. We thus conclude that t = s, i.e.,
that condition (i-1) holds. This completes the proof of assertion (i).
Next, we verify assertion (ii). The implication (ii-1) ⇒ (ii-2) follows immediately from Theorem 1.6, (i), (iv). To verify the implication (ii-2) ⇒ (ii-3), suppose that H satisﬁes condition (ii-2); let
s ∈ Sect(ΠI /I) be such that H ⊆ ZΠG (s(I)). Then it follows immediately that s(I) ⊆ ZΠI (H). Thus, it follows immediately from the
equivalence (i-1) ⇔ (i-2) of assertion (i) that H = ZΠG (s(I)). This
completes the proof of the implication (ii-2) ⇒ (ii-3). Finally, observe
that the implication (ii-3) ⇒ (ii-1) in the case where I → Aut(G) is of
IPSC-type follows immediately from Theorem 1.6, (iii), together with
the fact that every verticial subgroup is a section-centralizer [cf. the
implication (ii-1) ⇒ (ii-2) veriﬁed above]. This completes the proof of
Corollary 1.7.


Lemma 1.8 (Group-theoretic characterization of verticial subgroups for outer representations of SNN-type). Let H ⊆ ΠG be
a closed subgroup of ΠG and I → Aut(G) an outer representation of
def

out

SNN-type [cf. [NodNon], Deﬁnition 2.4, (iii)]. Write ΠI = ΠG  I
[cf. the discussion entitled “Topological groups” in [CbTpI], §0]; thus,
we have a natural exact sequence of proﬁnite groups
1 −→ ΠG −→ ΠI −→ I −→ 1 .
Suppose that G is untangled [cf. [NodNon], Deﬁnition 1.2]. Then H
is a verticial subgroup if and only if H satisﬁes the following four
conditions:
def

(i) The composite IH = ZΠI (H) → ΠI  I is an isomorphism.
(ii) It holds that H = ZΠG (IH ).
(iii) For any γ ∈ ΠG , it holds that γ ∈ H if and only if H ∩ (γ · H ·
γ −1 ) = {1}.
(iv) H contains a nontrivial verticial element of ΠG [cf. Deﬁnition 1.1].

28

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Proof. If H is a verticial subgroup, then it is immediate that condition
(iv) is satisﬁed; moreover, it follows from condition (2 ) of [NodNon],
Deﬁnition 2.4, (ii) (respectively, [NodNon], Lemma 3.6, (i); [NodNon],
Remark 1.10.1), that H satisﬁes condition (i) (respectively, (ii); (iii)).
This completes the proof of necessity.
To verify suﬃciency, suppose that H satisﬁes conditions (i), (ii), (iii),

and (iv). It follows from condition (iv) that there exists a v ∈ Vert(G)
def
such that J = H ∩ Πv = {1}. If either J = Πv or J = H, i.e., either
Πv ⊆ H or H ⊆ Πv, then it is immediate that either IH ⊆ Iv or Iv ⊆ IH
[cf. [NodNon], Deﬁnition 2.2, (i)]. Thus, it follows from condition (i)
[for H and Πv] that IH = Iv. But then it follows from condition (ii)
[for H and Πv] that H = ZΠG (IH ) = ZΠG (Iv) = Πv; in particular, H is
a verticial subgroup.
Thus, we may assume without loss of generality that J = H, Πv.
def
Let γ ∈ H \ J. Write J γ = γ · J · γ −1 . Then we have inclusions
Πv ⊇ J ⊆ H ⊇ J γ ⊆ Πvγ (= γ · Πv · γ −1 ) .
Now we claim the following assertion:
Claim 1.8.A: NΠG (J) = J, NΠG (J γ ) = J γ .
Indeed, let σ ∈ NΠG (J). Then since {1} = J = J ∩ (σ · J · σ −1 ) ⊆
Πv ∩ Πvσ , it follows from condition (iii) [for Πv] that σ ∈ Πv. Similarly,
since {1} = J = J ∩ (σ · J · σ −1 ) ⊆ H ∩ (σ · H · σ −1 ), it follows
from condition (iii) [for H] that σ ∈ H. Thus, σ ∈ Πv ∩ H = J. In
particular, we obtain that NΠG (J) = J. A similar argument implies
that NΠG (J γ ) = J γ . This completes the proof of Claim 1.8.A.
Now the composites NΠI (J), NΠI (J γ ) → ΠI  I ﬁt into exact
sequences of proﬁnite groups
1 −→ NΠG (J) −→ NΠI (J) −→ I ,
1 −→ NΠG (J γ ) −→ NΠI (J γ ) −→ I .
Thus, since we have inclusions
IH = ZΠI (H) ⊆ ZΠI (J) ⊆ NΠI (J) ,
IH = ZΠI (H) ⊆ ZΠI (J γ ) ⊆ NΠI (J γ ) ,
Iv = ZΠI (Πv) ⊆ ZΠI (J) ⊆ NΠI (J) ,
Ivγ = ZΠI (Πvγ ) ⊆ ZΠI (J γ ) ⊆ NΠI (J γ ) ,
it follows immediately from Claim 1.8.A, together with condition (i)
[for H and Πv], that
NΠI (J) = J · IH = J · Iv , NΠI (J γ ) = J γ · IH = J γ · Ivγ .
In particular, we obtain that
IH ⊆ NΠI (J) = J · Iv ⊆ Πv · Dv = Dv ,
IH ⊆ NΠI (J γ ) = J γ · Ivγ ⊆ Πvγ · Dvγ = Dvγ

COMBINATORIAL ANABELIAN TOPICS II

29

[cf. [NodNon], Deﬁnition 2.2, (i)], i.e., IH ⊆ Dv ∩ Dvγ . On the other
hand, since H  γ ∈ J = H ∩ Πv, it follows from condition (iii) [for
Πv] that Πvγ ∩ Πv = {1}; thus, it follows immediately from the fact
that Dv ∩ Dvγ ∩ ΠG = Πv ∩ Πvγ = {1} [cf. [CmbGC], Proposition 1.2,
(ii)], together with condition (i), that IH = Dv ∩ Dvγ , which implies,

by [NodNon], Proposition 3.9, (iii), that there exists a w
 ∈ Vert(G)
such that IH = Iw . In particular, it follows from condition (ii) [for H
and Πw ] that H = ZΠG (IH ) = ZΠG (Iw ) = Πw . Thus, H is a verticial
subgroup. This completes the proof of Lemma 1.8.


Theorem 1.9 (Group-theoretic verticiality/nodality of isomorphisms of outer representations of NN-, IPSC-type). Let Σ be
a nonempty set of prime numbers, G (respectively, H) a semi-graph
of anabelioids of pro-Σ PSC-type, ΠG (respectively, ΠH ) the [pro-Σ]
∼
fundamental group of G (respectively, H), α : ΠG → ΠH an isomorphism of proﬁnite groups, I (respectively, J) a proﬁnite group, ρI : I →
Aut(G) (respectively, ρJ : J → Aut(H)) a continuous homomorphism,
∼
and β : I → J an isomorphism of proﬁnite groups. Suppose that the
diagram
I −−−→ Out(ΠG )
⏐
⏐
⏐
⏐Out(α)
β

J −−−→ Out(ΠH )
— where the right-hand vertical arrow is the isomorphism induced by
α; the upper and lower horizontal arrows are the homomorphisms determined by ρI and ρJ , respectively — commutes. Then the following
hold:
(i) Suppose, moreover, that ρI , ρJ are of NN-type [cf. [NodNon],
Deﬁnition 2.4, (iii)]. Then the following three conditions are
equivalent:
(1) The isomorphism α is group-theoretically verticial [i.e.,
roughly speaking, preserves verticial subgroups — cf. [CmbGC],
Deﬁnition 1.4, (iv)].
(2) The isomorphism α is group-theoretically nodal [i.e.,
roughly speaking, preserves nodal subgroups — cf. [NodNon],
Deﬁnition 1.12].
(3) There exists a nontrivial verticial element γ ∈ ΠG such
that α(γ) ∈ ΠH is verticial [cf. Deﬁnition 1.1].
(ii) Suppose, moreover, that ρI is of NN-type, and that ρJ is of
IPSC-type [cf. [NodNon], Deﬁnition 2.4, (i)]. [For example,
this will be the case if both ρI and ρJ are of IPSC-type — cf.

30

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

[NodNon], Remark 2.4.2.] Then α is group-theoretically
verticial, hence also [cf. (i)] group-theoretically nodal.
Proof. First, we verify assertion (i). The implication (1) ⇒ (2) follows from [NodNon], Proposition 1.13. The implication (2) ⇒ (3)
follows from the fact that any nodal subgroup is contained in a verticial subgroup. [Note that if Node(H) = ∅, then every element of ΠH
is verticial.] Finally, we verify the implication (3) ⇒ (1). Suppose
that condition (3) holds. Since verticial subgroups are commensurably
terminal [cf. [CmbGC], Proposition 1.2, (ii)], to verify the implication (3) ⇒ (1), by replacing ΠI , ΠJ by open subgroups of ΠI , ΠJ , we
may assume without loss of generality that ρI , ρJ are of SNN-type [cf.
[NodNon], Deﬁnition 2.4, (iii)], and, moreover, that G and H are untangled [cf. [NodNon], Deﬁnition 1.2; [NodNon], Remark 1.2.1, (i), (ii)].
 be such that γ ∈ Πv. Then it is immediate that α(Πv)
Let v ∈ Vert(G)
satisﬁes conditions (i), (ii), and (iii) in the statement of Lemma 1.8.
On the other hand, it follows from condition (3) that α(Πv) satisﬁes
condition (iv) in the statement of Lemma 1.8. Thus, it follows from
Lemma 1.8 that α(Πv) ⊆ ΠH is a verticial subgroup. Now it follows
from [NodNon], Theorem 4.1, that α is group-theoretically verticial.
This completes the proof of the implication (3) ⇒ (1).
Finally, we verify assertion (ii). It is immediate that, to verify assertion (ii) — by replacing I, J by open subgroups of I, J — we may
assume without loss of generality that ρI is of SNN-type. Let H ⊆ ΠG
be a verticial subgroup of ΠG . Then it follows from Corollary 1.7,
(ii), that H, hence also α(H), is a maximal section-centralizer [cf. the
statement of Corollary 1.7]. Thus, since ρJ is of IPSC-type, again by
Corollary 1.7, (ii), we conclude that α(H) ⊆ ΠH is a verticial subgroup
of ΠH . In particular, it follows from [NodNon], Theorem 4.1, together
with [NodNon], Remark 2.4.2, that α is group-theoretically verticial
and group-theoretically nodal. This completes the proof of assertion
(ii).

Remark 1.9.1. Thus, Theorem 1.9, (i), may be regarded as a generalization of [NodNon], Corollary 4.2. Of course, ideally, one would
like to be able to prove that conditions (1) and (2) of Theorem 1.9,
(i), hold automatically [i.e., as in the case of outer representations of
IPSC-type treated in Theorem 1.9, (ii)], without assuming condition
(3). Although this topic lies beyond the scope of the present monograph, perhaps progress could be made in this direction if, say, in the
case where Σ is either equal to the set of all prime numbers or of cardinality one, one starts with an isomorphism α that arises from a PFadmissible [cf. [CbTpI], Deﬁnition 1.4, (i)] isomorphism between conﬁguration space groups corresponding to m-dimensional conﬁguration
spaces [where m ≥ 2] associated to stable curves that give rise to G and

COMBINATORIAL ANABELIAN TOPICS II

31

H, respectively [i.e., one assumes the condition of “m-cuspidalizability”
discussed in Deﬁnition 3.20, below, where we replace the condition of
“PFC-admissibility” by the condition of “PF-admissibility”]. For instance, if Cusp(G) = ∅, then it follows from [CbTpI], Theorem 1.8,
(iv); [NodNon], Corollary 4.2, that this condition on α is suﬃcient to
imply that conditions (1) and (2) of Theorem 1.9, (i), hold.

32

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

2. Partial combinatorial cuspidalization for F-admissible
outomorphisms
In the present §2, we apply the results obtained in the preceding §1,
together with the theory developed by the authors in earlier papers, to
prove combinatorial cuspidalization-type results for F-admissible outomorphisms [cf. Theorem 2.3, (i), below]. We also show that any Fadmissible outomorphism of a conﬁguration space group [arising from a
conﬁguration space] of suﬃciently high dimension [i.e., ≥ 3 in the aﬃne
case; ≥ 4 in the proper case] is necessarily C-admissible, i.e., preserves
the cuspidal inertia subgroups of the various subquotients corresponding to surface groups [cf. Theorem 2.3, (ii), below]. Finally, we discuss
applications of these combinatorial anabelian results to the anabelian
geometry of conﬁguration spaces associated to hyperbolic curves over
arithmetic ﬁelds [cf. Corollaries 2.5, 2.6, below].
In the present §2, let Σ be a set of prime numbers which is either
equal to the set of all prime numbers or of cardinality one; n a positive
integer; k an algebraically closed ﬁeld of characteristic ∈ Σ; X a hyperbolic curve of type (g, r) over k. For each positive integer i, write Xi for
the i-th conﬁguration space of X; Πi for the maximal pro-Σ quotient
of the fundamental group of Xi .
Deﬁnition 2.1. Let α ∈ Aut(Πn ) be an automorphism of Πn .
(i) Write
{1} = Kn ⊆ Kn−1 ⊆ · · · ⊆ K2 ⊆ K1 ⊆ K0 = Πn
for the standard ﬁber ﬁltration on Πn [cf. [CmbCsp], Deﬁnition 1.1, (i)]. For each m ∈ {1, 2, · · · , n}, write Cm for the
[ﬁnite] set of Km−1 /Km -conjugacy classes of cuspidal inertia
subgroups of Km−1 /Km [where we recall that Km−1 /Km is
equipped with a natural structure of pro-Σ surface group —
cf. [MzTa], Deﬁnition 1.2]. Then we shall say that α is wCadmissible [i.e., “weakly C-admissible”] if α preserves the standard ﬁber ﬁltration on Πn and, moreover, satisﬁes the following
conditions:
• If m ∈ {1, 2, · · · n−1}, then the automorphism of Km−1 /Km
determined by α induces an automorphism of Cm .
• It follows immediately from the various deﬁnitions involved that we have a natural injection Cn−1 → Cn . That
is to say, if one thinks of Kn−2 as the two-dimensional
conﬁguration space group associated to some hyperbolic
curve, then the image of Cn−1 → Cn corresponds to the
set of cusps of a ﬁber [of the two-dimensional conﬁguration space over the hyperbolic curve] that arise from the

COMBINATORIAL ANABELIAN TOPICS II

33

cusps of the hyperbolic curve. Then the automorphism of
Kn−1 determined by α induces an automorphism of the
image of the natural injection Cn−1 → Cn .
Write
AutwC (Πn ) ⊆ Aut(Πn )
for the subgroup of wC-admissible automorphisms and
def

OutwC (Πn ) = AutwC (Πn )/Inn(Πn ) ⊆ Out(Πn ) .
We shall refer to an element of OutwC (Πn ) as a wC-admissible
outomorphism.
(ii) We shall say that α is FwC-admissible if α is F-admissible
[cf. [CmbCsp], Deﬁnition 1.1, (ii)] and wC-admissible [cf. (i)].
Write
AutFwC (Πn ) ⊆ AutF (Πn )
for the subgroup of FwC-admissible automorphisms and
def

OutFwC (Πn ) = AutFwC (Πn )/Inn(Πn ) ⊆ OutF (Πn ) .
We shall refer to an element of OutFwC (Πn ) as an FwC-admissible
outomorphism.
(iii) We shall say that α is DF-admissible [i.e., “diagonal-ﬁberadmissible”] if α is F-admissible, and, moreover, α induces
the same automorphism of Π1 relative to the various quotients
Πn  Π1 by ﬁber subgroups of co-length 1 [cf. [MzTa], Deﬁnition 2.3, (iii)]. Write
AutDF (Πn ) ⊆ AutF (Πn )
for the subgroup of DF-admissible automorphisms.

Remark 2.1.1. Thus, it follows immediately from the deﬁnitions that
C-admissible

=⇒

wC-admissible.

In particular, we have inclusions
AutFC (Πn ) ⊂ AutFwC (Πn )
∩
AutC (Πn )

⊂

OutFC (Πn ) ⊂ OutFwC (Πn )

∩

∩

AutwC (Πn )

OutC (Πn )

[cf. Deﬁnition 2.1, (i), (ii)].

∩
⊂

OutwC (Πn )

34

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Lemma 2.2 (F-admissible automorphisms and inertia subgroups).
Let α ∈ AutF (Πn ) be an F-admissible automorphism of Πn . Then the
following hold:
(i) There exist β ∈ AutDF (Πn ) [cf. Deﬁnition 2.1, (iii)] and ι ∈
Inn(Πn ) such that α = β ◦ ι.
(ii) For each positive integer i, write Zilog for the i-th log conﬁguration space of X [cf. the discussion entitled “Curves” in
“Notations and Conventions”]; UZi ⊆ Zi for the interior of
Zilog [cf. the discussion entitled “Log schemes” in [CbTpI],
§0], which may be identiﬁed with Xi . Let be an irreducible
component of the complement Zn−1 \ UZn−1 [cf. [CmbCsp],
Proposition 1.3]; I ⊆ Πn−1 an inertia subgroup of Πn−1 associated to the divisor of Zn−1 ; pr : UZn → UZn−1 the projection
obtained by forgetting the factor labeled n; prΠ : Πn  Πn−1
def
the surjection induced by pr; Πn/n−1 = Ker(prΠ ); θ an irreducible component of the ﬁber of the [uniquely determined]
extension Zn → Zn−1 of pr over the generic point of [so
θ naturally determines an irreducible component of the complement Zn \ UZn ]; DIθ ⊆ Πn ×Πn−1 I (⊆ Πn ) — where the
homomorphism Πn → Πn−1 implicit in the ﬁber product is the
surjection prΠ : Πn  Πn−1 — a decomposition subgroup of
Πn ×Πn−1 I (⊆ Πn ) associated to the divisor [naturally deterdef

mined by] θ of Zn ; Πθ = DIθ ∩ Πn/n−1 [cf. [CmbCsp], Proposition 1.3, (iv)]. Suppose that the automorphism of Πn−1 induced
by α ∈ AutF (Πn ) relative to prΠ stabilizes I ⊆ Πn−1 . Then α
preserves the Πn/n−1 -conjugacy class of Πθ .
Proof. Assertion (i) follows immediately from [CbTpI], Theorem A, (i).
Assertion (ii) follows immediately from Theorem 1.9, (ii) [cf. also the
proof of [CmbCsp], Proposition 1.3, (iv)].

Theorem 2.3 (Partial combinatorial cuspidalization for F-admissible outomorphisms). Let Σ be a set of prime numbers which
is either equal to the set of all prime numbers or of cardinality one; n
a positive integer; X a hyperbolic curve of type (g, r) over an algebraically closed ﬁeld of characteristic ∈ Σ; Xn the n-th conﬁguration
space of X; Πn the maximal pro-Σ quotient of the fundamental group
of Xn ;
OutF (Πn ) ⊆ Out(Πn )
the subgroup of F-admissible outomorphisms [i.e., roughly speaking,
outomorphisms that preserve the ﬁber subgroups — cf. [CmbCsp], Definition 1.1, (ii)] of Πn ;
OutFC (Πn ) ⊆ OutF (Πn )

COMBINATORIAL ANABELIAN TOPICS II

35

the subgroup of FC-admissible outomorphisms [i.e., roughly speaking, outomorphisms that preserve the ﬁber subgroups and the cuspidal
inertia subgroups — cf. [CmbCsp], Deﬁnition 1.1, (ii)] of Πn ;
(OutFC (Πn ) ⊆) OutFwC (Πn ) ⊆ OutF (Πn )
the subgroup of FwC-admissible outomorphisms [cf. Deﬁnition 2.1,
(ii); Remark 2.1.1] of Πn . Then the following hold:
(i) Write


def

ninj =

1
2

if r = 0,
if r = 0 ,


def

nbij =

3
4

if r = 0,
if r = 0 .

If n ≥ ninj (respectively, n ≥ nbij ), then the natural homomorphism
OutF (Πn+1 ) −→ OutF (Πn )
induced by the projections Xn+1 → Xn obtained by forgetting
any one of the n + 1 factors of Xn+1 [cf. [CbTpI], Theorem A,
(i)] is injective (respectively, bijective).
(ii) Write

⎧
⎨ 2
def
3
nFC =
⎩
4

if (g, r) = (0, 3),
if (g, r) = (0, 3) and r = 0,
if r = 0 .

If n ≥ nFC , then it holds that
OutFC (Πn ) = OutF (Πn ) .
(iii) Write

⎧
⎨ 2
def
3
nFwC =
⎩
4

if r ≥ 2,
if r = 1,
if r = 0 .

If n ≥ nFwC , then it holds that
OutFwC (Πn ) = OutF (Πn ) .
(iv) Consider the natural inclusion
Sn → Out(Πn )
— where we write Sn for the symmetric group on n letters —
obtained by permuting the various factors of Xn . If (r, n) =
(0, 2), then the image of this inclusion is contained in the centralizer ZOut(Πn ) (OutF (Πn )).
Proof. First, we verify assertion (iii) in the case where n = 2, which
implies that r ≥ 2 [cf. the statement of assertion (iii)]. To verify

36

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

assertion (iii) in the case where n = 2, it is immediate that it suﬃces
to verify that
AutFwC (Π2 ) = AutF (Π2 ) .
Let α ∈ AutF (Π2 ). Let us assign the cusps of X the labels a1 , · · · , ar .
Now, for each i ∈ {1, · · · , r}, recall that there is a uniquely determined
cusp of the geometric generic ﬁber X2/1 of the projection X2 → X to
the factor labeled 1 that corresponds naturally to the cusp of X labeled
ai ; we assign to this uniquely determined cusp the label bi . Thus,
there is precisely one cusp of X2/1 that has not been assigned a label
∈ {b1 , · · · , br }; we assign to this uniquely determined cusp the label
br+1 . Then since the automorphism of Π1 induced by α relative to either
p1 or p2 — where we write p1 , p2 for the surjections Π2  Π1 induced
by the projections X2 → X to the factors labeled 1, 2, respectively
— is FC-admissible [cf. [CbTpI], Theorem A, (ii)], it follows from the
various deﬁnitions involved that, to verify that α ∈ AutFwC (Π2 ), it
suﬃces to verify the following assertion:
def

Claim 2.3.A: For any b ∈ {b1 , · · · , br }, if Ib ⊆ Π2/1 =
Ker(p1 ) ⊆ Π2 is a cuspidal inertia subgroup associated
to the cusp labeled b, then α(Ib ) is a cuspidal inertia
subgroup.
Now observe that to verify Claim 2.3.A, by replacing α by the composite of α with a suitable element of AutFC (Π2 ) [cf. [CmbCsp], Lemma
2.4], we may assume without loss of generality that the [necessarily FCadmissible] automorphism of Π1 induced by α relative to p1 , hence also
relative to p2 [cf. [CbTpI], Theorem A, (i)], induces the identity automorphism on the set of conjugacy classes of cuspidal inertia subgroups
of Π1 .
To verify Claim 2.3.A, let us ﬁx b ∈ {b1 , · · · , br }, together with a
cuspidal inertia subgroup Ib ⊆ Π2/1 associated to the cusp labeled b of
Π2/1 . Also, let us ﬁx
• a ∈ {a1 , · · · , ar } such that if b = bi and a = aj , then i = j [cf.
the assumption that r ≥ 2!];
• a cuspidal inertia subgroup Ia ⊆ Π1 associated to the cusp
labeled a of Π1 .
Now observe that since the [necessarily FC-admissible] automorphism
of Π1 induced by α relative to p1 induces the identity automorphism
on the set of conjugacy classes of cuspidal inertia subgroups of Π1 , to
verify the fact that α(Ib ) is a cuspidal inertia subgroup, we may assume
without loss of generality [by replacing α by a suitable Π2 -conjugate of
α] that the automorphism of Π1 induced by α relative to p1 ﬁxes Ia . Let
ΠFa ⊆ Π2/1 be a major verticial subgroup at a [cf. [CmbCsp], Deﬁnition
1.4, (ii)] such that Ib ⊆ ΠFa . Then it follows from Lemma 2.2, (ii),

COMBINATORIAL ANABELIAN TOPICS II

37

that α ﬁxes the Π2/1 -conjugacy class of ΠFa , i.e., that Π†Fa = α(ΠFa )
is a Π2/1 -conjugate of ΠFa . Thus, one veriﬁes easily that, to verify
that α(Ib ) is a cuspidal inertia subgroup, it suﬃces to verify that the
∼
isomorphism ΠFa → Π†Fa induced by α is group-theoretically cuspidal
— cf. [CmbGC], Deﬁnition 1.4, (iv). [Note that it follows immediately
from the various deﬁnitions involved that ΠFa and Π†Fa may be regarded
as pro-Σ fundamental groups of semi-graphs of anabelioids of pro-Σ
PSC-type.] On the other hand, it follows immediately from the various
deﬁnitions involved that this isomorphism factors as the composite
def

∼

∼

∼

ΠFa −→ Π1 −→ Π1 ←− Π†Fa
— where the ﬁrst and third arrows are the isomorphisms induced by
p2 : Π2  Π1 [cf. [CmbCsp], Deﬁnition 1.4, (ii)], and the second arrow is the automorphism induced by α relative to p2 — and that the
three arrows appearing in this composite are group-theoretically cuspidal. Thus, we conclude that α(Ib ) is a cuspidal inertia subgroup. This
completes the proof of Claim 2.3.A, hence also of assertion (iii) in the
case where n = 2.
Next, we verify assertion (ii) in the case where (g, r, n) = (0, 3, 2).
In the following, we shall use the notation “ai ” [for i = 1, 2, 3] and
“bj ” [for j = 1, 2, 3, 4] introduced in the proof of assertion (iii) in
the case where n = 2. Now, to verify assertion (ii) in the case where
(g, r, n) = (0, 3, 2), it is immediate that it suﬃces to verify that
AutFC (Π2 ) = AutF (Π2 ) .
Let α ∈ AutF (Π2 ). Then let us observe that to verify that α ∈
AutFC (Π2 ), by replacing α by the composite of α with a suitable element of AutFC (Π2 ) [cf. [CmbCsp], Lemma 2.4], we may assume without
loss of generality that the [necessarily FC-admissible — cf. [CbTpI],
Theorem A, (ii)] automorphism of Π1 induced by α relative to p1 , hence
also relative to p2 [cf. [CbTpI], Theorem A, (i)] — where we write p1 ,
p2 for the surjections Π2  Π1 induced by the projections X2 → X to
the factors labeled 1, 2, respectively — induces the identity automorphism on the set of conjugacy classes of cuspidal inertia subgroups of
Π1 . Now it follows from assertion (iii) in the case where n = 2 that α
is FwC-admissible; thus, to verify the fact that α is FC-admissible, it
suﬃces to verify the following assertion:
def

Claim 2.3.B: If Ib4 ⊆ Π2/1 = Ker(p1 ) ⊆ Π2 is a cuspidal inertia subgroup associated to the cusp labeled b4 ,
then α(Ib4 ) is a cuspidal inertia subgroup.
On the other hand, as is well-known [cf. e.g., [CbTpI], Lemma 6.10,
(ii)], there exists an automorphism of X2 over X relative to the projection to the factor labeled 1 which switches the cusps on the geometric

38

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

generic ﬁber X2/1 labeled b1 and b4 . In particular, there exists an automorphism ι of Π2 over Π1 relative to p1 which switches the respective
Π2/1 -conjugacy classes of cuspidal inertia subgroups associated to b1
and b4 . Write β = ι−1 ◦ α ◦ ι.
Now let us verify that Claim 2.3.B follows from the following assertion:
Claim 2.3.C: β ∈ AutF (Π2 ).
Indeed, if Claim 2.3.C holds, then it follows from assertion (iii) in the
case where n = 2 that, for any cuspidal inertia subgroup Ib1 ⊆ Π2/1
associated to the cusp labeled b1 , β(Ib1 ) is a cuspidal inertia subgroup.
Thus, it follows immediately from our choice of ι that, for any cuspidal
inertia subgroup Ib4 ⊆ Π2/1 associated to the cusp labeled b4 , α(Ib4 ) is
a cuspidal inertia subgroup. This completes the proof of the assertion
that Claim 2.3.C implies Claim 2.3.B.
Finally, we verify Claim 2.3.C. Since α and ι, hence also β, preserve
Π2/1 ⊆ Π2 , it follows immediately from [CmbCsp], Proposition 1.2, (i),
that, to verify Claim 2.3.C, it suﬃces to verify that β preserves Ξ2 ⊆ Π2
[cf. [CmbCsp], Deﬁnition 1.1, (iii)], i.e., the normal closed subgroup
of Π2 topologically normally generated by a cuspidal inertia subgroup
associated to b4 . On the other hand, this follows immediately from
the fact that α preserves the Π2/1 -conjugacy class of cuspidal inertia
subgroups associated to b1 [cf. assertion (iii) in the case where n = 2],
together with our choice of ι. This completes the proof of Claim 2.3.C,
hence also of assertion (ii) in the case where (g, r, n) = (0, 3, 2).
Next, we verify assertion (ii) in the case where (g, r, n) = (0, 3, 2).
Thus, n ≥ 3. Write Π†3 (respectively, Π†2 ; Π†1 ) for the kernel of the
surjection Πn  Πn−3 (respectively, Πn−1  Πn−3 ; Πn−2  Πn−3 )
induced by the projection obtained by forgetting the factor(s) labeled
n, n − 1, n − 2 (respectively, n − 1, n − 2; n − 2). Here, if n = 3, then
def
we set Πn−3 = Π0 = {1}. Then recall [cf., e.g., the proof of [CmbCsp],
Theorem 4.1, (i)] that we have natural isomorphisms
out

out

out

Πn ≃ Π†3  Πn−3 ; Πn−1 ≃ Π†2  Πn−3 ; Πn−2 ≃ Π†1  Πn−3
[cf. the discussion entitled “Topological groups” in [CbTpI], §0]. Also,
we recall [cf. [MzTa], Proposition 2.4, (i)] that one may interpret the
surjections Π†3  Π†2  Π†1 induced by the surjections Πn  Πn−1 
Πn−2 as the surjections “Π3  Π2  Π1 ” that arise from the projections X3 → X2 → X in the case of an “X” of type (g, r + n − 3).
Moreover, one veriﬁes easily that this interpretation is compatible with
the deﬁnition of the various “Out(−)’s” involved. Thus, since nFC = 4
if r = 0, the above natural isomorphisms, together with [CbTpI], Theorem A, (ii), allow one to reduce the equality in question to the case
where n = 3 and r = 0.

COMBINATORIAL ANABELIAN TOPICS II

39

Now one veriﬁes easily that, to verify the equality in question in the
case where n = 3 and r = 0, it is immediate that it suﬃces to verify
that
AutFC (Π3 ) = AutF (Π3 ) .
Let α ∈ AutF (Π3 ). Then let us observe that to verify α ∈ AutFC (Π3 ),
by replacing α by the composite of α with a suitable element of AutFC (Π3 )
[cf. [CmbCsp], Lemma 2.4], we may assume without loss of generality that the [necessarily FC-admissible — cf. [CbTpI], Theorem A,
(ii)] automorphism of Π1 induced by α relative to q1 , hence also relative to either q2 or q3 [cf. [CbTpI], Theorem A, (i)] — where we
write q1 , q2 , q3 for the surjections Π3  Π1 induced by the projections
X3 → X to the factors labeled 1, 2, 3, respectively — induces the identity automorphism on the set of conjugacy classes of cuspidal inertia
subgroups of Π1 ; in particular, one veriﬁes easily that the [necessarily
FC-admissible — cf. [CbTpI], Theorem A, (ii)] automorphism of Π2/1
— where we write p1 : Π2  Π1 for the surjection induced by the prodef
jection X2 → X to the factor labeled 1 and Π2/1 = Ker(p1 ) ⊆ Π2 —
induced by α induces the identity automorphism on the set of conjugacy
classes of cuspidal inertia subgroups of Π2/1 . Write X2/1 (respectively,
X3/2 ; X3/1 ) for the geometric generic ﬁber of the projection X2 → X
(respectively, X3 → X2 ; X3 → X) to the factor(s) labeled 1 (respectively, 1, 2; 1). Let us assign the cusps of X the labels a1 , · · · , ar . For
each i ∈ {1, · · · , r}, we assign to the cusp of X2/1 that corresponds naturally to the cusp of X labeled ai the label bi . Thus, there is precisely
one cusp of X2/1 that has not been assigned a label ∈ {b1 , · · · , br };
we assign to this uniquely determined cusp the label br+1 . For each
i ∈ {1, · · · , r + 1}, we assign to the cusp of X3/2 that corresponds naturally to the cusp of X2/1 labeled bi the label ci . Thus, there is precisely
one cusp of X3/2 that has not been assigned a label ∈ {c1 , · · · , cr+1 }; we
assign to this uniquely determined cusp the label cr+2 . Now it follows
from assertion (iii) in the case where n = 2, applied to the restriction of
def
α to Π3/1 = Ker(q1 ), together with [CbTpI], Theorem A, (ii), that α is
FwC-admissible. Write q12 : Π3  Π2 for the surjection induced by the
def
projection X3 → X2 to the factors labeled 1, 2; Π3/2 = Ker(q12 ) ⊆ Π3 .
Thus, to verify the fact that α is FC-admissible, it suﬃces to verify the
following assertion:
Claim 2.3.D: If Icr+2 ⊆ Π3/2 is a cuspidal inertia subgroup associated to the cusp labeled cr+2 , then α(Icr+2 )
is a cuspidal inertia subgroup.
To verify Claim 2.3.D, let us ﬁx a cusp labeled b ∈ {b1 , · · · , br }
[where we recall that r = 0], a cuspidal inertia subgroup Ib ⊆ Π2/1 associated to the cusp labeled b of X2/1 , and a cuspidal inertia subgroup
Icr+2 ⊆ Π3/2 associated to the cusp labeled cr+2 of Π3/2 . Now observe

40

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

that since the [necessarily FC-admissible] automorphism of Π2/1 induced by α induces the identity automorphism on the set of conjugacy
classes of cuspidal inertia subgroups of Π2/1 , to verify the assertion
that α(Icr+2 ) is a cuspidal inertia subgroup, we may assume without
loss of generality [by replacing α by a suitable Π3 -conjugate of α] that
the automorphism of Π2/1 induced by α ﬁxes Ib . Let ΠEb ⊆ Π3/2 be a
minor verticial subgroup, relative to the two-dimensional conﬁguration
space X3/1 associated to the hyperbolic curve X2/1 , at the cusp labeled
b [cf. [CmbCsp], Deﬁnition 1.4, (ii)] such that Icr+2 ⊆ ΠEb . Then it follows immediately from Lemma 2.2, (ii), that α ﬁxes the Π3/2 -conjugacy
class of ΠEb , i.e., that Π†Eb = α(ΠEb ) is a Π3/2 -conjugate of ΠEb . Thus,
one veriﬁes easily that, to verify that α(Icr+2 ) is a cuspidal inertia sub∼
group, it suﬃces to verify that the isomorphism ΠEb → Π†Eb induced by
α is group-theoretically cuspidal — cf. [CmbGC], Deﬁnition 1.4, (iv).
[Note that it follows immediately from the various deﬁnitions involved
that ΠEb and Π†Eb may be regarded as pro-Σ fundamental groups of
semi-graphs of anabelioids of pro-Σ PSC-type.] On the other hand, it
follows immediately from a similar argument to the argument applied
in the discussion concerning the isomorphism of the second display of
[CmbCsp], Deﬁnition 1.4, (ii), that the composites
def

ΠEb , Π†Eb → Π3/2  Π2/1
— where the second arrow is the surjection determined by the surjection q13 : Π3  Π2 induced by the projection X3 → X2 to the factors
labeled 1, 3 — are injective, and that the Π2/1 -conjugacy class of the
image in Π2/1 of either of these composite injections coincides with the
Π2/1 -conjugacy class of a minor verticial subgroup at the cusp labeled
ai [where we write b = bi — cf. [CmbCsp], Deﬁnition 1.4, (ii)]. In
particular, since the automorphism of Π2 induced by α relative to q13
is FC-admissible [cf. [CbTpI], Theorem A, (ii)], it follows immediately
∼
that the isomorphism ΠEb → Π†Eb induced by α is group-theoretically
cuspidal. This completes the proof of Claim 2.3.D, hence also of assertion (ii).
Now assertion (iii) in the case where n = 2 follows immediately
from assertion (ii), together with the natural inclusions OutFC (Πn ) ⊆
OutFwC (Πn ) ⊆ OutF (Πn ) [cf. Remark 2.1.1]. This completes the proof
of assertion (iii).
Next, we verify assertion (i). The bijectivity portion of assertion
(i) follows from assertion (ii), together with the bijectivity portion of
[NodNon], Theorem B. Thus, it suﬃces to verify the injectivity portion
of assertion (i). First, we observe that injectivity in the case where
(g, r) = (0, 3) follows from assertion (ii), together with the injectivity portion of [NodNon], Theorem B. Write Π†2 (respectively, Π†1 ) for
the kernel of the surjection Πn+1  Πn−1 (respectively, Πn  Πn−1 )

COMBINATORIAL ANABELIAN TOPICS II

41

induced by the projection obtained by forgetting the factor(s) labeled
def
n+1, n (respectively, n). Here, if n = 1, then we set Πn−1 = Π0 = {1}.
Then recall [cf. e.g., the proof of [CmbCsp], Theorem 4.1, (i)] that we
have natural isomorphisms
out

out

Πn+1 ≃ Π†2  Πn−1 ; Πn ≃ Π†1  Πn−1
[cf. the discussion entitled “Topological groups” in [CbTpI], §0]. Also,
we recall [cf. [MzTa], Proposition 2.4, (i)] that one may interpret the
surjection Π†2  Π†1 induced by the surjection Πn+1  Πn in question
as the surjection “Π2  Π1 ” that arises from the projection X2 → X
in the case of an “X” of type (g, r +n−1). Moreover, one veriﬁes easily
that this interpretation is compatible with the deﬁnition of the various
“Out(−)’s” involved. Thus, since ninj = 2 if r = 0, the above natural
isomorphisms allow one to reduce the injectivity in question to the
case where n = 1 and r = 0. On the other hand, this injectivity follows
immediately from a similar argument to the argument used in the proof
of [CmbCsp], Corollary 2.3, (ii), by replacing [CmbCsp], Proposition
1.2, (iii) (respectively, the non-resp’d portion of [CmbCsp], Proposition
1.3, (iv); [CmbCsp], Corollary 1.12, (i)), in the proof of [CmbCsp],
Corollary 2.3, (ii), by Lemma 2.2, (i) (respectively, Lemma 2.2, (ii);
the injectivity in question in the case where (g, r) = (0, 3), which was
veriﬁed above). This completes the proof of the injectivity portion of
assertion (i), hence also of assertion (i).
Finally, assertion (iv) follows immediately from assertion (i), together with a similar argument to the argument applied in the proof
of [CmbCsp], Theorem 4.1, (iv). This completes the proof of Theorem 2.3.

Corollary 2.4 (PFC-admissibility of outomorphisms). In the notation of Theorem 2.3, write
OutPF (Πn ) ⊆ Out(Πn )
for the subgroup of PF-admissible outomorphisms [i.e., roughly speaking, outomorphisms that preserve the ﬁber subgroups up to a possible
permutation of the factors — cf. [CbTpI], Deﬁnition 1.4, (i)] and
OutPFC (Πn ) ⊆ OutPF (Πn )
for the subgroup of PFC-admissible outomorphisms [i.e., roughly speaking, outomorphisms that preserve the ﬁber subgroups and the cuspidal
inertia subgroups up to a possible permutation of the factors — cf.
[CbTpI], Deﬁnition 1.4, (iii)]. Let us regard the symmetric group on n
letters Sn as a subgroup of Out(Πn ) via the natural inclusion of Theorem 2.3, (iv). Finally, suppose that (g, r) ∈ {(0, 3); (1, 1)}. Then the
following hold:

42

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

(i) We have an equality
Out(Πn ) = OutPF (Πn ).
If, moreover, (r, n) = (0, 2), then we have equalities
Out(Πn ) = OutPF (Πn ) = OutF (Πn ) × Sn
[cf. the notational conventions introduced in Theorem 2.3].
(ii) If either
r > 0, n ≥ 3
or
n ≥ 4,
then we have equalities
Out(Πn ) = OutPFC (Πn ) = OutFC (Πn ) × Sn
[cf. the notational conventions introduced in Theorem 2.3].
Proof. First, we verify assertion (i). The equality in the ﬁrst display
of assertion (i) follows from [MzTa], Corollary 6.3, together with the
assumption that (g, r) ∈ {(0, 3); (1, 1)}. The second equality in the
second display of assertion (i) follows from Theorem 2.3, (iv). This
completes the proof of assertion (i). Next, we verify assertion (ii). The
ﬁrst equality of assertion (ii) follows immediately from Theorem 2.3,
(ii), together with the ﬁrst equality of assertion (i). The second equality
of assertion (ii) follows from [NodNon], Theorem B. This completes the
proof of assertion (ii).


Corollary 2.5 (Anabelian properties of hyperbolic curves and
associated conﬁguration spaces I). Let Σ be a set of prime numbers
which is either equal to the set of all prime numbers or of cardinality
one; m ≤ n positive integers; (g, r) a pair of nonnegative integers such
that 2g − 2 + r > 0; k a ﬁeld of characteristic ∈ Σ; k a separable
closure of k; X a hyperbolic curve of type (g, r) over k. Write
def
Gk = Gal(k/k). For each positive integer i, write Xi for the i-th
def
conﬁguration space of X; (Xi )k = Xi ×k k; ΔXi for the maximal
pro-Σ quotient of the étale fundamental group of (Xi )k ;
ρΣ
Xi : Gk −→ Out(ΔXi )
for the pro-Σ outer Galois representation associated to Xi ; Si for the
symmetric group on i letters;
Φi : Si −→ Out(ΔXi )
for the outer representation arising from the permutations of the factors
of Xi . Suppose that the following conditions are satisﬁed:

COMBINATORIAL ANABELIAN TOPICS II

43

(1) (g, r) ∈ {(0, 3); (1, 1)}.
(2) If (r, n, m) ∈ {(0, 2, 1); (0, 2, 2); (0, 3, 1)}, then there exists an
l ∈ Σ such that k is l-cyclotomically full, i.e., the l-adic
cyclotomic character of Gk has open image.
Then the following hold:
(i) Let α ∈ Out(ΔXn ). Then there exists a unique element σα ∈
Sn such that α ◦ Φn (σα ) ∈ OutF (ΔXn ) [cf. the notational
conventions introduced in Theorem 2.3]. Write
αm ∈ OutF (ΔXm )
for the outomorphism of ΔXm induced by α ◦ Φn (σα ), relative
to the quotient ΔXn  ΔXm by a ﬁber subgroup of co-length m
of ΔXn . [Note that it follows from [CbTpI], Theorem A, (i),
that αm does not depend on the choice of ﬁber subgroup of
co-length m of ΔXn .]
(ii) If (r, n, m) ∈ {(0, 2, 1); (0, 2, 2); (0, 3, 1)}, then
PFC
COut(ΔXn ) (Im(ρΣ
(ΔXn )
Xn )) ⊆ Out

[cf. the notational conventions introduced in Corollary 2.4].
(iii) The map
Out(ΔXn ) −→ Out(ΔXm )
α
→
αm
[cf. (i)] determines an exact sequence of homomorphisms of
proﬁnite groups
Φ

n
1 −→ Sn −→
OutPFC (ΔXn ) −→ Out(ΔXm )

— where the second arrow is a split injection whose image
commutes with OutFC (ΔXn ) and has trivial intersection
with Im(ρΣ
Xn ). If (r, n) = (0, 2), then the map α → αm determines a sequence of homomorphisms of proﬁnite groups
Φ

n
Out(ΔXn ) −→ Out(ΔXm )
1 −→ Sn −→

— where the second arrow is a split injection whose image commutes with OutF (ΔXn ) and has trivial intersection with Im(ρΣ
Xn ) — which is exact if, moreover, (r, n, m) =
(0, 3, 1).
(iv) Let α ∈ Out(ΔXn ). If (r, n, m) ∈ {(0, 2, 1); (0, 3, 1)}, then we
suppose further that α ∈ OutPFC (ΔXn ), which is the case if,
for instance, α ∈ COut(ΔXn ) (Im(ρΣ
Xn )) [cf. (ii)]. Then it holds
that
α ∈ ZOut(ΔXn ) (Im(ρΣ
Xn ))
Σ
(respectively, NOut(ΔXn ) (Im(ρΣ
Xn )) ; COut(ΔXn ) (Im(ρXn )))

44

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

if and only if
αm ∈ ZOut(ΔXm ) (Im(ρΣ
Xm ))
Σ
(respectively, NOut(ΔXm ) (Im(ρΣ
Xm )) ; COut(ΔXm ) (Im(ρXm ))) .

(v) For each positive integer i, write Autk (Xi ) for the group of automorphisms of Xi over k. Then if the natural homomorphism
Autk (Xm ) −→ ZOut(ΔXm ) (Im(ρΣ
Xm ))
is bijective, then the natural homomorphism
Autk (Xn ) −→ ZOut(ΔXn ) (Im(ρΣ
Xn ))
is bijective.
(vi) For each positive integer i, write Aut((Xi )k /k) for the group
of automorphisms of (Xi )k that are compatible with some automorphism of k; Autρ (Gk ) for the group of automorphisms
of Gk that preserve Ker(ρΣ
X1 ) ⊆ Gk [where we note that, by
[NodNon], Corollary 6.2, (i), for any positive integer i, it holds
Σ
that Ker(ρΣ
X1 ) = Ker(ρXi )]. Then if the natural homomorphism
Aut((Xm )k /k) −→ Autρ (Gk )×Aut(Im(ρΣX )) NOut(ΔXm ) (Im(ρΣ
Xm ))
m

is bijective, then the natural homomorphism
Aut((Xn )k /k) −→ Autρ (Gk ) ×Aut(Im(ρΣX )) NOut(ΔXn ) (Im(ρΣ
Xn ))
n

is bijective.
Proof. First, we verify assertion (i). The existence of such a σα follows
from the fact that Out(ΔXn ) = OutPF (ΔXn ) [cf. Corollary 2.4, (i), together with assumption (1)]. The uniqueness of such a σα follows immediately from the easily veriﬁed faithfulness of the action of Sn , via Φn ,
on the set of ﬁber subgroups of ΔXn . This completes the proof of assertion (i). Next, we verify assertion (ii). Since Out(ΔXn ) = OutPF (ΔXn )
[cf. Corollary 2.4, (i), together with assumption (1)], assertion (ii)
follows immediately from [CmbGC], Corollary 2.7, (i), together with
condition (2). This completes the proof of assertion (ii).
Next, we verify assertion (iii). First, let us observe that it follows immediately from the various deﬁnitions involved that Im(Φn ) ⊆
OutPFC (ΔXn ). Now since Out(ΔXn ) = OutPF (ΔXn ) [cf. Corollary 2.4,
(i), together with assumption (1)], and OutF (ΔXn ) is normalized by
OutPF (ΔXn ), one veriﬁes easily [i.e., by considering the action of elements of OutPF (ΔXn ) on the set of ﬁber subgroups of ΔXn ] that the
second arrow in either of the two displayed sequences is a split injection. Moreover, since [as is easily veriﬁed] the outer action of Gk , via
ρΣ
Xn , on ΔXn ﬁxes every ﬁber subgroup of ΔXn , it follows immediately
from the faithfulness of the action of Sn , via Φn , on the set of ﬁber
subgroups of ΔXn that the image of the second arrow in either of the

COMBINATORIAL ANABELIAN TOPICS II

45

two displayed sequences has trivial intersection with Im(ρΣ
Xn ). Now it
follows from [NodNon], Theorem B, that the image of the second arrow
of the ﬁrst displayed sequence commutes with OutFC (ΔXn ); in particular, one veriﬁes easily from the various deﬁnitions involved [cf. also
Corollary 2.4, (i), together with assumption (1)] that the third arrow of
the ﬁrst displayed sequence is a homomorphism. If (r, n) = (0, 2), then
it follows from Corollary 2.4, (i), together with assumption (1), that the
image of the second arrow of the second displayed sequence commutes
with OutF (ΔXn ); in particular, one veriﬁes easily from the various definitions involved [cf. also Corollary 2.4, (i), together with assumption
(1)] that the third arrow of the second displayed sequence is a homomorphism. Now if (r, m) = (0, 1), then it follows immediately from
the injectivity portion of Theorem 2.3, (i), together with the equality
Out(ΔXn ) = OutPF (ΔXn ) [cf. Corollary 2.4, (i), together with assumption (1)], that the kernel of the third arrow in either of the two displayed
sequences is Im(Φn ). Moreover, if (r, n, m) ∈ {(0, 2, 1); (0, 3, 1)}, then
it follows immediately from the injectivity portion of [NodNon], Theorem B, that the kernel of the third arrow in the ﬁrst displayed sequence
is Im(Φn ). On the other hand, if (r, m) = (0, 1) and n ∈ {2, 3}, then it
follows immediately from the injectivity portion of [NodNon], Theorem
B, together with Corollary 2.4, (ii), together with assumption (1), that
the kernel of the third arrow in either of the two displayed sequences
is Im(Φn ). This completes the proof of assertion (iii).
Next, we verify assertion (iv). Now since the permutations of the
factors of Xn give rise to automorphisms of Xn over k, it follows immediately that Im(Φn ) ⊆ ZOut(ΔXn ) (Im(ρΣ
Xn )). In particular, to verify
assertion (iv), we may assume without loss of generality — by replacing
α by αn [cf. assertion (i)] — that α ∈ OutF (ΔXn ), and that m < n.
Then necessity follows immediately. On the other hand, suﬃciency
follows immediately from the exact sequences of assertion (iii). This
completes the proof of assertion (iv). Assertion (v) (respectively, (vi))
follows immediately from assertions (i), (ii), (iii), (iv), together with
Lemma 2.7, (iii), below (respectively, Lemma 2.7, (iv), below). This
completes the proof of Corollary 2.5.

Corollary 2.6 (Anabelian properties of hyperbolic curves and
associated conﬁguration spaces II). Let Σ be a set of prime numbers which is either equal to the set of all prime numbers or of cardinality one; m ≤ n positive integers; (gX , rX ), (gY , rY ) pairs of nonnegative integers such that 2gX − 2 + rX , 2gY − 2 + rY > 0; kX , kY
ﬁelds; k X , k Y separable closures of kX , kY , respectively; X, Y hyperbolic curves of type (gX , rX ), (gY , rY ) over kX , kY , respectively.
def
def
Write GkX = Gal(k X /kX ); GkY = Gal(k Y /kY ). For each positive
integer i, write Xi , Yi for the i-th conﬁguration spaces of X, Y ,

46

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
def

def

respectively; (Xi )kX = Xi ×kX k X ; (Yi )kY = Yi ×kY k Y ; π1Σ ((Xi )kX ),
π1Σ ((Yi )kY ) for the maximal pro-Σ quotients of the étale fundamental
(Σ)
groups π1 ((Xi )kX ), π1 ((Yi )kY ) of (Xi )kX , (Yi )kY , respectively; π1 (Xi ),
(Σ)
π1 (Yi ) for the geometrically pro-Σ étale fundamental groups of Xi , Yi ,
respectively, i.e., the quotients of the étale fundamental groups π1 (Xi ),
π1 (Yi ) of Xi , Yi by the respective kernels of the natural surjections
π1 ((Xi )kX )  π1Σ ((Xi )kX ), π1 ((Yi )kY )  π1Σ ((Yi )kY ). Suppose that the
following conditions are satisﬁed:
(1) {(gX , rX ); (gY , rY )} ∩ {(0, 3); (1, 1)} = ∅.
(2) If (rX , n, m) (respectively, (rY , n, m)) is contained in the set
{(0, 2, 1); (0, 2, 2); (0, 3, 1)}, then there exists an l ∈ Σ such
that kX (respectively, kY ) is l-cyclotomically full, i.e., the ladic cyclotomic character of GkX (respectively, GkY ) has open
image.
Then the following hold:
∼

(i) Let θ : k X → k Y be an isomorphism of ﬁelds that determines
∼
an isomorphism kX → kY . For each positive integer i, write
Isomθ (Xi , Yi ) for the set of isomorphisms of Xi with Yi that
∼
are compatible with the isomorphism kX → kY determined
(Σ)
(Σ)
by θ; Isomθ (π1 (Xi ), π1 (Yi )) for the set of isomorphisms of
(Σ)
(Σ)
π1 (Xi ) with π1 (Yi ) that are compatible with the isomorphism
∼
GkX → GkY determined by θ. Then if the natural map
(Σ)

(Σ)

Isomθ (Xm , Ym ) −→ Isomθ (π1 (Xm ), π1 (Ym ))/Inn(π1Σ ((Ym )kY ))
is bijective, then the natural map
(Σ)

(Σ)

Isomθ (Xn , Yn ) −→ Isomθ (π1 (Xn ), π1 (Yn ))/Inn(π1Σ ((Yn )kY ))
is bijective.
(ii) For each positive integer i, write Isom((Xi )kX /kX , (Yi )kY /kY )
for the set of isomorphisms of (Xi )kX with (Yi )kY that are compatible with some ﬁeld isomorphism of kX with kY ;
(Σ)

(Σ)

Isom(π1 (Xi )/GkX , π1 (Yi )/GkY )
(Σ)

(Σ)

for the set of isomorphisms of π1 (Xi ) with π1 (Yi ) that are
compatible with some isomorphism of GkX with GkY . Then if
the natural map
Isom((Xm )kX /kX , (Ym )kY /kY )
(Σ)

(Σ)

−→ Isom(π1 (Xm )/GkX , π1 (Ym )/GkY )/Inn(π1Σ ((Ym )kY ))
is bijective, then the natural map
Isom((Xn )kX /kX , (Yn )kY /kY )

COMBINATORIAL ANABELIAN TOPICS II
(Σ)

47

(Σ)

−→ Isom(π1 (Xn )/GkX , π1 (Yn )/GkY )/Inn(π1Σ ((Yn )kY ))
is bijective.
Proof. Consider assertion (i) (respectively, (ii)). If the set
(Σ)

(Σ)

Isomθ (π1 (Xn ), π1 (Yn ))/Inn(π1Σ ((Yn )kY ))
(respectively,
(Σ)

(Σ)

Isom(π1 (Xn )/GkX , π1 (Yn )/GkY )/Inn(π1Σ ((Yn )kY )) )
is empty, then assertion (i) (respectively, (ii)) is immediate. Thus, we
may suppose without loss of generality that this set is nonempty. Then
one veriﬁes easily from [MzTa], Corollary 6.3, together with condition
(1), that the set
(Σ)

(Σ)

Isomθ (π1 (Xm ), π1 (Ym ))/Inn(π1Σ ((Ym )kY ))
(respectively,
(Σ)

(Σ)

Isom(π1 (Xm )/GkX , π1 (Ym )/GkY )/Inn(π1Σ ((Ym )kY )) )
is nonempty. Thus, it follows immediately from the bijectivity assumed
in assertion (i) (respectively, (ii)) that there exists an isomorphism
∼
∼
Xm → Ym that is compatible with the isomorphism kX → kY deter∼
mined by θ (respectively, an isomorphism (Xm )kX → (Ym )kY that is
∼
compatible with some isomorphism kX → kY ). In particular, it follows
immediately from Lemma 2.7, (iii), below (respectively, Lemma 2.7,
∼
(iv), below) that there exists an isomorphism X → Y that is compatible
∼
with the isomorphism kX → kY determined by θ (respectively, an iso∼
morphism X ×kX k X → Y ×kY k Y that is compatible with some isomor∼
phism kX → kY ). Thus, by pulling back the various objects involved
via this isomorphism, to verify assertion (i) (respectively, (ii)), we may
assume without loss of generality that (X, kX , k X , θ) = (Y, kY , k Y , idkX )
(respectively, (X, kX , k X ) = (Y, kY , k Y )). Then assertion (i) (respectively, (ii)) follows from Corollary 2.5, (v) (respectively, Corollary 2.5,
(vi)). This completes the proof of Corollary 2.6.


Lemma 2.7 (Isomorphisms between conﬁguration spaces of
hyperbolic curves). Let n be a positive integer; (gX , rX ), (gY , rY )
pairs of nonnegative integers such that 2gX − 2 + rX , 2gY − 2 + rY > 0;
kX , kY ﬁelds; k X , k Y separable closures of kX , kY , respectively; X, Y
hyperbolic curves of type (gX , rX ), (gY , rY ) over kX , kY , respectively.
Write Xn , Yn for the n-th conﬁguration spaces of X, Y , respectively;
def
def
def
def
XkX = X ×kX k X ; YkY = Y ×kY k Y ; (Xn )kX = Xn ×kX k X ; (Yn )kY =

48

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Yn ×kY k Y ; Sn for the symmetric group on n letters; AutkX (Xn ) for
the group of automorphisms of Xn over kX ;
Ψn : Sn −→ AutkX (Xn )
for the action of Sn on Xn over kX obtained by permuting the factors
of Xn . Suppose that (gX , rX ), (gY , rY ) ∈ {(0, 3); (1, 1)}. Then the
following hold:
∼

(i) Let α : Xn → Yn be an isomorphism. Then there exists a
∼
unique isomorphism α0 : kY → kX that is compatible with α
relative to the structure morphisms of Xn , Yn .
∼

(ii) Let α : Xn → Yn be an isomorphism. Then there exist a unique
permutation σ ∈ Ψn (Sn ) ⊆ AutkX (Xn ) and a unique isomor∼
phism α1 : X → Y that is compatible with α ◦ σ relative to the
projections Xn → X, Yn → Y to each of the n factors.
(iii) Write Isom(Xn , Yn ) for the set of isomorphisms of Xn with Yn ;
def
Isom(X, Y ) = Isom(X1 , Y1 ). Then the natural map
Isom(X, Y ) × Ψn (Sn ) −→ Isom(Xn , Yn )
is bijective.
(iv) Write Isom((Xn )kX /kX , (Yn )kY /kY ) for the set of isomorphisms
∼
(Xn )kX → (Yn )kY that are compatible with some isomorphism
∼

def

kY → kX ; Isom(XkX /kX , YkY /kY ) = Isom((X1 )kX /kX , (Y1 )kY /kY ).
Then the natural map
Isom(XkX /kX , YkY /kY ) × Ψn (Sn ) −→ Isom((Xn )kX /kX , (Yn )kY /kY )
is bijective.
Proof. First, we verify assertion (i). Write (CnX )log , (CnY )log for the
n-th log conﬁguration spaces [cf. the discussion entitled “Curves” in
“Notations and Conventions”] of [the smooth log curves over kX , kY
determined by] X, Y , respectively. Then recall [cf. the discussion at
the beginning of [MzTa], §2] that (CnX )log , (CnY )log are log regular log
schemes whose interiors are naturally isomorphic to Xn , Yn , respectively, and that the underlying schemes CnX , CnY of (CnX )log , (CnY )log
are proper over kX , kY , respectively. Thus, by applying [ExtFam],
Theorem A, (1), to the composite
α

Xn → Yn → CnY → MgY ,rY +n
— where we refer to the discussion entitled “Curves” in [CbTpI], §0,
concerning the notation “MgY ,rY +n ”; the third arrow is the natural
(1-)morphism arising from the deﬁnition of CnY — we conclude that
the composite
α

Xn → Yn → CnY → MgY ,rY +n → (MgY ,rY +n )c

COMBINATORIAL ANABELIAN TOPICS II

49

— where we write (MgY ,rY +n )c for the coarse moduli space associated
to MgY ,rY +n — factors through the natural open immersion Xn → CnX .
On the other hand, one veriﬁes immediately that the composite CnY →
MgY ,rY +n → (MgY ,rY +n )c is proper and quasi-ﬁnite, hence ﬁnite. In
particular, if we write C Γ ⊆ CnX ×k CnY for the scheme-theoretic cloα
sure of the graph of the composite Xn → Yn → CnY , then the composite
pr
C Γ → CnX ×k CnY →1 CnX is a ﬁnite morphism from an integral scheme to
a normal scheme which induces an isomorphism between the respective
function ﬁelds. Thus, we conclude that this composite is an isomorphism, hence that α extends uniquely to a morphism CnX → CnY . Now
recall that CnX is proper, geometrically normal, and geometrically connected over kX . Thus, one veriﬁes immediately, by considering global
sections of the respective structure sheaves, that there exists a unique
homomorphism α0 : kY → kX that is compatible with α. Moreover, by
applying a similar argument to α−1 , it follows that α0 is an isomorphism. This completes the proof of assertion (i).
Next, we verify assertion (ii). First, let us observe that, by replacing
∼
Y by the result of base-changing Y via α0 : kY → kX [cf. assertion (i)],
we may assume without loss of generality that kY = kX , k Y = k X ,
and that α is an isomorphism over kX . Next, let us observe that it
is immediate that σ and α1 as in the statement of assertion (ii) are
unique; thus, it remains to verify the existence of such σ and α1 . Next,
let us observe that it follows immediately from [MzTa], Corollary 6.3,
that there exists a permutation σ ∈ Ψn (Sn ) such that if we identify
the respective sets of ﬁber subgroups of ΔXn , ΔYn — where we write
ΔXn , ΔYn for the maximal pro-l quotients of the étale fundamental
groups of (Xn )kX , (Yn )kX , respectively, for some prime number l that
is invertible in kX — with the set 2{1,··· ,n} [cf. the discussion entitled
“Sets” in [CbTpI], §0] in the evident way, then the automorphism of
def
the set 2{1,··· ,n} induced by the composite β = α ◦ σ is the identity
automorphism. Write prX : Xn → X, prY : Yn → Y for the projections
to the factor labeled n, respectively. Then we claim that the following
assertion holds:
∼

Claim 2.7.A: There exists an isomorphism α1 : X → Y
that is compatible with β relative to prX , prY .
Indeed, write Γ ⊆ X ×kX Y for the scheme-theoretic image via Xn ×kX
(pr ,idY )

β

pr

X
Y −→
X ×kX Y of the graph of the composite Xn → Yn →Y Y .
Next, let us observe that if Z is an irreducible scheme of ﬁnite type
over k X , then any nonconstant [i.e., dominant] k X -morphism Z → YkX
induces an open homomorphism between the respective fundamental
groups. Thus, since the automorphism of the set 2{1,··· ,n} induced by
β is the identity automorphism, it follows immediately that, for any
k X -valued geometric point x of X, if we write F for the geometric

50

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
βk

ﬁber of prX : Xn → X at x, then the composite F → (Xn )kX →X
(prY )k

(Yn )kX → X YkX is constant. In particular, one veriﬁes immediately
that Γ is an integral, separated scheme of dimension 1. Thus, since
prX is surjective, geometrically connected, smooth, and factors through
pr
the composite Γ → X ×kX Y →1 X, it follows immediately that this
composite morphism Γ → X is surjective and induces an isomorphism
between the respective function ﬁelds. Therefore, one concludes easily,
by applying Zariski’s main theorem, that the composite Γ → X ×kX
pr
Y →1 X is an isomorphism, hence that there exists a unique morphism
α1 : X → Y such that prY ◦ β = α1 ◦ prX . Moreover, by applying a
similar argument to β −1 , it follows that α1 is an isomorphism. This
completes the proof of Claim 2.7.A.
∼
Write γ for the composite of β with the isomorphism Yn → Xn determined by α1−1 . Then it is immediate that γ is an automorphism
of Xn over X relative to prX ; in particular, the outomorphism of
ΔXn induced by γ is contained in the kernel of the homomorphism
OutF (ΔXn ) → OutF (ΔX ) — where we write ΔX for the maximal pro-l
quotient of the étale fundamental group of XkX — induced by prX .
Now, by applying a similar argument to the argument of the proof of
Claim 2.7.A, one veriﬁes easily that, for each i ∈ {1, · · · , n}, there exists an automorphism γ1,i of X that is compatible with γ relative to the
projection Xn → X to the factor labeled i. [Thus, γ1,n = idX .] Moreover, since, by applying induction on n, we may assume that assertion
(ii) has already been veriﬁed for n − 1, it follows immediately that
the outomorphism of ΔXn induced by γ is contained in OutFC (ΔXn ),
hence in the kernel of the homomorphism OutFC (ΔXn ) → OutFC (ΔX )
induced by the projections Xn → X to each of the n factors [cf.
[CmbCsp], Proposition 1.2, (iii)]. Therefore, it follows immediately
from the argument of the ﬁrst paragraph of the proof of [LocAn], Theorem 14.1, that, for each i ∈ {1, · · · , n}, γ1,i is the identity automorphism of X, hence also that γ is the identity automorphism of Xn . This
completes the proof of assertion (ii).
Assertions (iii), (iv) follow immediately from assertion (ii), together
with the various deﬁnitions involved. This completes the proof of
Lemma 2.7.


COMBINATORIAL ANABELIAN TOPICS II

51

3. Synchronization of tripods
In the present §3, we introduce and study the notion of a tripod of
the log fundamental group of the log conﬁguration space of a stable
log curve [cf. Deﬁnition 3.3, (i), below]. In particular, we discuss the
phenomenon of synchronization among the various tripods of the log
fundamental group [cf. Theorems 3.17; 3.18, below]. One interesting
consequence of this phenomenon of tripod synchronization is a certain
non-surjectivity result [cf. Corollary 3.22 below]. Finally, we apply
the theory of synchronization of tripods to show that, under certain
conditions, commuting proﬁnite Dehn multi-twists are “co-Dehn” [cf.
Corollary 3.25 below] and to compute the commensurator of certain
purely combinatorial/group-theoretic groups of proﬁnite Dehn multitwists in terms of scheme theory [cf. Corollary 3.27 below].
In the present §3, let (g, r) be a pair of nonnegative integers such
that 2g − 2 + r > 0; n a positive integer; Σ a set of prime numbers
which is either the set of all prime numbers or of cardinality one; k
an algebraically closed ﬁeld of characteristic ∈ Σ; (Spec k)log the log
scheme obtained by equipping Spec k with the log structure determined
by the fs chart N → k that maps 1 → 0; X log = X1log a stable log
curve of type (g, r) over (Spec k)log . For each [possibly empty] subset
E ⊆ {1, · · · , n}, write
XElog
for the #E-th log conﬁguration space of the stable log curve X log
[cf. the discussion entitled “Curves” in “Notations and Conventions”],
where we think of the factors as being labeled by the elements of
E ⊆ {1, · · · , n};
ΠE
for the maximal pro-Σ quotient of the kernel of the natural surjection
π1 (XElog )  π1 ((Spec k)log ). Thus, by applying a suitable specialization isomorphism — cf. the discussion preceding [CmbCsp], Deﬁnition
2.1, as well as [CbTpI], Remark 5.6.1 — one veriﬁes easily that ΠE is
equipped with a natural structure of pro-Σ conﬁguration space group
— cf. [MzTa], Deﬁnition 2.3, (i). For each 1 ≤ m ≤ n, write
def

def

log
log
= X{1,···
Xm
,m} ; Πm = Π{1,··· ,m} .

Thus, for subsets E  ⊆ E ⊆ {1, · · · , n}, we have a projection
log
log
plog
E/E  : XE → XE 

obtained by forgetting the factors that belong to E \ E  . For E  ⊆ E ⊆
{1, · · · , n} and 1 ≤ m ≤ m ≤ n, we shall write
pΠ
E/E  : ΠE  ΠE 

52

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

for some ﬁxed surjection [that belongs to the collection of surjections
that constitutes the outer surjection] induced by plog
E/E  ;
def

ΠE/E  = Ker(pΠ
E/E  ) ⊆ ΠE ;
def

log
log
log
plog
m/m = p{1,··· ,m}/{1,··· ,m } : Xm −→ Xm ;
def

Π
pΠ
m/m = p{1,··· ,m}/{1,··· ,m } : Πm  Πm ;
def

Πm/m = Π{1,··· ,m}/{1,··· ,m } ⊆ Πm .
Finally, recall [cf. the statement of Theorem 2.3, (iv)] the natural
inclusion
Sn → Out(Πn )
— where we write Sn for the symmetric group on n letters — obtained
by permuting the various factors of Xn . We shall regard Sn as a
subgroup of Out(Πn ) by means of this natural inclusion.
Deﬁnition 3.1. Let i ∈ E ⊆ {1, · · · , n}; x ∈ Xn (k) a k-valued geometric point of the underlying scheme Xn of Xnlog .
(i) Let E  ⊆ {1, · · · , n} be a subset. Then we shall write xE  ∈
XE  (k) for the k-valued geometric point of XE  obtained by
forming the image of x ∈ Xn (k) via p{1,··· ,n}/E  : Xn → XE  ;
def

log
xlog
E  = xE  × X E  X E  .

(ii) We shall write
G
for the semi-graph of anabelioids of pro-Σ PSC-type determined by the stable log curve X log over (Spec k)log [cf. [CmbGC],
Example 2.5];
G
for the underlying semi-graph of G;
ΠG
for the [pro-Σ] fundamental group of G;
G −→ G
for the universal covering of G corresponding to ΠG . Thus, we
have a natural outer isomorphism
∼

Π1 −→ ΠG .
Throughout our discussion of the objects introduced at the
∼
beginning of the present §3, let us ﬁx an isomorphism Π1 → ΠG
that belongs to the collection of isomorphisms that constitutes
the above natural outer isomorphism.

COMBINATORIAL ANABELIAN TOPICS II

53

(iii) We shall write
Gi∈E,x
for the semi-graph of anabelioids of pro-Σ PSC-type deterlog
mined by the geometric ﬁber of the projection plog
E/(E\{i}) : XE →
log
log
over xlog
XE\{i}
E\{i} → XE\{i} [cf. (i)];

ΠGi∈E,x
for the [pro-Σ] fundamental group of Gi∈E,x . Thus, we have a
natural identiﬁcation
G = Gi∈{i},x
and a natural ΠE -orbit [i.e., relative to composition with automorphisms induced by conjugation by elements of ΠE ] of
isomorphisms
∼

(ΠE ⊇) ΠE/(E\{i}) −→ ΠGi∈E,x .
Throughout our discussion of the objects introduced at the
beginning of the present §3, let us ﬁx an outer isomorphism
∼

ΠE/(E\{i}) −→ ΠGi∈E,x
whose constituent isomorphisms belong to the ΠE -orbit of isomorphisms just discussed.
(iv) Let v ∈ Vert(Gi∈E,x ) (respectively, e ∈ Cusp(Gi∈E,x ); e ∈
Node(Gi∈E,x ); e ∈ Edge(Gi∈E,x ); z ∈ VCN(Gi∈E,x )). Then we
shall refer to the image [in ΠE ] of a verticial (respectively, a
cuspidal; a nodal; an edge-like; a VCN-) subgroup [cf. [CbTpI],
Deﬁnition 2.1, (i)] of ΠGi∈E,x associated to v (respectively, e; e;
∼
e; z) via the inverse ΠGi∈E,x → ΠE/(E\{i}) ⊆ ΠE of any isomorphism that lifts the ﬁxed outer isomorphism discussed in (iii)
as a verticial (respectively, a cuspidal; a nodal; an edge-like;
a VCN-) subgroup of ΠE associated to v (respectively, e; e; e;
z). Thus, the notion of a verticial (respectively, a cuspidal; a
nodal; an edge-like; a VCN-) subgroup of ΠE associated to v
(respectively, e; e; e; z) depends on the choice of the ﬁxed outer
isomorphism of (iii) [but cf. Lemma 3.2, (i), below, in the case
of cusps!].
(v) We shall say that a vertex v ∈ Vert(Gi∈E,x ) of Gi∈E,x is a(n)
[E-]tripod of Xnlog if v is of type (0, 3) [cf. [CbTpI], Deﬁnition
2.3, (iii)]. If, in this situation, C(v) = ∅, then we shall say that
the tripod v is cusp-supporting.
(vi) We shall say that a cusp c ∈ Cusp(Gi∈E,x ) of Gi∈E,x is diagonal
if c does not arise from a cusp of the copy of X log given by the
factor of XElog labeled i ∈ E.

54

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Lemma 3.2 (Cusps of various ﬁbers). Let i ∈ E ⊆ {1, · · · , n};
x ∈ Xn (k). Then the following hold:
∼

(i) Let c ∈ Cusp(Gi∈E,x ) and Πc ⊆ ΠGi∈E,x ← ΠE/(E\{i}) a cuspidal
∼
subgroup of ΠGi∈E,x ← ΠE/(E\{i}) associated to c ∈ Cusp(Gi∈E,x ).
Then any ΠE -conjugate of Πc is, in fact, a ΠE/(E\{i}) -conjugate of Πc .
(ii) Each diagonal cusp of Gi∈E,x [cf. Deﬁnition 3.1, (vi)] admits
a natural label ∈ E \ {i}. More precisely, for each j ∈ E \ {i},
there exists a unique diagonal cusp of Gi∈E,x that arises
from the divisor of the ﬁber product over k of #E copies of X
consisting of the points whose i-th and j-th factors coincide.
(iii) Let α ∈ AutF (Πn ) [cf. [CmbCsp], Deﬁnition 1.1, (ii)]. Suppose that either E = {1, · · · , n} or n ≥ nFC [cf. Theorem 2.3,
∼
(ii)]. Then the outomorphism of ΠGi∈E,x ← ΠE/(E\{i}) determined by α is group-theoretically cuspidal [cf. [CmbGC],
Deﬁnition 1.4, (iv)].
(iv) Let α ∈ AutF (Πn ) and c ∈ Cusp(Gi∈E,x ) a diagonal cusp of
∼
Gi∈E,x . Suppose that the outomorphism of ΠGi∈E,x ← ΠE/(E\{i})
determined by α is group-theoretically cuspidal. Then
this outomorphism preserves the ΠGi∈E,x -conjugacy class of
∼
cuspidal subgroups of ΠGi∈E,x ← ΠE/(E\{i}) associated to c ∈
Cusp(Gi∈E,x ).
Proof. Assertion (i) follows immediately from the [easily veriﬁed] fact
that the restriction of pΠ
E/(E\{i}) : ΠE  ΠE\{i} to the normalizer of Πc
in ΠE is surjective. Assertion (ii) follows immediately from the various
deﬁnitions involved. Next, we verify assertion (iii). If E = {1, · · · , n}
(respectively, n ≥ nFC ), then assertion (iii) follows immediately from
[CbTpI], Theorem A, (ii) (respectively, Theorem 2.3, (ii), of the present
monograph), together with assertion (i). This completes the proof of
assertion (iii). Finally, assertion (iv) follows immediately from the
deﬁnition of F-admissibility [cf. also assertion (ii)]. This completes the
proof of Lemma 3.2.

Deﬁnition 3.3. Let E ⊆ {1, · · · , n}.
(i) We shall say that a closed subgroup H ⊆ ΠE of ΠE is a(n)
[E-]tripod of Πn if H is a verticial subgroup of ΠE [cf. Definition 3.1, (iv)] associated to a(n) [E-]tripod v of Xnlog [cf.
Deﬁnition 3.1, (v)]. If, in this situation, the tripod v is cuspsupporting [cf. Deﬁnition 3.1, (v)], then we shall say that the
tripod H is cusp-supporting.

COMBINATORIAL ANABELIAN TOPICS II

55

(ii) We shall say that an E-tripod of Πn [cf. (i)] is trigonal if, for
every j ∈ E, the image of the tripod via pΠ
E/{j} : ΠE  Π{j} is
trivial.
(iii) Let T ⊆ ΠE be an E-tripod of Πn [cf. (i)] and E  ⊆ E. Then

we shall say that T is E  -strict if the image pΠ
E/E  (T ) ⊆ ΠE of
Π

T via pE/E  : ΠE  ΠE  is an E -tripod of Πn , and, moreover,
for every E   E  , the image of the E  -tripod pΠ
E/E  (T ) via
Π
pE  /E  : ΠE   ΠE  is not a tripod of Πn .
(iv) Let h be a positive integer. Then we shall say that an Etripod T of Πn [cf. (i)] is h-descendable if there exists a subset


E  ⊆ E such that the image of T via pΠ
E/E  : ΠE  ΠE is an E tripod of Πn , and, moreover, #E  ≤ n − h. [Thus, one veriﬁes
immediately that an E-tripod T ⊆ ΠE of Πn is 1-descendable
if and only if either E = {1, · · · , n} or T fails to be E-strict
— cf. (iii).]

Remark 3.3.1. In the notation of Deﬁnition 3.1, let v ∈ Vert(Gi∈E,x )
be an E-tripod of Xnlog [cf. Deﬁnition 3.1, (v)] and T ⊆ ΠE an E-tripod
of Πn associated to v [cf. Deﬁnition 3.3, (i)]. Write Fv for the irreducible
component of the geometric ﬁber of pE/(E\{i}) : XE → XE\{i} at xE\{i}
corresponding to v; Fvlog for the log scheme obtained by equipping Fv
with the log structure induced by the log structure of XElog ; nv for the
rank of the group-characteristic of Fvlog [cf. [MzTa], Deﬁnition 5.1, (i)]
at the generic point of Fv . Then it is immediate that the nv -interior
Uv ⊆ Fv of Fvlog [cf. [MzTa], Deﬁnition 5.1, (i)] is a nonempty open
subset of Fv which is isomorphic to P1k \ {0, 1, ∞} over k. Moreover,
one veriﬁes easily that if we write Uvlog for the log scheme obtained by
equipping Uv with the log structure induced by the log structure of XElog ,
then the natural morphism Uvlog → Uv [obtained by forgetting the log
∼
structure of Uvlog ] determines a natural outer isomorphism T → π1Σ (Uv )
— where we write “π1Σ (−)” for the maximal pro-Σ quotient of the étale
fundamental group of “(−)”. In particular, we obtain a natural outer
isomorphism
∼
T −→ π1Σ (P1k \ {0, 1, ∞})
that is well-deﬁned up to composition with an outomorphism of π1Σ (P1k \
{0, 1, ∞}) that arises from an automorphism of P1k \ {0, 1, ∞} over k.
Deﬁnition 3.4. Let E ⊆ {1, · · · , n}.
(i) Let T ⊆ ΠE be an E-tripod of Πn [cf. Deﬁnition 3.3, (i)].
Then T may be regarded as the “Π1 ” that occurs in the case

56

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

where we take “X log ” to be the smooth log curve associated to
P1k \ {0, 1, ∞} [cf. Remark 3.3.1]. We shall write
OutC (T ) ⊆ Out(T )
for the [closed] subgroup of Out(T ) consisting of C-admissible
outomorphisms of T [cf. [CmbCsp], Deﬁnition 1.1, (ii)];
OutC (T )cusp ⊆ OutC (T )
for the [closed] subgroup of Out(T ) consisting of C-admissible
outomorphisms of T that induce the identity automorphism of
the set of T -conjugacy classes of cuspidal inertia subgroups;
Out(T )Δ ⊆ Out(T )
for the centralizer of the subgroup [≃ S3 , where we write S3
for the symmetric group on 3 letters] of Out(T ) consisting of
the outer modular symmetries [cf. [CmbCsp], Deﬁnition 1.1,
(vi)];
Out(T )+ ⊆ Out(T )
for the [closed] subgroup of Out(T ) given by the image of the
natural homomorphism OutF (T2 ) = OutFC (T2 ) → Out(T ) [cf.
Theorem 2.3, (ii); [CmbCsp], Proposition 1.2, (iii)] — where
we write T2 for the “Π2 ” that occurs in the case where we take
“X log ” to be the smooth log curve associated to P1k \ {0, 1, ∞};
def

OutC (T )Δ = OutC (T ) ∩ Out(T )Δ ;
def

OutC (T )Δ+ = OutC (T )Δ ∩ Out(T )+
[cf. [CmbCsp], Deﬁnition 1.11, (i)].
(ii) Let E  ⊆ {1, · · · , n}; let T ⊆ ΠE , T  ⊆ ΠE  be E-, E  -tripods of
Πn [cf. Deﬁnition 3.3, (i)], respectively. Then we shall say that
∼
an outer isomorphism α : T → T  is geometric if the composite
∼

α
∼

∼

π1Σ (P1k \ {0, 1, ∞}) ←− T −→ T  −→ π1Σ (P1k \ {0, 1, ∞})
— where the ﬁrst and third arrows are natural outer isomorphisms of the sort discussed in Remark 3.3.1 — arises from an
automorphism of P1k \ {0, 1, ∞} over k.

Remark 3.4.1. In the notation of Deﬁnition 3.4, (ii), one veriﬁes easily
∼
that every geometric outer isomorphism α : T → T  preserves cuspidal
inertia subgroups and outer modular symmetries [cf. [CmbCsp], Deﬁ∼
nition 1.1, (vi)], and, moreover, lifts to an outer isomorphism T2 → T2
[i.e., of the corresponding “Π2 ’s”] that arises from an isomorphism of

COMBINATORIAL ANABELIAN TOPICS II

57

two-dimensional conﬁguration spaces. In particular, the isomorphism
∼
Out(T ) → Out(T  ) induced by α determines isomorphisms
∼

∼

OutC (T ) −→ OutC (T  ) , OutC (T )cusp −→ OutC (T  )cusp ,
∼

∼

Out(T )Δ −→ Out(T  )Δ , Out(T )+ −→ Out(T  )+
[cf. Deﬁnition 3.4, (i)].

Lemma 3.5 (Triviality of the action on the set of cusps). In the
notation of Deﬁnition 3.4, it holds that OutC (T )Δ ⊆ OutC (T )cusp .
Proof. This follows immediately from the [easily veriﬁed] fact that S3
is center-free, together with the various deﬁnitions involved.


Lemma 3.6 (Vertices, cusps, and nodes of various ﬁbers). Let i,
j ∈ E be two distinct elements of a subset E ⊆ {1, · · · , n}; x ∈ Xn (k).
Write zi,j,x ∈ VCN(Gj∈E\{i},x ) for the element of VCN(Gj∈E\{i},x ) on
which xE\{i} lies, that is to say: If xE\{i} is a cusp or node of the geolog
log
metric ﬁber of the projection plog
(E\{i})/(E\{i,j}) : XE\{i} → XE\{i,j} over
def

xlog
E\{i,j} corresponding to an edge e ∈ Edge(Gj∈E\{i},x ), then zi,j,x = e;
if xE\{i} is neither a cusp nor a node of the geometric ﬁber of the prolog
log
log
jection plog
(E\{i})/(E\{i,j}) : XE\{i} → XE\{i,j} over xE\{i,j} , but lies on the
irreducible component of the geometric ﬁber corresponding to a vertex
def
v ∈ Vert(Gj∈E\{i},x ), then zi,j,x = v. Then the following hold:
(i) The automorphism of XElog determined by permuting the factors
labeled i, j induces natural bijections
∼

Vert(Gj∈E\{i},x ) −→ Vert(Gi∈E\{j},x ) ;
∼

Cusp(Gj∈E\{i},x ) −→ Cusp(Gi∈E\{j},x ) ;
∼

Node(Gj∈E\{i},x ) −→ Node(Gi∈E\{j},x ) .
(ii) Let us write
cdiag
i,j,x ∈ Cusp(Gi∈E,x )
for the diagonal cusp of Gi∈E,x [cf. Deﬁnition 3.1, (vi)] lalog
beled j ∈ E\{i} [cf. Lemma 3.2, (ii)]. Then plog
E/(E\{j}) : XE →
log
XE\{j}
induces a bijection
∼

Cusp(Gi∈E,x ) \ {cdiag
i,j,x } −→ Cusp(Gi∈E\{j},x ) .

58

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
log
(iii) Suppose that zi,j,x ∈ Vert(Gj∈E\{i},x ). Then plog
E/(E\{j}) : XE →
log
XE\{j}
induces a bijection
∼

Vert(Gi∈E,x ) → Vert(Gi∈E\{j},x ) .
(iv) Suppose that zi,j,x ∈ Edge(Gj∈E\{i},x ). Then there exists a
unique vertex
new
vi,j,x
∈ Vert(Gi∈E,x )
log
log
such that plog
E/(E\{j}) : XE → XE\{j} induces a bijection
∼

new
Vert(Gi∈E,x ) \ {vi,j,x
} → Vert(Gi∈E\{j},x ) .
new
new
is of type (0, 3) [i.e., vi,j,x
is an E-tripod
Moreover, vi,j,x
diag
log
new
of Xn — cf. Deﬁnition 3.1, (v)], and ci,j,x ∈ C(vi,j,x
) [cf.
new
(ii)]. Finally, any verticial subgroup of ΠE associated to vi,j,x
surjects, via pΠ
E/(E\{j}) , onto an edge-like subgroup of ΠE\{j}
associated to the edge ∈ Edge(Gi∈E\{j},x ) determined by zi,j,x ∈
Edge(Gj∈E\{i},x ) via the bijections of (i).

(v) Suppose that #E = 3. Write h ∈ E \ {i, j} for the unique
element of E \ {i, j}. Suppose, moreover, that zi,j,x = cdiag
j,h,x ∈
Cusp(Gj∈E\{i},x ) [cf. (ii)]. Then the ΠE -conjugacy class of
new
∈
a verticial subgroup of ΠE associated to the vertex vi,j,x
Vert(Gi∈E,x ) [cf. (iv)] depends only on i and not on the
choice of the pair (j, x). Moreover, these three ΠE -conjugacy
classes [cf. the dependence on the choice of i ∈ E] may also
be characterized uniquely as the ΠE -conjugacy classes of subgroups of ΠE associated to some trigonal E-tripod of Πn [cf.
Deﬁnition 3.3, (ii)].
Proof. First, we verify assertions (i), (ii), (iii), and (iv). To verify assertions (i), (ii), (iii), and (iv) — by replacing XElog by the base-change
log
log
of plog
→ XE\{i,j}
via a suitable morphism of log schemes
E\{i,j} : XE
log
(Spec k)log → XE\{i,j}
whose image lies on xE\{i,j} ∈ XE\{i,j} (k) [cf.
Deﬁnition 3.1, (i)] — we may assume without loss of generality that
#E = 2. Then one veriﬁes easily from the various deﬁnitions involved
that assertions (i), (ii), (iii), and (iv) hold. This completes the proof
of assertions (i), (ii), (iii), and (iv). Finally, we consider assertion (v).
First, we observe the easily veriﬁed fact [cf. assertions (iii), (iv)] that
the irreducible component corresponding to an E-tripod of Xnlog [cf.
Deﬁnition 3.1, (v)] that gives rise to a trigonal E-tripod of Πn necessarily collapses to a point upon projection to XE  for any E  ⊆ E of
cardinality ≤ 2. In light of this observation, it follows immediately [cf.
assertions (i), (ii), (iii), (iv)] that any E-tripod of Xnlog that gives rise to
new
” as described in the
a trigonal E-tripod of Πn arises as a vertex “vi,j,x

COMBINATORIAL ANABELIAN TOPICS II

59

statement of assertion (v). Now the remainder of assertion (v) follows
immediately from the various deﬁnitions involved [cf. also the situation discussed in [CmbCsp], Deﬁnition 1.8, Proposition 1.9, Corollary
1.10, as well as the discussion, concerning specialization isomorphisms,
preceding [CmbCsp], Deﬁnition 2.1; [CbTpI], Remark 5.6.1]. This completes the proof of Lemma 3.6.

Deﬁnition 3.7. Let E ⊆ {1, · · · , n}.
(i) Let v be an E-tripod of Xnlog [cf. Deﬁnition 3.1, (v)]; thus, v
belongs to Vert(Gi∈E,x ) for some choice of i ∈ E and x ∈ Xn (k).
Let j ∈ E \ {i} and e ∈ Edge(Gj∈E\{i},x ). Then we shall say
that v, or equivalently, an E-tripod of Πn associated to v [cf.
Deﬁnition 3.3, (i)], arises from e if e = zi,j,x [cf. the statement
new
[cf. Lemma 3.6, (iv)].
of Lemma 3.6], and v = vi,j,x
(ii) Let i ∈ E. Then we shall say that an E-tripod of Πn is i-central
if #E = 3, and, moreover, the tripod is a verticial subgroup
of the sort discussed in Lemma 3.6, (v), i.e., the unique, up to
ΠE -conjugacy, trigonal E-tripod of Πn contained in ΠE/(E\{i})
[cf. the ﬁnal portion of Lemma 3.6, (iv)]. We shall say that an
E-tripod of Πn is central if it is j-central for some j ∈ E.
Remark 3.7.1. Let E ⊆ {1, · · · , n}; T ⊆ ΠE an E-tripod of Πn [cf.
Deﬁnition 3.3, (i)]; σ ∈ Sn ⊆ Out(Πn ) [cf. the discussion at the
beginning of the present §3]; σ
 ∈ Aut(Πn ) a lifting of σ ∈ Sn ⊆
Out(Πn ). Write
T σ ⊆ Πσ(E)
∼

for the image of T ⊆ ΠE by the isomorphism ΠE → Πσ(E) determined
by σ
 ∈ Aut(Πn ).
(i) One veriﬁes easily that T σ ⊆ Πσ(E) is a σ(E)-tripod of Πn .
(ii) If, moreover, the equality #E = 3 holds, and T is i-central
[cf. Deﬁnition 3.7, (ii)] for some i ∈ E, then one veriﬁes easily
from Lemma 3.6, (v), that T σ ⊆ Πσ(E) is σ(i)-central.
(iii) In the situation of (ii), let T  ⊆ ΠE be a central E-tripod of
Πn . Then it follows from Lemma 3.6, (v), that there exist an
element τ ∈ Sn ⊆ Out(Πn ) and a lifting τ ∈ Aut(Πn ) of τ such
that τ preserves the subset E ⊆ {1, · · · , n}, and, moreover, the
image of T ⊆ ΠE by the automorphism of ΠE determined by
τ ∈ Aut(Πn ) coincides with T  ⊆ ΠE .

60

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Lemma 3.8 (Strict tripods). Let E ⊆ {1, · · · , n} and T ⊆ ΠE an Etripod of Πn [cf. Deﬁnition 3.3, (i)] that arises as a verticial subgroup
associated to a vertex v ∈ Vert(Gi∈E,x ) for some i ∈ {1, · · · , n} [which
thus implies that T ⊆ ΠE/(E\{i}) ⊆ ΠE ]. Then the following hold:
(i) There exists a [not necessarily unique!] subset E  ⊆ E such
that T is E  -strict [cf. Deﬁnition 3.3, (iii)]. In this situation,

i ∈ E, and, moreover, pΠ
E/E  : ΠE  ΠE induces an isomor∼
phism T → TE  onto an E  -tripod TE  of Πn .
(ii) T is E-strict if and only if one of the following conditions is
satisﬁed:
(1) #E = 1.
(2C ) #E = 2; T ⊆ ΠE is a verticial subgroup of ΠE associated
new
∈ Vert(Gi∈E,x ) of Lemma 3.6, (iv), for
to the vertex vi,j,x
some choice of (i, j, x) such that zi,j,x ∈ Cusp(Gj∈E\{i},x ).
[In particular, T arises from zi,j,x ∈ Cusp(Gj∈E\{i},x ) —
cf. Deﬁnition 3.7, (i).]
(2N ) #E = 2; T ⊆ ΠE is a verticial subgroup of ΠE associated
new
∈ Vert(Gi∈E,x ) of Lemma 3.6, (iv), for
to the vertex vi,j,x
some choice of (i, j, x) such that zi,j,x ∈ Node(Gj∈E\{i},x ).
[In particular, T arises from zi,j,x ∈ Node(Gj∈E\{i},x ) —
cf. Deﬁnition 3.7, (i).]
(3) #E = 3, and T is central [cf. Deﬁnition 3.7, (ii)].
(iii) Suppose that T is trigonal [cf. Deﬁnition 3.3, (ii)]. Then
there exists a [not necessarily unique!] subset E  ⊆ E such
that #E  = 3, and, moreover, the image of T ⊆ ΠE via

pΠ
E/E  : ΠE  ΠE is a central tripod.
Proof. Assertion (i) follows immediately from the various deﬁnitions
involved by induction on #E , together with the well-known elementary fact that any surjective endomorphism of a topologically ﬁnitely
generated proﬁnite group is necessarily bijective. Next, we verify assertion (ii). First, let us observe that suﬃciency is immediate. Thus,
it remains to verify necessity. Suppose that T is E-strict. Now one
veriﬁes easily that if there exists an element j ∈ E \ {i} such that
cdiag
i,j,x ∈ C(v) [cf. Lemma 3.6, (ii)], then it follows immediately that the
image of T ⊆ ΠE via pΠ
E/(E\{j}) : ΠE  ΠE\{j} is an (E \ {j})-tripod
[cf. also Lemma 3.6, (iii), (iv)]. Thus, since T is E-strict, we conclude
that every cusp of Gi∈E,x that is ∈ C(v) is non-diagonal. In particular,
since v is of type (0, 3), it follows immediately from Lemma 3.2, (ii),
that 0 ≤ #E − 1 ≤ #C(v) ≤ 3. If #C(v) = 0, then it follows from the
inequality #E −1 ≤ #C(v) that #E = 1, i.e., condition (1) is satisﬁed.
If #C(v) = 3, then one veriﬁes easily that #E = 1, i.e., condition (1)

COMBINATORIAL ANABELIAN TOPICS II

61

is satisﬁed. Thus, it remains to verify assertion (ii) in the case where
#C(v) ∈ {1, 2}.
Suppose that #C(v) = 1 and #E = 1. Then it follows immediately
from the inequality #E−1 ≤ #C(v) that #E = 2. Now let us recall [cf.
Lemma 3.2, (ii)] that the number of diagonal cusps of Gi∈E,x is = #E −
1 = 1. Moreover, the unique cusp on v is the unique diagonal cusp of
Gi∈E,x [cf. the argument of the preceding paragraph]. Thus, one veriﬁes
easily that T satisﬁes condition (2N ). Next, suppose that #C(v) = 2
and #E = 1. Then it follows immediately from the inequality #E−1 ≤
#C(v) that #E ∈ {2, 3}. Now let us recall [cf. Lemma 3.2, (ii)] that if
#E = 2 (respectively, #E = 3), then the number of diagonal cusps of
Gi∈E,x is = #E−1, i.e., 1 (respectively, 2). Moreover, the set of diagonal
cusp(s) of Gi∈E,x is contained in (respectively, is equal to) C(v) [cf. the
argument of the preceding paragraph]. Thus, one veriﬁes easily that T
satisﬁes condition (2C ) (respectively, (3)). This completes the proof of
assertion (ii).
Finally, we verify assertion (iii). It follows from assertion (i) that
there exists a subset E  ⊆ E such that T is E  -strict. Moreover, it
follows immediately from the deﬁnition of a trigonal tripod that the

E  -tripod given by the image pΠ
E/E  (T ) ⊆ ΠE is trigonal. On the other
hand, if the E  -tripod pΠ
E/E  (T ) satisﬁes any of conditions (1), (2C ), (2N )
of assertion (ii), then one veriﬁes easily that pΠ
E/E  (T ) is not trigonal [cf.
Π
the ﬁnal portion of Lemma 3.6, (iv)]. Thus, pE/E  (T ) satisﬁes condition
(3) of assertion (ii); in particular, pΠ
E/E  (T ) is central. This completes
the proof of assertion (iii).

Lemma 3.9 (Generalities on normalizers and commensurators). Let G be a proﬁnite group, N ⊆ G a normal closed subgroup
of G, and H ⊆ G a closed subgroup of G. Then the following hold:
(i) It holds that CG (H) ⊆ CG (H ∩ N ).
(ii) It holds that CG (H) ⊆ NG (ZGloc (H)) [cf. the discussion entitled
“Topological groups” in “Notations and Conventions”].
(iii) Suppose that H ⊆ N . Then it holds that CG (H) ⊆ NG (CN (H)).
In particular, if, moreover, H is commensurably terminal
in N , then it holds that CG (H) = NG (H).
def

def

(iv) Write H = H/(H ∩ N ) ⊆ G = G/N . If H ∩ N is commensurably terminal in N , and the image of CG (H) ⊆ G in G
is contained in NG (H), then CG (H) = NG (H).
Proof. Assertion (i) follows immediately from the various deﬁnitions
involved. Next, we verify assertion (ii). Let g ∈ CG (H) and a ∈
ZGloc (H). Since ZGloc (H) = ZGloc (H ∩ (g −1 · H · g)) = ZGloc (g −1 · H · g),

62

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

there exists an open subgroup U ⊆ H of H such that a ∈ ZG (g −1 ·U ·g).
But this implies that gag −1 ∈ ZG (U ) ⊆ ZGloc (H). This completes the
proof of assertion (ii). Next, we verify assertion (iii). Let g ∈ CG (H)
and a ∈ CN (H). Since CN (H) ⊆ CG (H) = CG (H ∩ (g −1 · H · g)) =
CG (g −1 · H · g), we conclude that ag −1 · H · ga−1 is commensurate
with g −1 · H · g. In particular, gag −1 · H · ga−1 g −1 is commensurate
with H, i.e., gag −1 ∈ CG (H) ∩ N = CN (H). This completes the
proof of assertion (iii). Finally, we verify assertion (iv). First, we
observe that since H ∩ N is commensurably terminal in N , one veriﬁes
easily that H = NH·N (H ∩ N ). Let g ∈ CG (H). Then since the
image of CG (H) ⊆ G in G is contained in NG (H), it is immediate that
g · H · g −1 ⊆ H · N . On the other hand, again by applying the fact that
H ∩ N is commensurably terminal in N , we conclude immediately from
assertions (i), (iii), that CG (H) ⊆ CG (H ∩ N ) = NG (H ∩ N ). Thus,
we obtain that (g · H · g −1 ) ∩ N = H ∩ N ; in particular, g · H · g −1 ⊆
NH·N ((g · H · g −1 ) ∩ N ) = NH·N (H ∩ N ) = H, i.e., g ∈ NG (H). This
completes the proof of assertion (iv).

Lemma 3.10 (Restrictions of outomorphisms). Let G be a proﬁnite group and H ⊆ G a closed subgroup of G. Write OutH (G) ⊆
Out(G) for the group of outomorphisms of G that preserve the Gconjugacy class of H. Suppose that the homomorphism NG (H) →
Aut(H) determined by conjugation factors through Inn(H) ⊆ Aut(H).
Then the following hold:
(i) For α ∈ OutH (G), let us write α|H for the outomorphism of H
determined by the restriction to H ⊆ G of a lifting α
 ∈ Aut(G)
of α such that α
(H) = H. Then α|H does not depend on the
choice of the lifting “
α”, and the map
OutH (G) −→ Out(H)
given by assigning α → α|H is a group homomorphism.
(ii) The homomorphism
OutH (G) −→ Out(H)
of (i) depends only on the G-conjugacy class of the closed
def
subgroup H ⊆ G, i.e., if we write H γ = γ · H · γ −1 for γ ∈ G,
then the diagram
OutH (G) −−−→ Out(H)
⏐
⏐

γ

OutH (G) −−−→ Out(H γ )
— where the upper (respectively, lower) horizontal arrow is
the homomorphism given by mapping α → α|H (respectively,

COMBINATORIAL ANABELIAN TOPICS II

63

α → α|H γ ), and the right-hand vertical arrow is the isomor∼
phism obtained by conjugation via the isomorphism H → H γ
determined by conjugation by γ ∈ G — commutes.
Proof. Assertion (i) follows immediately from our assumption that the
homomorphism NG (H) → Aut(H) determined by conjugation factors
through Inn(H) ⊆ Aut(H), together with the various deﬁnitions involved. Assertion (ii) follows immediately from the various deﬁnitions
involved. This completes the proof of Lemma 3.10.


Lemma 3.11 (Commensurator of a tripod arising from an
edge). In the notation of Lemma 3.6, suppose that (j, i) = (1, 2);
E = {i, j}; zi,j,x ∈ Edge(Gj∈E\{i},x ). [Thus, Gj∈E\{i},x = Gi∈E\{j},x = G;
∼
∼
Π2 = ΠE ; Π1 = Π{j} → ΠGj∈E\{i},x = ΠG ; Π2/1 = ΠE/(E\{i}) → ΠGi∈E,x .]
def

def

def

def

Π
Write G2/1 = Gi∈E,x ; G1\2 = Gj∈E,x ; pΠ
1\2 = pE/{2} : Π2  Π{2} ; Π1\2 =
∼

def

def

diag
= cdiag
Ker(pΠ
i,j,x ∈
1\2 ) = ΠE/{2} → ΠG1\2 ; zx = zi,j,x ∈ Edge(G); c
def

def

new
new
= vi,j,x
∈ Vert(G2/1 )
Cusp(G2/1 ) [cf. Lemma 3.6, (ii)]; v new = v2/1
new
[cf. Lemma 3.6, (iv)]; v1\2 ∈ Vert(G1\2 ) for the vertex that corresponds
∼
to v new ∈ Vert(G2/1 ) via the natural bijection Vert(G2/1 ) → Vert(G1\2 )
induced by the automorphism of XElog determined by permuting the factors labeled i, j; Y → XE for the base-change — by the morphism
log
XE → X{1} ×k X{2} = X ×k X determined by plog
E/{1} and pE/{2} — of
the geometric point of X{1} ×k X{2} = X ×k X determined by the geometric points x{1} of X{1} = X and x{1} of X{2} = X of Deﬁnition 3.1, (i)
[i.e., as opposed to the geometric point of X{1} ×k X{2} = X ×k X determined by the geometric points x{1} of X{1} = X and x{2} of X{2} = X];
Y log for the log scheme obtained by equipping Y with the log structure
induced by the log structure of XElog ; U ⊆ Y for the 2-interior of Y log
[cf. [MzTa], Deﬁnition 5.1, (i)]; U log for the log scheme obtained by
equipping U with the log structure induced by the log structure of XElog ;
ΠU for the maximal pro-Σ quotient of the kernel of the natural surjection π1 (U log )  π1 ((Spec k)log ). [Thus, one veriﬁes easily that Y is
isomorphic to P1k ; that the complement Y \U consists of three closed
new
new
and v1\2
correspond to the closed
points of Y ; that the vertices v2/1
irreducible subscheme Y ⊆ XE ; and that the point corresponding to the
cusp cdiag is contained in Y — cf. Lemma 3.6, (iv).] Let Πzx ⊆ Π1 be
an edge-like subgroup associated to zx ∈ Edge(G); Πcdiag ⊆ Π2/1 ∩ Π1\2
a cuspidal subgroup associated to cdiag ; Πvnew ⊆ Π2/1 a verticial subdef

new = Πv new ;
group associated to v new that contains Πcdiag ⊆ Π2 ; Πv2/1
new
new ⊆ Π1\2 a verticial subgroup associated to v
Πv1\2
1\2 that contains

def

def

Πcdiag ⊆ Π2 . Write Π2 |zx = Π2 ×Π1 Πzx ⊆ Π2 ; Dcdiag = NΠ2 (Πcdiag );

64

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
def

def

Ivnew |zx = ZΠ2 |zx (Πvnew ) ⊆ Dvnew |zx = NΠ2 |zx (Πvnew ). Then the following hold:
(i) It holds that Dcdiag ∩ Π2/1 = Dcdiag ∩ Π1\2 = CΠ2 (Πcdiag ) ∩ Π2/1 =
CΠ2 (Πcdiag ) ∩ Π1\2 = Πcdiag .
(ii) It holds that CΠ2 (Πcdiag ) = Dcdiag .
Π
(iii) The surjections pΠ
2/1 : Π2  Π1 , p1\2 : Π2  Π{2} determine
∼
∼
isomorphisms Dcdiag /Πcdiag → Π1 , Dcdiag /Πcdiag → Π{2} , respectively, such that the resulting composite outer isomorphism
∼
Π1 → Π{2} is the identity outer isomorphism.

(iv) The natural inclusions Πvnew , Ivnew |zx → Dvnew |zx determine
∼
an isomorphism Πvnew × Ivnew |zx → Dvnew |zx = CΠ2 |zx (Πvnew ).
Moreover, the composite Ivnew |zx → Dvnew |zx → Πzx is an isomorphism.
(v) It holds that CΠ2 (Dvnew |zx ) ⊆ CΠ2 (Πvnew ).
(vi) Dvnew |zx is commensurably terminal in Π2 , i.e., it holds
that Dvnew |zx = CΠ2 (Dvnew |zx ).
(vii) It holds that ZΠ2 (Πvnew ) = ZΠloc2 (Πvnew ) = Ivnew |zx . Moreover,
these proﬁnite groups are isomorphic to ZΣ [cf. the discussion
entitled “Numbers” in [CbTpI], §0].
(viii) It holds that CΠ2 (Πvnew ) = Dvnew |zx = Πvnew × ZΠ2 (Πvnew ). In
particular, the equality CΠ2 (Πvnew ) = NΠ2 (Πvnew ) holds.
(ix) It holds that Z(CΠ2 (Πvnew )) = ZΠ2 (Πvnew ).
(x) It holds that
new ) ∩ Π2/1 = Πv new ,
CΠ2 (Πv2/1
2/1

new ) ∩ Π1\2 = Πv new ,
CΠ2 (Πv1\2
1\2

new ) = CΠ (Πv new ) .
CΠ2 (Πv2/1
2
1\2

Moreover, for suitable choices of basepoints of the log schemes
U log and XElog , the natural morphism U log → XElog induces an
∼
new ) = CΠ (Πv new ).
isomorphism ΠU → CΠ2 (Πv2/1
2
1\2
Proof. First, we verify assertion (i). Now it is immediate that we have
inclusions Πcdiag ⊆ Dcdiag ⊆ CΠ2 (Πcdiag ). In particular, since Πcdiag is
commensurably terminal in Π2/1 and Π1\2 [cf. [CmbGC], Proposition
1.2, (ii)], we obtain that Πcdiag ⊆ Dcdiag ∩ Π2/1 ⊆ CΠ2 (Πcdiag ) ∩ Π2/1 =
CΠ2/1 (Πcdiag ) = Πcdiag ; Πcdiag ⊆ Dcdiag ∩ Π1\2 ⊆ CΠ2 (Πcdiag ) ∩ Π1\2 =
CΠ1\2 (Πcdiag ) = Πcdiag . This completes the proof of assertion (i). Assertions (ii), (iii) follow immediately from assertion (i), together with

COMBINATORIAL ANABELIAN TOPICS II

65
pΠ
2/1

the [easily veriﬁed] fact that the composites Dcdiag → Π2  Π1 and
pΠ
1\2

Dcdiag → Π2  Π{2} are surjective.
Next, we verify assertion (iv). It follows immediately from the various deﬁnitions involved — by considering a suitable stable log curve of
type (g, r) over (Spec k)log and applying a suitable specialization isomorphism [cf. the discussion preceding [CmbCsp], Deﬁnition 2.1, as
well as [CbTpI], Remark 5.6.1] — that, to verify assertion (iv), we
may assume without loss of generality that Cusp(G) ∪ {zx } = Edge(G).
Then, in light of the well-known local structure of X log in a neighborhood of the node or cusp corresponding to zx , one veriﬁes easily
∼
that the outer action Πzx → Out(Π2/1 ) → Out(ΠG2/1 ) arising from the
natural exact sequence
1 −→ Π2/1 −→ Π2 |zx −→ Πzx −→ 1
is of SNN-type [cf. [NodNon], Deﬁnition 2.4, (iii)], hence, in particular, that the composite Ivnew |zx → Dvnew |zx → Πzx is an isomorphism. Thus, assertion (iv) follows immediately from [NodNon], Remark 2.7.1, together with the commensurable terminality of Πvnew in
Π2/1 [cf. [CmbGC], Proposition 1.2, (ii)] and the fact that the composite Dvnew |zx → Π2 |zx  Πzx is surjective. This completes the proof of
assertion (iv).
Next, we verify assertion (v). It follows immediately from assertion (iv), together with the commensurable terminality of Πvnew in Π2/1
[cf. [CmbGC], Proposition 1.2, (ii)], that Dvnew |zx ∩ Π2/1 = Πvnew .
Thus, since Π2/1 is normal in Π2 , assertion (v) follows immediately
from Lemma 3.9, (i). This completes the proof of assertion (v).
Next, we verify assertion (vi). Since the image of the composite
pΠ
2/1

Dvnew |zx → Π2  Π1 coincides with Πzx ⊆ Π1 [cf. assertion (iv)], and
Πzx ⊆ Π1 is commensurably terminal in Π1 [cf. [CmbGC], Proposition
1.2, (ii)], it follows immediately that CΠ2 (Dvnew |zx ) ⊆ Π2 |zx . In particular, it follows immediately from assertions (iv), (v) that Dvnew |zx ⊆
CΠ2 (Dvnew |zx ) ⊆ CΠ2 (Πvnew ) ∩ Π2 |zx = CΠ2 |zx (Πvnew ) = Dvnew |zx . This
completes the proof of assertion (vi).
Next, we verify assertion (vii). It follows from assertion (iv) and
[CmbGC], Remark 1.1.3, that Ivnew |zx is isomorphic to ZΣ . Moreover,
it follows from the various deﬁnitions involved that we have inclusions
Ivnew |zx ⊆ ZΠ2 (Πvnew ) ⊆ ZΠloc2 (Πvnew ). Thus, to verify assertion (vii), it
suﬃces to verify that ZΠloc2 (Πvnew ) ⊆ Ivnew |zx . To this end, let us observe that it follows immediately from the ﬁnal portion of Lemma 3.6,
∼
new ) ⊆ Π{2} → ΠG is an edge-like subgroup
(iv), that the image pΠ
1\2 (Πv
∼
of Π{2} → ΠG associated to zx ∈ Edge(G). Thus, since every edgelike subgroup is commensurably terminal [cf. [CmbGC], Proposition

66

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
∼

loc
new )) ⊆ Π{2} → ΠG
1.2, (ii)], it follows that the image pΠ
1\2 (ZΠ2 (Πv
∼
is contained in an edge-like subgroup of Π{2} → ΠG associated to
zx ∈ Edge(G). On the other hand, since Πcdiag ⊆ Πvnew , we have
ZΠloc2 (Πvnew ) ⊆ ZΠloc2 (Πcdiag ) ⊆ CΠ2 (Πcdiag ) = Dcdiag [cf. assertion (ii)].
In particular, it follows immediately from assertion (iii), together with
the fact [cf. assertion (iv)] that Ivnew |zx ⊆ ZΠloc2 (Πvnew ) surjects onto
loc
new )) ⊆ Π1 is
Πzx [cf. also [NodNon], Lemma 1.5], that pΠ
2/1 (ZΠ2 (Πv
loc
contained in Πzx ⊆ Π1 , i.e., ZΠ2 (Πvnew ) ⊆ Π2 |zx . Thus, it follows immediately from assertion (iv), together with the slimness of Πvnew [cf.
[CmbGC], Remark 1.1.3], that ZΠloc2 (Πvnew ) ⊆ Ivnew |zx . This completes
the proof of assertion (vii).
Next, we verify assertion (viii). It follows from assertion (vii), together with Lemma 3.9, (ii), that CΠ2 (Πvnew ) ⊆ NΠ2 (Ivnew |zx ). In particular, since Dvnew |zx is generated by Πvnew , Ivnew |zx [cf. assertion (iv)],
it follows immediately that (Dvnew |zx ⊆) CΠ2 (Πvnew ) ⊆ CΠ2 (Dvnew |zx ).
Thus, the ﬁrst equality of assertion (viii) follows from assertion (vi); the
second equality of assertion (viii) follows immediately from assertions
(iv), (vii). This completes the proof of assertion (viii).
Next, we verify assertion (ix). Let us recall from [CmbGC], Remark
1.1.3, that Πvnew is slim. Thus, assertion (ix) follows from assertion
(viii), together with the ﬁnal portion of assertion (vii). This completes
the proof of assertion (ix).
Finally, we verify assertion (x). The ﬁrst two equalities follow from
[CmbGC], Proposition 1.2, (ii). Next, let us observe that since [it is immediate that] the automorphism of XElog determined by permuting the
new
new
factors labeled i, j stabilizes U , but permutes v2/1
and v1\2
, one veriﬁes
immediately that, to verify assertion (x), it suﬃces to verify that, for
suitable choices of basepoints of the log schemes U log and XElog , the nat∼
ural morphism U log → XElog induces an isomorphism ΠU → CΠ2 (Πvnew )
new
new )). To this end, let us observe that since the vertex v
(= CΠ2 (Πv2/1
corresponds to the closed irreducible subscheme Y ⊆ XE [cf. the discussion following the deﬁnition of ΠU in the statement of Lemma 3.11],
it follows immediately from the various deﬁnitions involved that, for
suitable choices of basepoints of the log schemes U log and XElog , the
natural morphism U log → XElog gives rise to a commutative diagram

1 −−−→ ΠU/zx −−−→
⏐
⏐


ΠU
⏐
⏐


−−−→ Πzx −−−→ 1

1 −−−→ Πvnew −−−→ Dvnew |zx −−−→ Πzx −−−→ 1
— where we write ΠU/zx for the kernel of the natural surjection ΠU 
Πzx ; the horizontal sequences are exact; the exactness of the lower
horizontal sequence follows from assertion (iv); the left-hand vertical
arrow is an isomorphism. Thus, it follows from assertion (viii) that,

COMBINATORIAL ANABELIAN TOPICS II

67

for suitable choices of basepoints of the log schemes U log and XElog ,
∼
the natural morphism U log → XElog induces an isomorphism ΠU →
Dvnew |zx = CΠ2 (Πvnew ), as desired. This completes the proof of assertion
(x), hence also of Lemma 3.11.

The ﬁrst item of the following result [i.e., Lemma 3.12, (i)] is, along
with its proof, a routine generalization of [CmbCsp], Corollary 1.10,
(ii).
Lemma 3.12 (Commensurator of a tripod). Let E ⊆ {1, · · · , n}
and T ⊆ ΠE an E-tripod of Πn [cf. Deﬁnition 3.3, (i)]. Then the
following hold:
(i) It holds that CΠE (T ) = T ×ZΠE (T ). Thus, if an outomorphism
α of ΠE preserves the ΠE -conjugacy class of T , then one may
deﬁne α|T ∈ Out(T ) [cf. Lemma 3.10, (i)].
(ii) Suppose that n = #E = 3, and that T is central [cf. Deﬁnition 3.7, (ii)]. Let T  ⊆ ΠE = Πn be a central E-tripod
of Πn . Then CΠn (T ) (respectively, NΠn (T ); ZΠn (T )) is a Πn conjugate of CΠn (T  ) (respectively, NΠn (T  ); ZΠn (T  )).
Proof. Let i ∈ E; x ∈ Xn (k); v ∈ Vert(Gi∈E,x ) be such that v is of
type (0, 3), and, moreover, T is a verticial subgroup of ΠE associated
to v ∈ Vert(Gi∈E,x ). [Thus, we have an inclusion T ⊆ ΠE/(E\{i}) ⊆ ΠE
— cf. Deﬁnition 3.1, (iv).]
First, we verify assertion (i). Since T ⊆ ΠE/(E\{i}) ⊆ ΠE , and T is
commensurably terminal in ΠE/(E\{i}) [cf. [CmbGC], Proposition 1.2,
(ii)], it follows from Lemma 3.9, (iii), that CΠE (T ) = NΠE (T ). Thus,
in light of the slimness of T [cf. [CmbGC], Remark 1.1.3], to verify assertion (i), it suﬃces to verify that the natural outer action of
NΠE (T ) on T is trivial. To this end, let E  ⊆ E be such that T is
E  -strict [cf. Lemma 3.8, (i)]; write TE  ⊆ ΠE  for the image of T via

pΠ
E/E  : ΠE  ΠE . Then it is immediate that the image of NΠE (T )
Π
via pE/E  : ΠE  ΠE  is contained in NΠE (TE  ), and that the natural
surjection T  TE  is an isomorphism [cf. Lemma 3.8, (i)]. Thus, one
veriﬁes easily — by replacing E, T by E  , TE  , respectively — that,
to verify that the natural outer action of NΠE (T ) on T is trivial, we
may assume without loss of generality that T is E-strict. If T satisﬁes
condition (1) of Lemma 3.8, (ii), then assertion (i) follows from the
commensurable terminality of T in ΠE [cf. [CmbGC], Proposition 1.2,
(ii)]. If T satisﬁes either condition (2C ) or condition (2N ) of Lemma 3.8,
(ii), then assertion (i) follows immediately from Lemma 3.11, (viii). If
T satisﬁes condition (3) of Lemma 3.8, (ii), then one veriﬁes easily from
the various deﬁnitions involved — by considering a suitable stable log

68

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

curve of type (g, r) over (Spec k)log and applying a suitable specialization isomorphism [cf. the discussion preceding [CmbCsp], Deﬁnition
2.1, as well as [CbTpI], Remark 5.6.1] — that, to verify assertion (i),
we may assume without loss of generality that Node(G) = ∅. Thus,
assertion (i) follows immediately from [CmbCsp], Corollary 1.10, (ii).
This completes the proof of assertion (i).
Next, we verify assertion (ii). Let us recall from Remark 3.7.1, (iii),
that there exist an element τ ∈ S3 ⊆ Out(Π3 ) [cf. the discussion
at the beginning of the present §3] and a lifting τ ∈ Aut(Π3 ) of τ
such that the image of T ⊆ Π3 by the automorphism τ ∈ Aut(Π3 )
coincides with T  ⊆ Π3 . Next, let us observe that one veriﬁes easily
that τ ∈ S3 may be written as a product of transpositions in S3 . Thus,
in the remainder of the proof of assertion (ii), we may assume without
loss of generality that τ is a transposition in S3 . Moreover, in the
remainder of the proof of assertion (ii), we may assume without loss
of generality, by conjugating by a suitable element of S3 , that τ is the
transposition “(1, 2)” in S3 . Thus, if, moreover, i = 3 [i.e., the E-tripod
T is 3-central], then it follows from Lemma 3.6, (v), that T is a Π3 conjugate of T  , hence that CΠ3 (T ) (respectively, NΠ3 (T ); ZΠ3 (T )) is a
Π3 -conjugate of CΠ3 (T  ) (respectively, NΠ3 (T  ); ZΠ3 (T  )). In particular,
in the remainder of the proof of assertion (ii), we may assume without
loss of generality, by conjugating by τ ∈ S3 if necessary, that i = 2,
i.e., that the E-tripods T , T  are 2-central, 1-central, respectively.
Next, let us observe that, in this situation, one veriﬁes immediately from the various deﬁnitions involved that there exists a natural
identiﬁcation between Π{1,2,3}/{3} and the “Π2 ” that arises in the case
log
log
where we take “X log ” to be the base-change of plog
{3} : X{2,3} → X{3}

log
via a suitable morphism of log schemes (Spec k)log → X{3}
. Moreover, one also veriﬁes immediately from the various deﬁnitions involved
[cf. also Lemma 3.6, (v)] that this natural identiﬁcation maps suitable
Π3 -conjugates of T , T  , respectively, bijectively onto the closed subnew ”, “Πv new ” of the “Π2 ” that appears in the statement of
groups “Πv2/1
1\2
Lemma 3.11. In particular, it follows from Lemma 3.11, (viii), (ix),
(x), that the following assertions hold:

(a) The following equalities hold:
CΠ{1,2,3}/{3} (T ) = T × ZΠ{1,2,3}/{3} (T ),
CΠ{1,2,3}/{3} (T  ) = T  × ZΠ{1,2,3}/{3} (T  ).
(b) The following equalities hold:
CΠ{1,2,3}/{3} (T ) ∩ Π{1,2,3}/{1,3} = T,
CΠ{1,2,3}/{3} (T  ) ∩ Π{1,2,3}/{2,3} = T  .

COMBINATORIAL ANABELIAN TOPICS II

69

(c) The subgroup CΠ{1,2,3}/{3} (T ) (respectively, ZΠ{1,2,3}/{3} (T )) is a
Π{1,2,3}/{3} -conjugate of the subgroup CΠ{1,2,3}/{3} (T  ) (respectively, ZΠ{1,2,3}/{3} (T  )).
In particular, it follows from (c) that, to verify assertion (ii), it suﬃces
to verify the following assertion:
Claim 3.12.A: The following equalities hold:
CΠ3 (T ) = CΠ3 (CΠ{1,2,3}/{3} (T )),

CΠ3 (T  ) = CΠ3 (CΠ{1,2,3}/{3} (T  )),

NΠ3 (T ) = NΠ3 (CΠ{1,2,3}/{3} (T )),

NΠ3 (T  ) = NΠ3 (CΠ{1,2,3}/{3} (T  )),

ZΠ3 (T ) = ZΠ3 (CΠ{1,2,3}/{3} (T )), ZΠ3 (T  ) = ZΠ3 (CΠ{1,2,3}/{3} (T  )).
First, we verify the ﬁrst four equalities of Claim 3.12.A. Observe that
since Π{1,2,3}/{3} is a normal closed subgroup of Π3 and contains both
T and T  , it follows from Lemma 3.9, (iii), that the inclusions
NΠ3 (T ) ⊆ CΠ3 (T ) ⊆ NΠ3 (CΠ{1,2,3}/{3} (T )) ⊆ CΠ3 (CΠ{1,2,3}/{3} (T )),
NΠ3 (T  ) ⊆ CΠ3 (T  ) ⊆ NΠ3 (CΠ{1,2,3}/{3} (T  )) ⊆ CΠ3 (CΠ{1,2,3}/{3} (T  ))
hold. Moreover, by the normality of Π{1,2,3}/{1,3} and Π{1,2,3}/{2,3} in
Π3 , one veriﬁes easily, by applying (b), that the inclusions
NΠ3 (CΠ{1,2,3}/{3} (T )) ⊆ NΠ3 (T ),

CΠ3 (CΠ{1,2,3}/{3} (T )) ⊆ CΠ3 (T ),

NΠ3 (CΠ{1,2,3}/{3} (T  )) ⊆ NΠ3 (T  ), CΠ3 (CΠ{1,2,3}/{3} (T  )) ⊆ CΠ3 (T  )
hold. This completes the proof of the ﬁrst four equalities of Claim
3.12.A.
Finally, we verify the ﬁnal two equalities of Claim 3.12.A. Let us ﬁrst
observe that the inclusions T ⊆ CΠ{1,2,3}/{3} (T ), T  ⊆ CΠ{1,2,3}/{3} (T  )
imply that
ZΠ3 (CΠ{1,2,3}/{3} (T )) ⊆ ZΠ3 (T ),

ZΠ3 (CΠ{1,2,3}/{3} (T  )) ⊆ ZΠ3 (T  ).

Thus, it follows immediately from (a) that, to verify the ﬁnal two equalities of Claim 3.12.A, it suﬃces to verify the following assertion:
Claim 3.12.B: The following inclusions hold:
ZΠ3 (T ) ⊆ ZΠ3 (ZΠ{1,2,3}/{3} (T )),

ZΠ3 (T  ) ⊆ ZΠ3 (ZΠ{1,2,3}/{3} (T  )).

First, let us observe that one veriﬁes immediately from the various definitions involved that the natural identiﬁcation that appears in the discussion preceding assertion (a) in the present proof of Lemma 3.12, (ii),
determines a natural identiﬁcation between Π{2,3}/{3} and the “Π1 =
Π{2} ” that arises in the case where we take “X log ” to be as in the
discussion preceding assertion (a) in the present proof of Lemma 3.12,
(ii). Thus, it follows immediately from the ﬁnal portion of Lemma 3.6,
(iv), that the image JT ⊆ Π{2,3}/{3} of T ⊆ Π{1,2,3}/{3} in Π{2,3}/{3}
corresponds, via the natural identiﬁcation just discussed, to an edgelike subgroup of “Π1 = Π{2} ” associated to the edge zx ∈ Edge(G)
that appears in the statement of Lemma 3.11. Moreover, it follows

70

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

immediately from (c) and Lemma 3.11, (iv), (vii), that the surjection
Π{1,2,3}/{3}  Π{2,3}/{3} induces an isomorphism
∼

Π{1,2,3}/{3} ⊇ ZΠ{1,2,3}/{3} (T ) → JZ ⊆ Π{2,3}/{3}
— where the closed subgroup JZ ⊆ Π{2,3}/{3} corresponds, via the natural identiﬁcation just discussed, to an edge-like subgroup of “Π1 =
Π{2} ” associated to the edge zx ∈ Edge(G) that appears in the statement of Lemma 3.11. Thus, we conclude immediately from [CmbGC],
Proposition 1.2, (ii), together with the various deﬁnitions involved,
∼
that JT = JZ (← ZΠ{1,2,3}/{3} (T )). In particular, since ZΠ3 (T ) ⊆
NΠ3 (ZΠ{1,2,3}/{3} (T )), and the surjection Π{1,2,3}/{3}  Π{2,3}/{3} induces a homomorphism ZΠ3 (T ) → ZΠ{2,3}/{3} (JT ), one veriﬁes easily
that the ﬁrst inclusion of Claim 3.12.B holds. The second inclusion
of Claim 3.12.B follows from the ﬁrst inclusion of Claim 3.12.B by
applying τ. This completes the proof of Claim 3.12.B, hence also of
Lemma 3.12.

Lemma 3.13 (Preservation of verticial subgroups). In the notation of Lemma 3.11, let α
 be an F-admissible automorphism of ΠE =
Π2 , v ∈ Vert(G). Write v ◦ ∈ Vert(G2/1 ) for the vertex of G2/1 that cor2/1
responds to v ∈ Vert(G) via the bijection of Lemma 3.6, (iv); α
1 , α
for the automorphisms of Π1 , Π2/1 determined by α
; α, α1 , α2/1 for the
outomorphisms of Π2 , Π1 , Π2/1 determined by α
, α
1 , α
2/1 , respectively.
Then the following hold:
∼

(i) Recall the edge-like subgroup Πzx ⊆ Π1 → ΠG associated to the
edge zx ∈ Edge(G). Suppose that
α
1 (Πzx ) = Πzx .
Suppose, moreover, either that
∼

(a) the outomorphism α2/1 of ΠG2/1 ← Π2/1 maps some cusp∼
idal inertia subgroup of ΠG2/1 ← Π2/1 to a cuspidal inertia
∼
subgroup of ΠG2/1 ← Π2/1 , or that
(b) zx ∈ Cusp(G).
[For example, condition (a) holds if the outomorphism α2/1 of
∼
ΠG2/1 ← Π2/1 is group-theoretically cuspidal — cf. [CmbGC],
Deﬁnition 1.4, (iv).] Then α2/1 preserves the Π2/1 -conjugacy
∼
class of the verticial subgroup Πvnew ⊆ Π2/1 → ΠG2/1 associated
to the vertex v new ∈ Vert(G2/1 ). If, moreover, α2/1 is grouptheoretically cuspidal, then the induced outomorphism of
Πvnew [cf. Lemma 3.12, (i)] is itself group-theoretically cuspidal.

COMBINATORIAL ANABELIAN TOPICS II

71

(ii) In the situation of (i), suppose, moreover, that there exists a
∼
∼
verticial subgroup Πv ⊆ ΠG ← Π1 of ΠG ← Π1 associated to
v ∈ Vert(G) such that α
1 preserves the Π1 -conjugacy class
of Πv . Then α2/1 preserves the Π2/1 -conjugacy class of a
∼
verticial subgroup of ΠG2/1 ← Π2/1 associated to the vertex v ◦ ∈
Vert(G2/1 ).
(iii) In the situation of (i), suppose, moreover, that X log is of type
∼
def
(0, 3) [which implies that Πv = ΠG ← Π1 is the unique verticial subgroup of ΠG associated to v], and that α1 ∈ OutC (Πv )cusp
[cf. Deﬁnition 3.4, (i)]. Then there exists a geometric [cf.
∼
∼
Deﬁnition 3.4, (ii)] outer isomorphism Πvnew → Πv (= ΠG ←
Π1 ) which satisﬁes the following condition:
If either α1 ∈ Out(Π1 ) = Out(Πv ) is contained
in Out(Πv )Δ [cf. Deﬁnition 3.4, (i)] or α|Πvnew ∈
Out(Πvnew ) [cf. (i); Lemma 3.12, (i)] is contained
in Out(Πvnew )Δ , then the outomorphisms α|Πvnew , α1
of Πvnew , Πv are compatible relative to the outer
∼
isomorphism in question Πvnew → Πv .
def

Proof. First, we verify assertions (i), (ii). Write S = Node(G2/1 ) \
N (v new ). Then it follows immediately from the well-known local structure of X log in a neighborhood of the edge corresponding to zx that if
zx ∈ Node(G) (respectively, zx ∈ Cusp(G)), then the outer action of
Πzx on Π(G2/1 )S [cf. [CbTpI], Deﬁnition 2.8] obtained by conjugating
∼
the natural outer action Πzx → Π1 → Out(Π2/1 ) → Out(ΠG2/1 ) —
where the second arrow is the outer action determined by the exact
sequence of proﬁnite groups
pΠ
2/1

1 −→ Π2/1 −→ Π2 −→ Π1 −→ 1
∼

— by the natural outer isomorphism Φ(G2/1 )S : Π(G2/1 )S → ΠG2/1 [cf.
[CbTpI], Deﬁnition 2.10] is of SNN-type [cf. [NodNon], Deﬁnition 2.4,
(iii)] (respectively, IPSC-type [cf. [NodNon], Deﬁnition 2.4, (i)]). Thus,
it follows immediately [in light of the various assumptions made in the
statement of assertion (i)!] in the case of condition (a) (respectively,
condition (b)) from Theorem 1.9, (i) (respectively, Theorem 1.9, (ii)),
that the outomorphism α(G2/1 )S of Π(G2/1 )S obtained by conjugatΦ(G
∼

2/1 )S

∼

←
Π(G2/1 )S is grouping α2/1 by the composite Π2/1 → ΠG2/1
theoretically verticial [cf. [CmbGC], Deﬁnition 1.4, (iv)] and grouptheoretically nodal [cf. [NodNon], Deﬁnition 1.12]. On the other hand,
it follows immediately from condition (3) of [CbTpI], Proposition 2.9,
∼
(i), that the image via Φ(G2/1 )S : Π(G2/1 )S → ΠG2/1 of any verticial

72

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

subgroup of Π(G2/1 )S associated to the vertex of (G2/1 )S corresponding to v new is a verticial subgroup of ΠG2/1 associated to v new . Thus,
since α(G2/1 )S is group-theoretically verticial, it follows immediately
that α2/1 preserves the Π2/1 -conjugacy class of the verticial subgroup
∼
Πvnew ⊆ Π2/1 → ΠG2/1 associated to v new . [Here, we observe in passing
the following easily veriﬁed fact: a vertex of (G2/1 )S corresponds to
v new if and only if the verticial subgroup of Π(G2/1 )S associated to this
pΠ
1\2

∼

vertex maps, via the composite Π(G2/1 )S → Π2/1  Π{2} , to an abelian
subgroup of Π{2} .] If, moreover, α2/1 is group-theoretically cuspidal,
then the group-theoretic cuspidality of the resulting outomorphism of
Πvnew follows immediately from the group-theoretic cuspidality of α2/1
and the group-theoretic nodality of α(G2/1 )S . This completes the proof
of assertion (i).
To verify assertion (ii), let us ﬁrst observe that it follows immediately from [CbTpI], Theorem A, (i), that — after possibly replacing α

by the composite of α
 with an inner automorphism of Π2 determined
by conjugation by an element of Π2/1 — we may assume without loss
of generality that if we write α
{2} for the automorphism of Π{2} determined by α
, then
α
{2} (Πv ) = Πv
— where, by abuse of notation, we write Πv for some ﬁxed subgroup of
∼
Π{2} whose image in ΠG ← Π{2} is a verticial subgroup associated to v.
∼
Next, let us ﬁx a verticial subgroup Πv◦ ⊆ Π2/1 → ΠG2/1 of ΠG2/1 associated to the vertex v ◦ ∈ Vert(G2/1 ) such that the composite Πv◦ →
pΠ
1\2

∼

Π2/1  Π{2} determines an isomorphism Πv◦ → Πv . Then let us observe that one veriﬁes easily from condition (3) of [CbTpI], Proposition
2.9, (i), together with [NodNon], Lemma 1.9, (ii), that there exists a
unique vertex w◦ ∈ Vert((G2/1 )S ) such that the image Πw◦ ⊆ Π2/1
Φ(G

2/1 )S

∼

∼

via the composite Π(G2/1 )S
→
ΠG2/1 ← Π2/1 of some verticial
◦
subgroup of Π(G2/1 )S associated to w contains the verticial subgroup
∼
Πv◦ ⊆ Π2/1 → ΠG2/1 . Thus, it follows immediately from the varipΠ
1\2

ous deﬁnitions involved that the composite Πw◦ → Π2/1  Π{2} is
an injective homomorphism whose image Πw ⊆ Π{2} maps via the
∼

ΦG
S
∼

def

composite Π{2} → ΠG ← ΠGS — where we write S = Node(G) \
(Node(G) ∩ {zx }) — to a verticial subgroup of ΠGS associated to a
vertex w ∈ Vert(GS ). Here, we note that the vertex w may also
be characterized as the unique vertex of GS such that the image via
∼
the natural outer isomorphism ΦGS : ΠGS → ΠG of some verticial
subgroup associated to w contains a verticial subgroup associated to

COMBINATORIAL ANABELIAN TOPICS II

73

∼

v ∈ Vert(G). Thus, we obtain an isomorphism Πw◦ → Πw , hence also
∼
an isomorphism α
2/1 (Πw◦ ) → α
{2} (Πw ).
Next, let us observe that since α(G2/1 )S is group-theoretically verticial [cf. the argument given in the proof of assertion (i)], it fol∼
lows immediately that α
2/1 (Πw◦ ) ⊆ Π2/1 → Π(G2/1 )S is a verticial
subgroup of Π(G2/1 )S that maps isomorphically to a verticial sub∼
group α
{2} (Πw ) ⊆ Π{2} → ΠGS of ΠGS that contains α
{2} (Πv ) =
Πv . On the other hand, in light of the unique characterization of w
∼
given above, this implies that α
{2} (Πw ) ⊆ Π{2} → ΠGS is a verticial subgroup associated to w, and hence [as is easily veriﬁed] that
∼
α
2/1 (Πw◦ ) ⊆ Π2/1 → Π(G2/1 )S is a verticial subgroup associated to
w◦ . In particular, one may apply the natural outer isomorphisms
∼
∼
2/1 (Πw◦ ); Π(G|Hw )Tw → α
{2} (Πw ) [cf. [CbTpI],
Π((G2/1 )|Hw◦ )Tw◦ → α
Deﬁnitions 2.2, (ii); 2.5, (ii)] arising from condition (3) of [CbTpI],
Proposition 2.9, (i); moreover, one veriﬁes easily that the resulting
∼
outer isomorphism Π((G2/1 )|Hw◦ )Tw◦ → Π(G|Hw )Tw [induced by the above
∼
{2} (Πw )] arises from scheme theory, hence
isomorphism α
2/1 (Πw◦ ) → α
is graphic [cf. [CmbGC], Deﬁnition 1.4, (i)]. Therefore, we conclude
∼
that the closed subgroup α
2/1 (Πv◦ ) ⊆ (
α2/1 (Πw◦ ) ⊆) Π2/1 → ΠG2/1 is a
verticial subgroup of ΠG2/1 associated to v ◦ . This completes the proof
of assertion (ii).
Finally, we verify assertion (iii). First, we recall from [CmbCsp],
Corollary 1.14, (ii), that there exists an outer modular symmetry σ ∈
σ
∼

Π
p2/1

(S5 ⊆) Out(Π2 ) such that the composite Πvnew → Π2 → Π2 
Π1 = Πv determines a(n) [necessarily geometric] outer isomorphism
∼
Πvnew → Πv . The remainder of the proof of assertion (iii) is devoted to
∼
verifying that this outer isomorphism Πvnew → Πv satisﬁes the condition of assertion (iii). First, suppose that α1 ∈ Out(Π1 )Δ . Then since
OutF (Π2 ) = OutFC (Π2 ) = OutFCP (Π2 ) [cf. [CmbCsp], Deﬁnition 1.1,
(iv); Theorem 2.3, (ii), (iv), of the present monograph; our assumption
that X log is of type (0, 3)], it follows from [CmbCsp], Corollary 1.14, (i),
together with the injectivity portion of [CmbCsp], Theorem A, (i), that
α commutes with every modular outer symmetry on Π2 ; in particular, α
commutes with σ. Thus, it follows immediately from [CmbCsp], Corol∼
lary 1.14, (iii), that the above outer isomorphism Πvnew → Πv satisﬁes
the condition of assertion (iii).
def
Next, suppose that α|Πvnew ∈ Out(Πvnew )Δ . If we write ασ = σ ◦
α ◦ σ −1 (∈ OutFC (Π2 )cusp — cf. [CmbCsp], Corollary 1.14, (i); Theorem 2.3, (ii), and Lemma 3.5 of the present monograph) and (ασ )1 ∈
Out(Πv ) for the outomorphism of Πv determined by ασ , then it follows immediately from [CmbCsp], Corollary 1.14, (iii), that the outomorphisms α|Πvnew , (ασ )1 of Πvnew , Πv are compatible relative to the

74

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
∼

outer isomorphism Πvnew → Πv discussed above. Thus, since α|Πvnew ∈
Out(Πvnew )Δ , we conclude that (ασ )1 ∈ Out(Πv )Δ . In particular, [since
OutF (Π2 ) = OutFC (Π2 ) = OutFCP (Π2 ) — cf. [CmbCsp], Deﬁnition 1.1,
(iv); Theorem 2.3, (ii), (iv), of the present monograph; our assumption
that X log is of type (0, 3)] it follows from [CmbCsp], Corollary 1.14,
(i), together with the injectivity portion of [CmbCsp], Theorem A, (i),
that ασ commutes with every modular outer symmetry on Π2 . Thus,
we conclude that ασ commutes with σ −1 , which implies that α = ασ .
This completes the proof of assertion (iii).


Lemma 3.14 (Commensurator of the closed subgroup arising
from a certain second log conﬁguration space). Let i ∈ E, j ∈ E,
x, and zi,j,x be as in Lemma 3.6; let v ∈ Vert(Gj∈E\{i},x ). Then, by applying a similar argument to the argument used in [CmbCsp], Deﬁnition
2.1, (iii), (vi), or [NodNon], Deﬁnition 5.1, (ix), (x) [i.e., by considering the portion of the underlying scheme XE of XElog corresponding to
the underlying scheme (Xv )2 of the 2-nd log conﬁguration space (Xv )log
2
of the stable log curve Xvlog determined by Gj∈E\{i},x |v — cf. [CbTpI],
Deﬁnition 2.1, (iii)], one obtains a closed subgroup
(Πv )2 ⊆ ΠE/(E\{i,j})
[which is well-deﬁned up to ΠE -conjugation]. Write
def

(Πv )2/1 = (Πv )2 ∩ ΠE/(E\{i}) ⊆ (Πv )2 .
[Thus, one veriﬁes easily that there exists a natural commutative diagram
1 −−−→

(Πv )2/1
⏐
⏐


−−−→

(Πv )2
⏐
⏐


−−−→

Πv
⏐
⏐


−−−→ 1

pΠ
E/(E\{i})

1 −−−→ ΠE/(E\{i}) −−−→ ΠE/(E\{i,j}) −−−−−−→ Π(E\{i})/(E\{i,j}) −−−→ 1
— where we use the notation Πv to denote a verticial subgroup of
∼
ΠGj∈E\{i},x ← Π(E\{i})/(E\{i,j}) associated to v ∈ Vert(Gj∈E\{i},x ), the
horizontal sequences are exact, and the vertical arrows are injective.]
Then the following hold:
(i) Suppose that zi,j,x ∈ VCN(Gj∈E\{i},x ) is contained in E(v).
Write v ◦ ∈ Vert(Gi∈E,x ) for the vertex of Gi∈E,x that corresponds to v ∈ Vert(Gj∈E\{i},x ) via the bijections of Lemma 3.6,
∼
new
(i), (iv). Let Πv◦ , Πvi,j,x
⊆ ΠGi∈E,x ← ΠE/(E\{i}) be verti∼
cial subgroups of ΠGi∈E,x ← ΠE/(E\{i}) associated to the vernew
new ⊆
tices v ◦ , vi,j,x
∈ Vert(Gi∈E,x ), respectively, such that Πvi,j,x
new
(Πv )2/1 , and, moreover, Πv◦ ∩ Πvi,j,x = {1}. Let us say that two

COMBINATORIAL ANABELIAN TOPICS II

75

ΠE/(E\{i}) -conjugates Πγv◦ , Πδvi,j,x
new [i.e., where γ, δ ∈ ΠE/(E\{i}) ]
γ
δ
new are conjugate-adjacent if Π ◦ ∩ Π new = {1}.
of Πv◦ , Πvi,j,x
v
vi,j,x
Let us say that a ﬁnite sequence of ΠE/(E\{i}) -conjugates of Πv◦ ,
new is a conjugate-chain if any two adjacent members of
Πvi,j,x
the ﬁnite sequence are conjugate-adjacent. Let us say that a
subgroup of ΠE/(E\{i}) is conjugate-tempered if it appears
as the ﬁrst member of a conjugate-chain whose ﬁnal memnew . Then (Πv )2/1 is equal to the subgroup
ber is equal to Πvi,j,x
of ΠE/(E\{i}) topologically generated by the conjugate-tempered
subgroups and the elements δ ∈ ΠE/(E\{i}) such that Πδvi,j,x
new is
conjugate-tempered.
(ii) If NΠE\{i} (Πv ) = CΠE\{i} (Πv ), then NΠE ((Πv )2 ) = CΠE ((Πv )2 ).
(iii) If CΠE\{i} (Πv ) = Πv × ZΠE\{i} (Πv ), then CΠE ((Πv )2 ) = (Πv )2 ×
ZΠE ((Πv )2 ).
(iv) Suppose that v is of type (0, 3), i.e., that Πv is an (E \
{i})-tripod of Πn [cf. Deﬁnition 3.3, (i)]. Then it holds that
CΠE ((Πv )2 ) = (Πv )2 × ZΠE ((Πv )2 ). Thus, if an outomorphism
α of ΠE preserves the ΠE -conjugacy class of (Πv )2 , then one
may deﬁne α|(Πv )2 ∈ Out((Πv )2 ) [cf. Lemma 3.10, (i)].
Proof. First, we verify assertion (i). We begin by observing that it
follows immediately from [NodNon], Lemma 1.9, (ii), together with
new ⊆ ΠE/(E\{i}) [cf.
the commensurable terminality of Πvi,j,x
[CmbGC],
Proposition 1.2, (ii)], that the subgroup described in the ﬁnal portion
of the statement of assertion (i) is contained in (Πv )2/1 . If #(N (v ◦ ) ∩
new
N (vi,j,x
)) = 1, then assertion (i) follows immediately from a similar
argument to the argument applied in the proof of [CmbCsp], Proposition 1.5, (iii), together with the various deﬁnitions involved [cf. also
[NodNon], Lemma 1.9, (ii)]. Thus, we may assume without loss of
new
)) = 2.
generality that #(N (v ◦ ) ∩ N (vi,j,x
Write
new
• e1 ∈ N (v ◦ ) ∩ N (vi,j,x
) for the [uniquely determined — cf.
new (= {1})
[NodNon], Lemma 1.5] node such that Πv◦ ∩ Πvi,j,x
is a nodal subgroup associated to e1 [cf. [NodNon], Lemma
1.9, (i)];
new
• e2 for the unique element of N (v ◦ ) ∩ N (vi,j,x
) such that e2 = e1
◦
new
[so N (v ) ∩ N (vi,j,x ) = {e1 , e2 }];

• H for the sub-semi-graph of PSC-type [cf. [CbTpI], Deﬁnition
2.2, (i)] of the underlying semi-graph of Gi∈E,x whose set of
new
vertices = {v ◦ , vi,j,x
};
def

• S = Node(Gi∈E,x |H ) \ {e1 , e2 } [cf. [CbTpI], Deﬁnition 2.2, (ii)];

76

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
def

• H = (Gi∈E,x |H )S [which is well-deﬁned since, as is easily veriﬁed, S is not of separating type as a subset of Node(Gi∈E,x |H )
— cf. [CbTpI], Deﬁnition 2.5, (i), (ii)].
Then it follows immediately from the construction of H that H{e1 }
[cf. [CbTpI], Deﬁnition 2.8], where we observe that one veriﬁes easily that the node e1 of Gi∈E,x may be regarded as a node of H, is
cyclically primitive [cf. [CbTpI], Deﬁnition 4.1]. Moreover, it follows
immediately from [NodNon], Lemma 1.9, (ii), together with the vari∼
ous deﬁnitions involved, that (Πv )2/1 ⊆ ΠE/(E\{i}) → ΠGi∈E,x may be
characterized uniquely as the closed subgroup of ΠGi∈E,x that contains
new ⊆ ΠG
Πvi,j,x
and, moreover, belongs to the ΠGi∈E,x -conjugacy class
i∈E,x
of closed subgroups of ΠGi∈E,x obtained by forming the image of the
composite of outer homomorphisms
ΠH{e1 }

ΦH{e }
1
∼

→

ΠH → ΠGi∈E,x

[cf. [CbTpI], Deﬁnition 2.10] — where the second arrow is the outer injection discussed in [CbTpI], Proposition 2.11. In particular, it follows
from the commensurable terminality of (Πv )2/1 in ΠGi∈E,x [cf. [CmbGC],
Proposition 1.2, (ii)] that this characterization of (Πv )2/1 determines an
∼
outer isomorphism ΠH{e1 } → (Πv )2/1 .
On the other hand, it follows immediately from a similar argument
to the argument applied in the proof of [CmbCsp], Proposition 1.5,
(iii), together with the various deﬁnitions involved [cf. also [NodNon],
Lemma 1.9, (ii)], that the image of the closed subgroup of (Πv )2/1 topo∼
new via the inverse (Πv )2/1 → ΠH
logically generated by Πv◦ and Πvi,j,x
{e1 }
of this outer isomorphism is a verticial subgroup of ΠH{e1 } associated
to the unique vertex of H{e1 } . Thus, since H{e1 } is cyclically primitive, assertion (i) follows immediately from [CmbGC], Proposition 1.2,
(ii); [NodNon], Lemma 1.9, (ii), together with the description of the
structure of a certain tempered covering of H{e1 } given in [CbTpI],
Lemma 4.3. This completes the proof of assertion (i).
Next, we verify assertion (ii). Since (Πv )2/1 = (Πv )2 ∩ ΠE/(E\{i}) is
commensurably terminal in ΠE/(E\{i}) [cf. [CmbGC], Proposition 1.2,
(ii)], assertion (ii) follows immediately from Lemma 3.9, (iv). This
completes the proof of assertion (ii). Next, we verify assertion (iii).
First, let us observe that if E(v) = ∅, then one veriﬁes immediately
that the vertical arrows of the commutative diagram in the statement
of Lemma 3.14 are isomorphisms, and hence that assertion (iii) holds.
Thus, we may assume that E(v) = ∅. Next, let us observe that it follows
from assertion (ii) that NΠE ((Πv )2 ) = CΠE ((Πv )2 ). Thus, in light of the
slimness of (Πv )2 [cf. [MzTa], Proposition 2.2, (ii)], to verify assertion
(iii), it suﬃces to verify that the natural outer action of NΠE ((Πv )2 )
on (Πv )2 is trivial. On the other hand, since [one veriﬁes easily that]

COMBINATORIAL ANABELIAN TOPICS II

77

the natural outer action NΠE ((Πv )2 ) → Out((Πv )2 ) factors through
OutF ((Πv )2 ) ⊆ Out((Πv )2 ), it follows from the injectivity portion of
Theorem 2.3, (i) [cf. our assumption that E(v) = ∅], that to verify the
triviality in question, it suﬃces to verify that the natural outer action
of NΠE ((Πv )2 ) on Πv is trivial. But this follows from the equality
CΠE\{i} (Πv ) = Πv × ZΠE\{i} (Πv ). This completes the proof of assertion
(iii). Assertion (iv) follows immediately from assertion (iii), together
with Lemma 3.12, (i). This completes the proof of Lemma 3.14.

Lemma 3.15 (Preservation of various subgroups of geometric origin). In the notation of Lemma 3.14, let α
 be an F-admissible
automorphism of ΠE . Write α
E\{i} , α
E/(E\{i}) for the automorphisms
; α, αE\{i} , αE/(E\{i}) for the outoof ΠE\{i} , ΠE/(E\{i}) determined by α
, α
E\{i} , α
E/(E\{i}) ,
morphisms of ΠE , ΠE\{i} , ΠE/(E\{i}) determined by α
respectively. Suppose that there exist an edge e ∈ Edge(Gj∈E\{i},x ) of
Gj∈E\{i},x that belongs to E(v) ⊆ Edge(Gj∈E\{i},x ) and a pair Πe ⊆
∼
Πv ⊆ ΠGj∈E\{i},x ← Π(E\{i})/(E\{i,j}) of VCN-subgroups associated to
e ∈ Edge(Gj∈E\{i},x ), v ∈ Vert(Gj∈E\{i},x ), respectively, such that
α
E\{i} (Πe ) = Πe ⊆ α
E\{i} (Πv ) = Πv .
Suppose, moreover, either that
∼

(a) the outomorphism αE/(E\{i}) of ΠGi∈E,x ← ΠE/(E\{i}) maps some
∼
cuspidal inertia subgroup of ΠGi∈E,x ← ΠE/(E\{i}) to a cuspidal
∼
inertia subgroup of ΠGi∈E,x ← ΠE/(E\{i}) , or that
(b) e ∈ Cusp(Gj∈E\{i},x ).
[For example, condition (a) holds if the outomorphism αE/(E\{i}) of
∼
ΠGi∈E,x ← ΠE/(E\{i}) is group-theoretically cuspidal — cf. [CmbGC],
Deﬁnition 1.4, (iv).] Write T ⊆ ΠE for the E-tripod of Πn [cf. Definition 3.3, (i)] arising from e ∈ Edge(Gj∈E\{i},x ) [cf. Deﬁnition 3.7,
(i)]. Then the following hold:
(i) The outomorphism α preserves the ΠE -conjugacy classes of
T , (Πv )2 ⊆ ΠE . If, moreover, the outomorphism αE/(E\{i})
∼
of ΠGi∈E,x ← ΠE/(E\{i}) is group-theoretically cuspidal [cf.
[CmbGC], Deﬁnition 1.4, (iv)], then the outomorphism α|T
[cf. Lemma 3.12, (i)] of T is contained in OutC (T )cusp [cf.
Deﬁnition 3.4, (i)].
(ii) Suppose, moreover, that v is of type (0, 3) — i.e., that Πv is
an (E\{i})-tripod of Πn — and that αE\{i} |Πv ∈ OutC (Πv )cusp
[cf. Lemma 3.12, (i)]. Then there exists a geometric [cf. Def∼
inition 3.4, (ii)] outer isomorphism T → Πv which satisﬁes the
following condition:

78

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

If either α|T ∈ Out(T )Δ [cf. (i)] or αE\{i} |Πv ∈
Out(Πv )Δ , then the outomorphisms α|T , αE\{i} |Πv of
T , Πv are compatible relative to the outer isomor∼
phism in question T → Πv .
If, moreover, Πv is (E \ {i})-strict [cf. Deﬁnition 3.3, (iii)],
then the following hold:
(1) If #(E\{i}) = 1 [i.e., Πv satisﬁes condition (1) of Lemma 3.8,
(ii)], then T is E-strict [i.e., T satisﬁes one of the two
conditions (2C ), (2N ) of Lemma 3.8, (ii)].
(2) If #(E \ {i}) = 2 [i.e., Πv satisﬁes one of the two conditions (2C ), (2N ) of Lemma 3.8, (ii)], and the edge e ∈
Edge(Gj∈E\{i},x ) is the unique diagonal cusp of Gj∈E\{i},x
[cf. Lemma 3.2, (ii)], then T is E-strict [i.e., T satisﬁes
condition (3) of Lemma 3.8, (ii)], hence also central [cf.
Deﬁnition 3.7, (ii)].
Proof. First, let us observe that one veriﬁes easily — by replacing x
by a suitable k-valued geometric point of Xn (k) that lifts xE\{i,j} ∈
XE\{i,j} (k) [note that this does not aﬀect “Gj∈E\{i},x ”!] — that, to
verify Lemma 3.15, we may assume without loss of generality that
zi,j,x = e ∈ Edge(Gj∈E\{i},x ).
Now we verify assertion (i). First, let us observe that one veriﬁes easlog
log
ily — by replacing XElog by the base-change of plog
E\{i,j} : XE → XE\{i,j}
log
by a suitable morphism of log schemes (Spec k)log → XE\{i,j}
that lies
over xE\{i,j} ∈ XE\{i,j} (k) [cf. Deﬁnition 3.1, (i)] — that, to verify assertion (i), we may assume without loss of generality that #E = 2. Then it
follows immediately from Lemma 3.13, (i), that αE/(E\{i}) preserves the
new ) ⊆ ΠE/(E\{i}) . Moreover, it folΠE/(E\{i}) -conjugacy class of T (= Πvi,j,x
lows immediately from Lemma 3.13, (i), (ii), together with Lemma 3.14,
(i), that αE/(E\{i}) preserves the ΠE/(E\{i}) -conjugacy classes of the
normally terminal closed subgroups Πv◦ ⊆ (Πv )2/1 ⊆ ΠE/(E\{i}) [cf.
[CmbGC], Proposition 1.2, (ii)]. In particular, since α
E\{i} (Πv ) = Πv ,
∼

out

by considering the natural isomorphism (Πv )2 → (Πv )2/1  Πv [cf.
the upper exact sequence of the commutative diagram in the statement of Lemma 3.14; the discussion entitled “Topological groups” in
[CbTpI], §0], we conclude that αE preserves the ΠE -conjugacy class of
(Πv )2 ⊆ ΠE .
∼
Next, suppose that the outomorphism αE/(E\{i}) of ΠGi∈E,x ← ΠE/(E\{i})
is group-theoretically cuspidal. Then it follows from Lemma 3.13, (i),
that α|T ∈ OutC (T ). Moreover, since αE/(E\{i}) is group-theoretically
cuspidal, it follows immediately from Lemma 3.2, (iv), that αE/(E\{i})
ﬁxes the ΠE/(E\{i}) -conjugacy class of cuspidal inertia subgroups assonew
) ( cdiag
ciated to each element ∈ C(vi,j,x
i,j,x ). Thus, to verify that α|T ∈

COMBINATORIAL ANABELIAN TOPICS II

79

OutC (T )cusp , it suﬃces to verify that αE/(E\{i}) ﬁxes the ΠE/(E\{i}) ∼
conjugacy class of nodal subgroups of ΠGi∈E,x ← ΠE/(E\{i}) associated to
new
new
each element of N (vi,j,x
)∩N (v ◦ ). To this end, let e◦ ∈ N (vi,j,x
)∩N (v ◦ )
∼
and Πe◦ ⊆ ΠGi∈E,x ← ΠE/(E\{i}) a nodal subgroup associated to the
node e◦ such that Πe◦ ⊆ Πv◦ . Now let us observe that one veriﬁes
∼
easily that the closed subgroups Πe◦ ⊆ Πv◦ ⊆ ΠGi∈E,x ← ΠE/(E\{i})
∼
map bijectively onto VCN-subgroups of ΠGi∈E\{j} ,x ← Π(E\{j})/(E\{i,j})
associated, respectively, to the edge and vertex of Gi∈E\{j},x that correspond, via the bijections of Lemma 3.6, (i), to e, v ∈ VCN(Gj∈E\{i},x ).
In particular, if β is the composite of α
 with some ΠE/(E\{i}) -inner
 v◦ ) = Πv◦ [cf. the preceding paragraph],
automorphism such that β(Π
then it follows immediately from our assumption that α
E\{i} (Πe ) =
Πe ⊆ α
E\{i} (Πv ) = Πv , together with [CbTpI], Theorem A, (i), and
[CmbGC], Proposition 1.2, (ii), that the automorphism of Πv◦ determined by β preserves the Πv◦ -conjugacy class of Πe◦ . Thus, αE/(E\{i})
ﬁxes the ΠE/(E\{i}) -conjugacy class of Πe◦ , as desired. This completes
the proof of assertion (i).
Next, we verify assertion (ii). Since v is of type (0, 3), it follows
from assertion (i), together with Lemma 3.14, (iv), that one may deﬁne α|(Πv )2 ∈ Out((Πv )2 ). Thus, by applying Lemma 3.13, (iii), to
α|(Πv )2 ∈ Out((Πv )2 ), one veriﬁes easily that the ﬁrst portion of assertion (ii) holds. The ﬁnal portion of assertion (ii) follows immediately
from the descriptions given in the four conditions of Lemma 3.8, (ii),
together with the various deﬁnitions involved. This completes the proof
of assertion (ii).


Theorem 3.16 (Outomorphisms preserving tripods). In the notation of the beginning of the present §3, let E ⊆ {1, · · · , n} and
T ⊆ ΠE an E-tripod of Πn [cf. Deﬁnition 3.3, (i)]. Let us write
OutF (Πn )[T ] ⊆ OutF (Πn )
for the [closed] subgroup of OutF (Πn ) [cf. [CmbCsp], Deﬁnition 1.1,
(ii)] consisting of F-admissible outomorphisms α of Πn such that the
outomorphism of ΠE determined by α preserves the ΠE -conjugacy class
of T ⊆ ΠE . Then the following hold:
(i) It holds that
CΠE (T ) = T × ZΠE (T ).
Thus, by applying Lemma 3.10, (i), to outomorphisms of ΠE
determined by elements of OutF (Πn )[T ], one obtains a natural
homomorphism
TT : OutF (Πn )[T ] −→ Out(T ).

80

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Let us write
OutF (Πn )[T : {C}], OutF (Πn )[T : {|C|}], OutF (Πn )[T : {Δ}],
OutF (Πn )[T : {+}] ⊆ OutF (Πn )[T ]
for the [closed] subgroups of OutF (Πn )[T ] obtained by forming
the respective inverse images via TT of the closed subgroups
OutC (T ), OutC (T )cusp , Out(T )Δ , Out(T )+ ⊆ Out(T ) [cf. Definition 3.4, (i)]. For each subset S ⊆ {C, |C|, Δ, +}, let us
write

def
OutF (Πn )[T : S] =
OutF (Πn )[T : {}] ⊆ OutF (Πn )[T ] ;
∈S
def

OutFC (Πn )[T : S] = OutF (Πn )[T : S] ∩ OutFC (Πn ) ⊆ OutFC (Πn )
[cf. [CmbCsp], Deﬁnition 1.1, (ii)]. Suppose, moreover, that
we are given an element σ ∈ Sn ⊆ Out(Πn ) [cf. the discussion
at the beginning of the present §3] and a lifting σ
 ∈ Aut(Πn )
of σ ∈ Sn ⊆ Out(Πn ). Write
T σ ⊆ Πσ(E)
∼

for the image of T ⊆ ΠE by the isomorphism ΠE → Πσ(E)
determined by σ
 ∈ Aut(Πn ) [which thus implies that T σ ⊆
Πσ(E) is a σ(E)-tripod of Πn — cf. Remark 3.7.1] and
] = OutF (Πn )[T ] ∩ OutF (Πn )[T σ ] ⊆ OutF (Πn ),
OutF (Πn )[T, σ
def

def

OutFC (Πn )[T, σ
] = OutF (Πn )[T, σ
]∩OutFC (Πn ) ⊆ OutFC (Πn ).
∼
Then the resulting isomorphism T → T σ is geometric [cf.
Deﬁnition 3.4, (ii)]. Moreover, we have a commutative diagram
OutF (Πn )[T, σ
]
⏐
⏐
TT 

OutF (Πn )[T, σ
]
⏐
⏐T
 T σ
∼

Out(T )
−−−→
Out(T σ )
— where the upper horizontal equality is an equality of subgroups of the group OutF (Πn ), and the lower horizontal arrow
is the isomorphism obtained by conjugating by the above geo∼
 ∈ Aut(Πn )].
metric isomorphism T → T σ [i.e., induced by σ
Finally, the equalities
] = OutFC (Πn )[T ] = OutFC (Πn )[T σ ]
OutFC (Πn )[T, σ
hold; if, moreover, one of the following conditions is satisﬁed,
then the equalities
OutF (Πn )[T, σ
] = OutF (Πn )[T ] = OutF (Πn )[T σ ]
hold:

COMBINATORIAL ANABELIAN TOPICS II

81

(i-1) (r, n) = (0, 2).
(i-2) T is E-strict [cf. Deﬁnition 3.3, (iii)].
(ii) It holds that
OutF (Πn )[T : {C, Δ}] = OutF (Πn )[T : {|C|, Δ}] .
(iii) Suppose that T is 1-descendable [cf. Deﬁnition 3.3, (iv)].
Then it holds that
OutFC (Πn )[T : {|C|}] = OutFC (Πn )[T : {|C|, +}] .
If, moreover, one of the following conditions is satisﬁed, then
it holds that
OutF (Πn )[T : {|C|}] = OutF (Πn )[T : {|C|, +}] :
(iii-1) T is 2-descendable [cf. Deﬁnition 3.3, (iv)].
(iii-2) There exists a subset E  ⊆ E such that:
(iii-2-a) E  = {1, · · · , n};

(iii-2-b) the image pΠ
E/E  (T ) ⊆ ΠE is a cusp-supporting

E -tripod of Πn [cf. Deﬁnition 3.3, (i)].

(iv) Let i, j ∈ E be two distinct elements of E; e ∈ Edge(Gj∈E\{i},x )
[cf. Deﬁnition 3.1, (iii)]; α ∈ OutF (Πn ). Suppose that T
arises from e ∈ Edge(Gj∈E\{i},x ) [cf. Deﬁnition 3.7, (i)], and
that the outomorphism of ΠE\{i} determined by α preserves
the ΠE\{i} -conjugacy class of an edge-like subgroup of ΠE\{i}
associated to e ∈ Edge(Gj∈E\{i},x ) [cf. Deﬁnition 3.1, (iv)].
Suppose, moreover, that one of the following conditions is satisﬁed:
(iv-1) α ∈ OutFC (Πn ).
(iv-2) #E ≤ n − 1.
(iv-3) e ∈ Cusp(Gj∈E\{i},x ).
Then α ∈ OutF (Πn )[T ]. Suppose, further, that either condition
(iv-1) or condition (iv-2) is satisﬁed. Then α ∈ OutF (Πn )[T :
{C}]; if, in addition, condition (iv-3) is satisﬁed, then α ∈
OutF (Πn )[T : {|C|}].
(v) Suppose that T is central [cf. Deﬁnition 3.7, (ii)]. If n ≥ 4
[i.e., T is 1-descendable], then it holds that
OutF (Πn ) = OutFC (Πn )[T : {|C|, Δ, +}] .
If n = 3 [i.e., T is not 1-descendable], then it holds that
OutFC (Πn ) = OutFC (Πn )[T : {|C|, Δ}]
⊆ OutF (Πn ) = OutF (Πn )[T : {Δ}] ;

82

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

if, moreover, r = 0, then
OutF (Πn ) = OutFC (Πn )[T : {|C|, Δ, +}] .
Proof. We begin the proof of Theorem 3.16 with the following claim:
Claim 3.16.A: Let E  ⊆ E be a subset such that the


image TE  of T via pΠ
E/E  : ΠE  ΠE is an E -tripod.
Thus, one veriﬁes easily that one obtains a(n) [neces∼
sarily geometric] outer isomorphism T → TE  [induced
F
by pΠ
E/E  ]. Then we have an inclusion Out (Πn )[T ] ⊆
OutF (Πn )[TE  ], and, moreover, the diagram
OutF (Πn )[T ]

⊆

TT ↓
Out(T )

OutF (Πn )[TE  ]
↓ TTE

∼

−→

Out(TE  )

— where the lower horizontal arrow is the isomorphism
∼
determined by the isomorphism T → TE  induced by
pΠ
E/E  — commutes.
Indeed, this follows immediately from the various deﬁnitions involved.
This completes the proof of Claim 3.16.A.
Next, we verify assertion (i). The equality CΠE (T ) = T × ZΠE (T ) of
the ﬁrst display in assertion (i) follows from Lemma 3.12, (i). Moreover,
∼
the geometricity of the isomorphism T → T σ follows immediately from
the various deﬁnitions involved. Next, let us observe that if (r, n) =
(0, 2), then the commutativity of the displayed diagram in assertion (i)
and the equalities
] = OutF (Πn )[T ] = OutF (Πn )[T σ ]
OutF (Πn )[T, σ
in assertion (i) may be easily derived from the fact that the closed
subgroup OutF (Πn ) ⊆ Out(Πn ) centralizes the closed subgroup Sn ⊆
OutF (Πn ) [cf. Theorem 2.3, (iv)]. Moreover, the equalities
OutFC (Πn )[T, σ
] = OutFC (Πn )[T ] = OutFC (Πn )[T σ ]
in assertion (i) may be easily derived from the fact that the closed
subgroup OutFC (Πn ) ⊆ Out(Πn ) centralizes the closed subgroup Sn ⊆
OutF (Πn ) [cf. [NodNon], Theorem B].
Next, let us observe that if T is E  -strict for some subset E  ⊆ E
of cardinality one, then the commutativity of the displayed diagram in
assertion (i) follows immediately from Claim 3.16.A and [CbTpI], Theorem A, (i). Thus, it follows from Lemma 3.8, (ii), that, to complete the
veriﬁcation of assertion (i), it suﬃces to verify, under the assumption
that σ = id,

COMBINATORIAL ANABELIAN TOPICS II

83

(a) the commutativity of the displayed diagram in assertion (i) in
the case where (r, n) = (0, 2), and T is {1, 2}-strict, and
(b) the equalities
OutF (Πn )[T, σ
] = OutF (Πn )[T ] = OutF (Πn )[T σ ]
in assertion (i) in the case where (r, n) = (0, 2), and T is {1, 2}strict.
In particular, to verify assertion (i), we may assume without loss of
generality [cf. conditions (2C ) and (2N ) of Lemma 3.8, (ii)] that we
are in the situation of Lemma 3.11 in the case where we take the “n”,
“E” of Lemma 3.11 to be 2, {1, 2}, respectively. Moreover, it follows
immediately from Lemma 3.8, (ii), that the Πn -conjugacy classes of
T , T σ coincide with the Πn -conjugacy classes of the closed subgroups
new , Πv new of Πn that appear in the statement of Lemma 3.11, reΠv2/1
1\2
spectively. Then the above equalities in (b) follows immediately from
Lemma 3.11, (x). Moreover, it follows from Lemma 3.11, (viii), (ix),
that the composites
T → CΠn (T )  CΠn (T )/Z(CΠn (T )),
T σ → CΠn (T σ )  CΠn (T σ )/Z(CΠn (T σ ))
are isomorphisms. Thus, the commutativity in (a) follows immediately
from Lemma 3.11, (x). This completes the proof of assertion (i). Assertion (ii) follows from Lemma 3.5.
Next, we verify assertion (iii). First, to verify the ﬁrst displayed
equality of assertion (iii), let us observe that since T is 1-descendable,
there exists a subset E  ⊆ E such that the image of T ⊆ ΠE via



pΠ
E/E  : ΠE  ΠE is an E -tripod, and, moreover, #E ≤ n − 1. Thus,
it follows immediately from Claim 3.16.A, together with Remark 3.4.1

— by replacing T , E, by pΠ
E/E  (T ), E , respectively — that, to verify the
ﬁrst displayed equality of assertion (iii), we may assume without loss
of generality that E = {1, · · · , n}. Then the ﬁrst displayed equality of
assertion (iii) follows immediately from Lemma 3.14, (iv); the portion
of Lemma 3.15, (i) [where we observe that the “T ” of Lemma 3.15
diﬀers from the T of the present discussion!], concerning “(Πv )2 ” [cf.
condition (a) of Lemma 3.15]. This completes the proof of the ﬁrst
displayed equality of assertion (iii).
Next, suppose that condition (iii-1) is satisﬁed; thus, there exists a

subset E  ⊆ E such that the image pΠ
E/E  (T ) ⊆ ΠE is an E -tripod, and,

moreover, #E  ≤ n − 2. Then — by replacing T , E by pΠ
E/E  (T ), E ,
respectively [and applying Claim 3.16.A] — we may assume without
loss of generality that #E ≤ n − 2. Thus, by applying [CbTpI], Theorem A, (ii), we conclude that the second displayed equality of assertion
(iii) follows immediately from the ﬁrst displayed equality of assertion
(iii).

84

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Next, suppose that condition (iii-2) is satisﬁed. Then — by re
placing T , E by the pΠ
E/E  (T ), E in condition (iii-2) [and applying
Claim 3.16.A] — we may assume without loss of generality that E =
{1, · · · , n}, and, moreover, that T is a cusp-supporting E-tripod. Then
it follows immediately from Lemma 3.14, (iv); the portion of Lemma 3.15,
(i), concerning (Πv )2 [cf. condition (b) of Lemma 3.15], that the second
displayed equality of assertion (iii) holds. This completes the proof of
assertion (iii).
Next, we verify assertion (iv). If either condition (iv-1) or condition (iv-3) is satisﬁed, then one reduces immediately to the case where
n = 2, in which case it follows immediately from Lemma 3.13, (i), that
α ∈ OutF (Πn )[T ]. If condition (iv-1) is satisﬁed, then one reduces immediately to the case where n = 2, in which case it follows immediately
from Lemma 3.13, (i), that α ∈ OutF (Πn )[T : {C}]. If both condition
(iv-1) and condition (iv-3) are satisﬁed, then — by applying a suitable specialization isomorphism [cf. the discussion preceding [CmbCsp],
Deﬁnition 2.1, as well as [CbTpI], Remark 5.6.1] — one reduces immediately to the case where n = 2 and Node(G) = ∅, in which case it follows immediately from Lemma 3.15, (i), that α ∈ OutF (Πn )[T : {|C|}].
Finally, if condition (iv-2) is satisﬁed, then, by applying [CbTpI], Theorem A, (ii), one reduces immediately to the case where “n” is taken
to be n − 1, and condition (iv-1) is satisﬁed. This completes the proof
of assertion (iv).
Finally, we verify assertion (v). First, we claim that the following
assertion holds:
Claim 3.16.B: OutF (Πn ) = OutF (Πn )[T ].
Indeed, to verify Claim 3.16.B, by reordering the factors of Xn , we
may assume without loss of generality that E = {1, 2, 3}. Let α
 ∈
F
Aut (Πn ). Then since n ≥ 3, it follows immediately from [CbTpI],
Theorem A, (ii), together with Lemma 3.2, (iv), that the outomorphism
 preserves the Π2/1 -conjugacy class of cuspidal
of Π2/1 determined by α
subgroups of Π2/1 associated to the [unique — cf. Lemma 3.2, (ii)]
diagonal cusp. Thus, it follows immediately from assertion (iv) in the
case where condition (iv-3) is satisﬁed that the outomorphism of Π3
determined by α
 preserves the Π3 -conjugacy class of T ⊆ Π3 . This
completes the proof of Claim 3.16.B.
Next, we claim that the following assertion holds:
Claim 3.16.C: OutF (Πn )[T ] = OutF (Πn )[T : {Δ}].
Indeed, since n ≥ 3, this follows immediately from Theorem 2.3, (iv),
together with a similar argument to the argument used in the proof of
[CmbCsp], Corollary 3.4, (i). This completes the proof of Claim 3.16.C.
Now it follows immediately from Claims 3.16.B, 3.16.C that we have
an equality OutF (Πn ) = OutF (Πn )[T : {Δ}]. Thus, it follows from
assertion (ii) and the ﬁrst displayed equality of assertion (iii), together

COMBINATORIAL ANABELIAN TOPICS II

85

with Theorem 2.3, (ii), that, to complete the proof of the content of
the ﬁrst two displays of assertion (v), it suﬃces to verify the equality
OutFC (Πn ) = OutFC (Πn )[T : {C}]. On the other hand, this follows immediately from the portion of Lemma 3.15, (i), concerning α|T . [Note
that one veriﬁes easily that every central tripod arises from a cusp.]
Thus, it remains to verify the equality of the ﬁnal display of assertion
(v). In light of what has already been veriﬁed [cf. also Theorem 2.3,
(ii)], to verify the ﬁnal equality of assertion (v), it suﬃces to verify
the condition “+” on the right-hand side of this equality. On the
other hand, it follows immediately — by replacing an element of the
left-hand side of the equality under consideration by a composite of
the element with a suitable outomorphism arising from an element of
OutFC (Π4 ) [cf. the equality of the ﬁrst display of assertion (v)] —
from [CmbCsp], Lemma 2.4, that it suﬃces to verify the condition “+”
on an element of the left-hand side of the equality under consideration
that induces the identity automorphism on Cusp(G). Then the equality
under consideration follows immediately, in light of the assumption that
r = 0, by ﬁrst applying Lemma 3.15, (i) [in the case where we take the
“E” of loc. cit. to be a subset of E of cardinality two, and we apply the
argument involving specialization isomorphisms applied in the proof of
assertion (iv)], and then applying Lemma 3.15, (i), (ii) [in the case
where we take the “E” of loc. cit. to be E]. This completes the proof
of assertion (v).


Remark 3.16.1. Theorem 3.16, (i), may be regarded as a generalization of [CmbCsp], Corollary 1.10, (ii). On the other hand, Theorem 3.16, (v), may be regarded as a more precise version of [CmbCsp],
Corollary 3.4.

Theorem 3.17 (Synchronization of tripods in two dimensions).
In the notation of Theorem 3.16, suppose that n = 2, and that #E = 1;
thus, one may regard the E-tripod T of Πn as a verticial subgroup
∼
of ΠE → ΠG associated to a vertex vT ∈ Vert(G) of type (0, 3) [cf.
Deﬁnition 3.1, (ii)]. Let E  ⊆ {1, · · · , n} and T  ⊆ ΠE  an E  -tripod
of Πn . Then the following hold:
(i) Suppose that there exists an edge e ∈ E(vT ) from which T 
arises [cf. Deﬁnition 3.7, (i)]. [Thus, it holds that E  =
{1, 2}.] Then it holds that
OutFC (Πn )[T : {|C|, Δ}] ⊆ OutFC (Πn )[T  : {|C|, Δ, +}]
[cf. the notational conventions of Theorem 3.16, (i)]. Moreover, there exists a geometric [cf. Deﬁnition 3.4, (ii)] outer

86

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
∼

isomorphism T → T  such that the diagram
OutFC (Πn )[T : {|C|, Δ}]

OutFC (Πn )[T  : {|C|, Δ, +}]

⊆

TT ↓

↓ TT 
∼

−→

Out(T )

Out(T  )

[cf. the notation of Theorem 3.16, (i)] — where the lower
horizontal arrow is the isomorphism induced by the outer iso∼
morphism in question T → T  — commutes.
(ii) Suppose that #E  = 1. Thus, one may regard the E  -tripod
∼
T  of Πn as a verticial subgroup of ΠE  → ΠG associated to a
vertex vT  ∈ Vert(G) of type (0, 3). Suppose, moreover, that
N (vT ) ∩ N (vT  ) = ∅. Then there exists a geometric [cf. Def∼
inition 3.4, (ii)] outer isomorphism T → T  such that if we
write
OutFC (Πn )[T, T  : {|C|, Δ}]
= OutFC (Πn )[T : {|C|, Δ}] ∩ OutFC (Πn )[T  : {|C|, Δ}] ,

def

then the diagram
OutFC (Πn )[T, T  : {|C|, Δ}]
⏐
⏐
TT 
Out(T )

OutFC (Πn )[T, T  : {|C|, Δ}]
⏐
⏐T 
 T
∼

−−−→

Out(T  )

— where the lower horizontal arrow is the isomorphism induced
∼
by the outer isomorphism in question T → T  — commutes.
Proof. First, we verify assertion (i). Let us observe that the inclusion OutFC (Πn )[T : {|C|}] ⊆ OutFC (Πn )[T  ], hence also the inclusion
OutFC (Πn )[T : {|C|, Δ}] ⊆ OutFC (Πn )[T  ], follows immediately from
Theorem 3.16, (iv), in the case where condition (iv-1) is satisﬁed. Thus,
one veriﬁes easily from Lemma 3.15, (i), (ii) [cf. also Lemma 3.14, (iv)],
that the remainder of assertion (i) holds. This completes the proof of
assertion (i). Next, we verify assertion (ii). It follows immediately
from [CmbCsp], Proposition 1.2, (iii), that we may assume without
loss of generality that E  = E. Write T  ⊆ Πn for the {1, 2}-tripod of
Πn arising from e ∈ N (vT ) ∩ N (vT  ). Then it follows from assertion
∼
∼
(i) that there exist geometric outer isomorphisms T → T  , T  → T 
that satisfy the condition of assertion (i) [i.e., for the pairs (T, T  ) and
(T  , T  )]. Thus, one veriﬁes easily that the [necessarily geometric] outer
∼
∼
isomorphism T → T  ← T  obtained by forming the composite of these
two outer isomorphisms satisﬁes the condition of assertion (ii). This
completes the proof of assertion (ii).


COMBINATORIAL ANABELIAN TOPICS II

87

Theorem 3.18 (Synchronization of tripods in three or more
dimensions). In the notation of Theorem 3.16, suppose that n ≥ 3.
Then the following hold:
(i) It holds that
OutFC (Πn )[T : {|C|}] = OutFC (Πn )[T : {|C|, Δ}]
[cf. the notational conventions of Theorem 3.16, (i)]. If, moreover, n ≥ 4 or r = 0, then it holds that
OutFC (Πn )[T : {|C|}] = OutFC (Πn )[T : {|C|, Δ, +}]
[cf. the notational conventions of Theorem 3.16, (i)].
(ii) Let E  ⊆ {1, · · · , n} and T  ⊆ ΠE  an E  -tripod of Πn . Then
there exists a geometric [cf. Deﬁnition 3.4, (ii)] outer iso∼
morphism T → T  such that if we write
OutFC (Πn )[T, T  : {|C|}]
= OutFC (Πn )[T : {|C|}] ∩ OutFC (Πn )[T  : {|C|}] ,
then the diagram
def

OutFC (Πn )[T, T  : {|C|}]
⏐
⏐
TT 
Out(T )

OutFC (Πn )[T, T  : {|C|}]
⏐
⏐T 
 T
∼

−−−→

Out(T  )

[cf. the notation of Theorem 3.16, (i)] — where the lower
horizontal arrow is the isomorphism induced by the outer iso∼
morphism in question T → T  — commutes.
Proof. First, we verify the ﬁrst displayed equality of assertion (i). Observe that it follows immediately from Lemma 3.8, (i), together with a
similar argument to the argument applied in the proof of the ﬁrst displayed equality of Theorem 3.16, (iii), that we may assume without loss
of generality that T is E-strict, which thus implies that #E ∈ {1, 2, 3}
[cf. Lemma 3.8, (ii)]. Now we apply induction on 3 − #E ∈ {0, 1, 2}.
If 3 − #E = 0, i.e., T is central [cf. Lemma 3.8, (ii)], then the ﬁrst displayed equality of assertion (i) follows immediately from Theorem 3.16,
(v). Now suppose that 3 − #E > 0, and that the induction hypothesis is in force. Let α ∈ OutFC (Πn )[T : {|C|}]. Then it follows immediately from Lemma 3.15, (i), (ii) [cf. also conditions (1), (2) of
Lemma 3.15, (ii), where we note that the E, E  , T , T  of the present
discussion correspond, respectively, to the “E \ {i}”, “E”, “Πv ”, “T ”
of Lemma 3.15], that there exist a subset E ⊆ E  ⊆ {1, · · · , n} and an
E  -tripod T  ⊆ ΠE  such that 3 − #E  < 3 − #E, T  ⊆ ΠE  is E  -strict,
and α ∈ OutFC (Πn )[T  : {|C|}] [cf. Lemma 3.15, (i)]. Thus, it follows
immediately from the induction hypothesis that α ∈ OutFC (Πn )[T  :
{|C|, Δ}]. In particular, it follows immediately from Lemma 3.15, (ii),

88

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

that — for a suitable choice of the pair (E  , T  ) [cf. the statement
of Lemma 3.15, (ii)] — the actions of α on T and T  may be related
by means of a geometric outer isomorphism, which thus implies that
α ∈ OutFC (Πn )[T : {|C|, Δ}] [cf. Remark 3.4.1]. This completes the
proof of the ﬁrst displayed equality of assertion (i).
Next, we verify assertion (ii). First, we claim that the following
assertion holds:
Claim 3.18.A: If both T and T  are central, then the
pair (T, T  ) satisﬁes the property stated in assertion
(ii).
Indeed, this assertion follows immediately from the commutativity of
the displayed diagram of Theorem 3.16, (i).
Next, we claim that the following assertion holds:
Claim 3.18.B: Suppose that T is E-strict, and that
#E = 3 [i.e., #E ∈ {1, 2} — cf. Lemma 3.8, (ii)].
Then there exist a subset E  E  ⊆ {1, · · · , n} and
an E  -tripod T  ⊆ ΠE  such that T  is E  -strict,
OutFC (Πn )[T : {|C|}] ⊆ OutFC (Πn )[T  : {|C|}], and,
moreover, the pair (T, T  ) satisﬁes the property stated
in assertion (ii) [i.e., where one takes “T  ” to be T  ].
Indeed, this follows immediately from Lemma 3.15, (i), (ii) [cf. also
conditions (1), (2) of Lemma 3.15, (ii), where we note that the E,
E  , T , T  of the present discussion correspond, respectively, to the
“E \ {i}”, “E”, “Πv ”, “T ” of Lemma 3.15], together with the ﬁrst
displayed equality of assertion (i). This completes the proof of Claim
3.18.B.
To verify assertion (ii), let us observe that it follows immediately
from Lemma 3.8, (i), together with a similar argument to the argument
applied in the proof of the ﬁrst displayed equality of Theorem 3.16, (iii),
that we may assume without loss of generality that T is E-strict; in particular, #E ∈ {1, 2, 3} [cf. Lemma 3.8, (ii)]. Next, let us observe that,
by comparing two arbitrary tripods of Πn to a ﬁxed central tripod of Πn
[and applying Theorem 3.16, (v)], one may reduce immediately to the
case where T  is central. Moreover, by successive application of Claim
3.18.B, one reduces immediately to the case where both T and T  are
central, which was veriﬁed in Claim 3.18.A. This completes the proof
of assertion (ii). Finally, the second displayed equality of assertion (i)
follows immediately from assertion (ii), together with Theorem 3.16,
(v). This completes the proof of Theorem 3.18.


Deﬁnition 3.19. Suppose that n ≥ 3. Let us write
Πtpd

COMBINATORIAL ANABELIAN TOPICS II

89

for the i-central E-tripod of Πn [cf. Deﬁnitions 3.3, (i); 3.7, (ii)], where
E ⊆ {1, . . . , n} is a subset of cardinality 3, and i ∈ E. Then it follows
from Theorem 3.16, (i), (v), that one has a natural homomorphism
TΠtpd : OutFC (Πn ) = OutFC (Πn )[Πtpd : {|C|, Δ}] −→ OutC (Πtpd )Δ
[cf. Deﬁnition 3.4, (i)], which is in fact independent of E and i [cf.
Theorem 3.16, (i)]. We shall refer to this homomorphism as the tripod
homomorphism associated to Πn and write
OutFC (Πn )geo ⊆ OutFC (Πn )
for the kernel of this homomorphism [cf. Remark 3.19.1 below]. Note
that it follows from Theorem 3.16, (v), that if n ≥ 4 or r = 0, then the
image of the tripod homomorphism is contained in OutC (Πtpd )Δ+ ⊆
OutC (Πtpd )Δ [cf. Deﬁnition 3.4, (i)]. If n ≥ 4 or r = 0, then TΠtpd
may also be regarded as a homomorphism deﬁned on OutF (Πn ) (=
OutFC (Πn ) — cf. Theorem 2.3, (ii)); in this case, we shall write
def
OutF (Πn )geo = OutFC (Πn )geo .
Remark 3.19.1. Let us recall that if we write π1 ((Mg,[r] )Q ) for the
étale fundamental group of the moduli stack (Mg,[r] )Q of hyperbolic
curves of type (g, r) over Q [cf. the discussion entitled “Curves” in
“Notations and Conventions”], then we have a natural outer homomorphism
π1 ((Mg,[r] )Q ) −→ OutFC (Πn ) .
Suppose that n ≥ 4. Then OutFC (Πn ) = OutF (Πn ) does not depend on n [cf. Theorem 2.3, (ii); [NodNon], Theorem B]. Morever,
one veriﬁes easily that the image of the geometric fundamental group
π1 ((Mg,[r] )Q ) ⊆ π1 ((Mg,[r] )Q ) — where we use the notation Q to denote
an algebraic closure of Q — via the above displayed outer homomorphism is contained in the kernel OutFC (Πn )geo ⊆ OutFC (Πn ) of the
tripod homomorphism associated to Πn [cf. Deﬁnition 3.19]. Thus,
the outer homomorphism of the above display ﬁts into a commutative
diagram of proﬁnite groups
1 −−−→ π1 ((Mg,[r] )Q ) −−−→ π1 ((Mg,[r] )Q ) −−−→
⏐
⏐
⏐
⏐


1 −−−→ OutF (Πn )geo −−−→

OutF (Πn )

Gal(Q/Q)
⏐
⏐


−−−→ 1

T tpd

Π
−−
−→ OutC (Πtpd )Δ+

— where the horizontal sequences are exact. In §4 below, we shall verify that the lower right-hand horizontal arrow TΠtpd is surjective [cf.
Corollary 4.15 below]. On the other hand, if Σ is the set of all prime
numbers, then it follows from Belyi’s Theorem that the right-hand
vertical arrow is injective; moreover, the surjectivity of the right-hand

90

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

vertical arrow has been conjectured in the theory of the GrothendieckTeichmüller group. From this point of view, one may regard the quoTΠtpd

tient OutF (Πn )  OutC (Πtpd )Δ+ as a sort of arithmetic quotient
of OutF (Πn ) and the subgroup OutF (Πn )geo ⊆ OutF (Πn ) as a sort of
geometric portion of OutF (Πn ).
Deﬁnition 3.20. Let m be a positive integer and Y log a stable log
curve over (Spec k)log . For each nonnegative integer i, write Y Πi for the
“Πi ” that occurs in the case where we take “X log ” to be Y log . Then
we shall say that an isomorphism (respectively, outer isomorphism)
∼
Π1 → Y Π1 is m-cuspidalizable if it arises from a [necessarily unique,
up to a permutation of the m factors, by [NodNon], Theorem B] PFC∼
admissible [cf. [CbTpI], Deﬁnition 1.4, (iii)] isomorphism Πm → Y Πm .
Proposition 3.21 (Tripod homomorphisms and ﬁnite étale coverings). Let Y log be a stable log curve over (Spec k)log and Y log →
X log a ﬁnite log étale covering over (Spec k)log . For each positive integer i, write Yilog (respectively, Y Πi ) for the “Xilog ” (respectively, “Πi ”)
that occurs in the case where we take “X log ” to be Y log . Suppose that
Y log → X log is geometrically pro-Σ and geometrically Galois,
i.e., Y log → X log determines an injection Y Π1 → Π1 [that is welldeﬁned up to Π1 -conjugation] whose image is normal. Let α
 be an
Y
automorphism of Π1 that preserves Π1 ⊆ Π1 . Suppose, moreover, that
 is n-cuspidalizable [cf.
the outomorphism α of Π1 determined by α
Deﬁnition 3.20]. Then the following hold:
(i) The outomorphism Yα of Y Π1 determined by α
 is n-cuspidalizable [cf. Deﬁnition 3.20].
(ii) Suppose that n ≥ 3. Let Πtpd ⊆ Π3 , Y Πtpd ⊆ Y Π3 be 1-central
[{1, 2, 3}-]tripods [cf. Deﬁnitions 3.3, (i); 3.7, (ii)] of Πn , Y Πn ,
respectively. Write αn , Yαn for the respective FC-admissible
outomorphisms of Πn , Y Πn determined by the n-cuspidalizable
outomorphisms α, Yα [cf. (i)]. Then there exists a geometric
∼
[cf. Deﬁnition 3.4, (ii)] outer isomorphism φtpd : Πtpd → Y Πtpd
such that the outomorphism TΠtpd (αn ) [cf. Deﬁnition 3.19] of
Πtpd is compatible with the outomorphism TY Πtpd (Yαn ) [cf.
Deﬁnition 3.19] of Y Πtpd relative to φtpd .
Proof. First, let us observe that, to verify Proposition 3.21 — by applying a suitable specialization isomorphism [cf. the discussion preceding
[CmbCsp], Deﬁnition 2.1, as well as [CbTpI], Remark 5.6.1] — we may
assume without loss of generality that X log and Y log are smooth log
curves over (Spec k)log . Write (UX )n , (UY )n for the [open subschemes

COMBINATORIAL ANABELIAN TOPICS II

91

of Xn , Yn determined by the] 1-interiors [cf. [MzTa], Deﬁnition 5.1,
(i)] of Xnlog , Ynlog , respectively. [Here, we note that in the present situation, the 0-interior of (Spec k)log , hence also of Xnlog , Ynlog , is empty!]
def
def
Thus, one veriﬁes easily that UX = (UX )1 , UY = (UY )1 are hyperbolic curves over k, and that (UX )n , (UY )n are naturally isomorphic to
the n-th conﬁguration spaces of UX , UY , respectively. Write UX×n , UY×n
for the respective ﬁber products of n copies of UX , UY over k; Π×n
1 ,
Y ×n
Y
Π1 for the respective direct products of n copies of Π1 , Π1 ; Vn for
the ﬁber product of the natural open immersion (UX )n → UX×n and
the natural ﬁnite étale covering UY×n → UX×n . Then one veriﬁes easily
that the resulting open immersion Vn → UY×n factors through the natural open immersion (UY )n → UY×n , i.e., we obtain an open immersion
Vn → (UY )n . That is to say, whereas (UY )n is the open subscheme of
UY×n obtained by removing the various diagonals of UY×n , the scheme Vn
may be thought of as the open subscheme of UY×n obtained by removing
the various Galois conjugates of these diagonals, relative to the action
of the Galois group Gal(UY×n /UX×n ) = Gal(UY /UX )×n . In particular,
we obtain a natural outer isomorphism and outer surjection
∼

Y ×n
Π1 ← ΠVn  Y Πn
Πn ×Π×n
1

— where we write ΠVn for the maximal pro-Σ quotient of the étale
fundamental group of Vn .
Now we verify assertion (i). Let α
n be an FC-admissible automor of Π1 with respect
phism of Πn that lies over the automorphism α
n is
to each of the n natural projections Πn  Π1 . Then since α
FC-admissible and commutes with the image of the natural inclusion
Sn → Out(Πn ) [cf. [NodNon], Theorem B], one veriﬁes easily, in
light of the description given above of Vn , that the outomorphism of
Y ×n
Πn ×Π×n
Π1 induced by α
n and Yα preserves the inertia subgroups
1
associated to each irreducible component of the complement UY×n \ Vn .
Thus, since [by the Zariski-Nagata purity theorem] the inertia subgroups of the irreducible components of the complement (UY )n \ Vn
normally topologically generate the kernel of the above outer surjection ΠVn  Y Πn , we conclude, by applying the morphisms of the above
Y ×n
display, that the outomorphism of Πn ×Π×n
Π1 induced by α
n and
1
Y
Y
α determines an FC-admissible outomorphism of Πn . Moreover, one
veriﬁes easily that the resulting outomorphism of Y Πn lies over the
outomorphism Yα of Y Π1 . This completes the proof of assertion (i).
Next, we verify assertion (ii). First, let us observe that the natural
inclusion Πtpd → Π3 , together with the trivial homomorphism Πtpd →
({1} →) Y Π×3
1 [cf. Deﬁnition 3.3, (ii); Lemma 3.6, (v); Deﬁnition 3.7,
Y ×3 ∼
(ii)], determines an injection Πtpd → Π3 ×Π×3
Π1 ← ΠV3 . Moreover,
1
it follows immediately from the fact that the blow-up operation that
gives rise to a central tripod is compatible with étale localization [cf. the

92

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

discussion of [CmbCsp], Deﬁnition 1.8] that — after possibly replacing
Y tpd
Π ⊆ Y Π3 by a suitable Y Π3 -conjugate of Y Πtpd — the composite of
this injection Πtpd → ΠV3 with the natural outer surjection ΠV3  Y Π3
of the above display determines a geometric outer [cf. Lemma 3.12,
∼
(i)] isomorphism φtpd : Πtpd → Y Πtpd ⊆ Y Π3 . On the other hand, one
veriﬁes easily [cf. the construction of Yαn given in the proof of assertion
(i)] that this outer isomorphism φtpd satisﬁes the property stated in
assertion (ii). This completes the proof of assertion (ii).


Corollary 3.22 (Non-surjectivity result). In the notation of Theorem 3.16, suppose that (g, r) ∈ {(0, 3); (1, 1)}. Then the natural injection
OutFC (Π2 ) → OutFC (Π1 )
of [NodNon], Theorem B, is not surjective.
Proof. First, let us observe — by considering a suitable stable log
curve of type (g, r) over (Spec k)log and applying a suitable specialization isomorphism [cf. the discussion preceding [CmbCsp], Deﬁnition 2.1, as well as [CbTpI], Remark 5.6.1] — that, to verify Corollary 3.22, we may assume without loss of generality that G is totally
degenerate [cf. [CbTpI], Deﬁnition 2.3, (iv)], i.e., that every vertex
of G is a tripod of Xnlog [cf. Deﬁnition 3.1, (v)]. Note that [since
(g, r) ∈ {(0, 3); (1, 1)}] this implies that #Vert(G) ≥ 2. Let us ﬁx
def
a vertex v0 ∈ Vert(G) and write αv0 = idG|v0 ∈ Aut|grph| (G|v0 ) [cf.
[CbTpI], Deﬁnitions 2.1, (iii), and 2.6, (i); Remark 4.1.2 of the present
monograph]. For each v ∈ Vert(G) \ {v0 }, let αv ∈ Aut|grph| (G|v ) be
a nontrivial automorphism of G|v such that αv ∈ OutC (ΠG|v )Δ , and,
moreover, χG|v (αv ) = 1 [cf. [CbTpI], Deﬁnition 3.8, (ii)]. Here, we note
that since the image of the natural outer Galois representation of the
absolute Galois group of Q associated to P1Q \ {0, 1, ∞} is contained in
“OutC (−)Δ ”, by considering a nontrivial element of this image whose
image via the cyclotomic character is trivial, one veriﬁes immediately
[e.g., by applying [LocAn], Theorem A] that such an automorphism
αv ∈ Aut|grph| (G|v ) always exists. Then it follows immediately from
[CbTpI], Theorem B, (iii), that there exists an automorphism α ∈
Aut|grph| (G) such that ρVert
G (α) = (αv )v∈Vert(G) . Now assume that there
exists an outomorphism α2 ∈ OutFC (Π2 ) such that α ∈ Aut|grph| (G)
∼
(⊆ Out(ΠG ) ← Out(Π1 )) is equal to the image of α2 via the injection in
question OutFC (Π2 ) → OutFC (Π1 ). Then, for each v ∈ Vert(G), since
αv ∈ OutC (ΠG|v )Δ , and α ∈ Aut|grph| (G), it follows immediately from
the various deﬁnitions involved that α2 ∈ OutFC (Π2 )[Πv : {|C|, Δ}]
— where we use the notation Πv to denote a verticial subgroup of

COMBINATORIAL ANABELIAN TOPICS II
∼

93
def

ΠG ← Π1 associated to v ∈ Vert(G). Thus, since αv0 = idG|v0 , it follows from Theorem 3.17, (ii), that αv = idG|v for every v ∈ Vert(G), in
contradiction to the fact that for v ∈ Vert(G) \ {v0 } (= ∅), the automorphism αv ∈ Aut|grph| (G|v ) is nontrivial. This completes the proof
of Corollary 3.22.

Remark 3.22.1.
(i) Let us recall from [NodNon], Corollary 6.6, that, in the discrete case, the homomorphism that corresponds to the homomorphism discussed in Corollary 3.22 is, in fact, surjective;
moreover, this surjectivity may be regarded as an immediate
consequence of the Dehn-Nielsen-Baer theorem — cf. the proof
of [CmbCsp], Theorem 5.1, (ii). This phenomenon illustrates
that, in general, analogous constructions in the discrete and
proﬁnite cases may in fact exhibit quite diﬀerent behavior.
(ii) In the context of (i), we recall another famous example of substantially diﬀerent behavior in the discrete and proﬁnite cases:
As is well-known, in classical algebraic topology, singular cohomology with coeﬃcients in Z yields a “good” cohomology
theory with coeﬃcients in Z. On the other hand, in the 1960’s,
Serre gave an argument involving supersingular elliptic curves
in characteristic p > 0 which shows that such a “good” cohomology theory with coeﬃcients in Z [or even in Zp !] cannot
exist for smooth varieties of positive characteristic.
(iii) In [Lch], various conjectures concerning [in the notation of the
present monograph] the proﬁnite group “Out(Π1 )” were introduced. However, at the time of writing, the authors of the
present monograph were unable to ﬁnd any justiﬁcation for
the validity of these conjectures that goes beyond the observation that the discrete analogues of these conjectures are indeed
valid. That is to say, there does not appear to exist any justiﬁcation for excluding the possibility that — just as in the case
of the examples discussed in (i), (ii), i.e., the Dehn-NielsenBaer theorem and singular cohomology with coeﬃcients in Z
— the discrete and proﬁnite cases exhibit substantially diﬀerent behavior. In particular, it appears to the authors that it is
desirable that this issue be addressed in a satisfactory fashion
in the context of these conjectures.
Remark 3.22.2. As discussed in Remark 3.22.1, (i), in the discrete
case, the homomorphism that corresponds to the homomorphism discussed in Corollary 3.22 is, in fact, bijective. The proof of Corollary 3.22

94

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

fails in the discrete case for the following reason: The pro-Σ “Π1 ” of
a tripod admits nontrivial C-admissible outomorphisms that commute
with the outer modular symmetries and, moreover, lie in the kernel of
the cyclotomic character [cf. the proof of Corollary 3.22]. By contrast,
the discrete “Π1 ” of a tripod does not admit such outomorphisms. Indeed, it follows from a classical result of Nielsen [cf. [CmbCsp], Remark
5.3.1] that the discrete “OutC (Π1 )cusp ” in the case of a tripod is a ﬁnite
group of order 2 whose unique nontrivial element arises from complex
conjugation.
Remark 3.22.3. It follows from [NodNon], Theorem B, together with
Corollary 3.22, that if (g, r) ∈ {(0, 3); (1, 1)}, then the homomorphism
OutFC (Πn+1 ) → OutFC (Πn ) of [NodNon], Theorem B, ﬁts into the
following sequences of homomorphisms of proﬁnite groups: If r = 0,
then for any n ≥ 3,
≃

≃?

∼

OutFC (Πn ) → OutFC (Π3 ) → OutFC (Π2 ) → OutFC (Π1 ) .
If r = 0, then for any n ≥ 4,
∼

≃?

≃

≃?

OutFC (Πn ) → OutFC (Π4 ) → OutFC (Π3 ) → OutFC (Π2 ) → OutFC (Π1 ) .
Deﬁnition 3.23. Let Σ0 be a nonempty set of prime numbers and
G0 a semi-graph of anabelioids of pro-Σ0 PSC-type. Write ΠG0 for the
[pro-Σ0 ] fundamental group of G0 .
(i) Let H be a semi-graph of anabelioids of pro-Σ0 PSC-type,
∼
S ⊆ Node(H), and φ : HS → G0 [cf. [CbTpI], Deﬁnition
2.8, for more on this notation] an isomorphism [of semi-graphs
of anabelioids of PSC-type]. Then we shall refer to the triple
(H, S, φ) as a degeneration structure on G0 .
(ii) Let (H1 , S1 , φ1 ), (H2 , S2 , φ2 ) be two degeneration structures on
G0 [cf. (i)]. Then we shall write
(H2 , S2 , φ2 )

(H1 , S1 , φ1 )

if there exist a subset S2,1 ⊆ S2 of S2 and a(n) [uniquely determined, by φ1 and φ2 ! — cf. [CmbGC], Proposition 1.5,
∼
(ii)] isomorphism φ2,1 : (H2 )S2,1 → H1 [i.e., a degeneration
structure (H2 , S2,1 , φ2,1 ) on H1 ] such that φ2,1 maps S2 \ S2,1
bijectively onto S1 , and the diagram
∼

((H2 )S2,1 )S2 \S2,1 −−−→ (H1 )S1
⏐
⏐
⏐
⏐

 φ 1
(H2 )S2

φ2

−−−→
∼

G0

COMBINATORIAL ANABELIAN TOPICS II

95

— where the upper horizontal arrow is the isomorphism induced by φ2,1 , and the left-hand vertical arrow is the natural
isomorphism — commutes. [Here, we note that the subset S2,1
is also uniquely determined by φ1 and φ2 — cf. [CmbGC],
Proposition 1.2, (i).]
(iii) Let (H1 , S1 , φ1 ), (H2 , S2 , φ2 ) be two degeneration structures on
G0 [cf. (i)]. Then we shall say that (H1 , S1 , φ1 ) is co-Dehn to
(H2 , S2 , φ2 ) if there exists a degeneration structure (H3 , S3 , φ3 )
on G0 such that
(H3 , S3 , φ3 )

(H1 , S1 , φ1 ); (H3 , S3 , φ3 )

(H2 , S2 , φ2 )

[cf. (ii)].
(iv) Let (H, S, φ) be a degeneration structure on G0 [cf. (i)] and
α ∈ Out(ΠG0 ). Then we shall say that α is an (H, S, φ)-Dehn
multi-twist of G0 if α is contained in the image of the composite
∼

∼

Dehn(H) → Out(ΠH ) ← Out(ΠHS ) → Out(ΠG0 )
— where the ﬁrst arrow is the natural inclusion [cf. [CbTpI],
Deﬁnition 4.4], the second arrow is the isomorphism determined by ΦHS [cf. [CbTpI], Deﬁnition 2.10], and the third
arrow is the isomorphism determined by φ. We shall say that
α is a nondegenerate (respectively, positive deﬁnite) (H, S, φ)Dehn multi-twist of G0 if α is the image of a nondegenerate [cf.
[CbTpI], Deﬁnition 5.8, (ii)] (respectively, positive deﬁnite [cf.
[CbTpI], Deﬁnition 5.8, (iii)]) proﬁnite Dehn multi-twist of H
via the above composite.
(v) Let m be a positive integer and Y log a stable log curve over
(Spec k)log . If m ≥ 2, then suppose that Σ0 is either equal
to Primes or of cardinality one. For each nonnegative integer
i, write Y Πi (respectively, H) for the “Πi ” (respectively, “G”)
that occurs in the case where we take “X log ” to be Y log . Then
we shall say that a degeneration structure (H, S, φ) on G [cf.
(i)] is m-cuspidalizable if the composite
Y

∼

ΦHS
∼

φ
∼

∼

Π1 −→ ΠH ←− ΠHS −→ ΠG ←− Π1

— where the ﬁrst and fourth arrows are the natural outer isomorphisms [cf. Deﬁnition 3.1, (ii)], and the second arrow ΦHS
is the natural outer isomorphism of [CbTpI], Deﬁnition 2.10 —
is m-cuspidalizable [cf. Deﬁnition 3.20].

Remark 3.23.1. One interesting open problem in the theory of proﬁnite Dehn multi-twists developed in [CbTpI], §4, is the following: In

96

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

the notation of Deﬁnition 3.23, for i = 1, 2, let (Hi , Si , φi ) be a degeneration structure on G0 [cf. Deﬁnition 3.23, (i)]; αi ∈ Out(ΠG0 ) a
nondegenerate (Hi , Si , φi )-Dehn multi-twist [cf. Deﬁnition 3.23, (iv)].
Then:
Suppose that α1 commutes with α2 . Then is (H1 , S1 , φ1 )
co-Dehn to (H2 , S2 , φ2 ) [cf. Deﬁnition 3.23, (iii)]?
It is not clear to the authors at the time of writing whether or not this
question may be answered in the aﬃrmative. Nevertheless, we are able
to obtain a partial result in this direction [cf. Corollary 3.25 below].

Proposition 3.24 (Compatibility of tripod homomorphisms).
Suppose that n ≥ 3. Then the following hold:
(i) Let Y log be a stable log curve over (Spec k)log . For each nonnegative integer i, write Y Πi (respectively, H) for the “Πi ” (respectively, “G”) that occurs in the case where we take “X log ” to
be Y log . Let (H, S, φ) be an n-cuspidalizable degeneration
∼
structure on G [cf. Deﬁnition 3.23, (i), (v)]; φn : Y Πn → Πn
a PFC-admissible outer isomorphism [cf. [CbTpI], Deﬁnition
1.4, (iii)] that lies over the displayed composite isomorphism
of Deﬁnition 3.23, (v); Πtpd ⊆ Π3 , Y Πtpd ⊆ Y Π3 1-central
[{1, 2, 3}-]tripods [cf. Deﬁnitions 3.3, (i); 3.7, (ii)] of Πn ,
Y
Πn , respectively. Then there exists an outer isomorphism
∼
φtpd : Y Πtpd → Πtpd such that the diagram
∼

OutFC (Y Πn ) −−−→ OutFC (Πn )
⏐
⏐
⏐T
⏐
TY Πtpd 
 Πtpd
∼

Out(Y Πtpd ) −−−→ Out(Πtpd )
[cf. Deﬁnition 3.19] — where the upper and lower horizontal
arrows are the isomorphisms induced by φn , φtpd , respectively
— commutes, up to inner automorphisms of Out(Πtpd ). In
particular, φn determines an isomorphism
∼

OutFC (Y Πn )geo −→ OutFC (Πn )geo
[cf. Deﬁnition 3.19].
(ii) If we regard OutFC (Πn ) as a closed subgroup of OutFC (Π1 ) by
means of the natural injection OutFC (Πn ) → OutFC (Π1 ) of
[NodNon], Theorem B, then the closed subgroup Dehn(G) ⊆
∼
(Aut(G) ⊆) Out(ΠG ) ← Out(Π1 ) [cf. [CbTpI], Deﬁnition 4.4]
is contained in OutFC (Πn )geo ⊆ OutFC (Πn ), i.e.,
Dehn(G) ⊆ OutFC (Πn )geo .

COMBINATORIAL ANABELIAN TOPICS II

97

Proof. First, we verify assertion (i). Let us observe that if the outer
isomorphism φn arises scheme-theoretically as a specialization isomorphism — cf. the discussion preceding [CmbCsp], Deﬁnition 2.1, as well
as [CbTpI], Remark 5.6.1 — then the commutativity in question follows
immediately from the various deﬁnitions involved [cf. also the discussion preceding [CmbCsp], Deﬁnition 2.1]. Now the general case follows
from the observation that the scheme-theoretic case treated above allows one to reduce to the case where Y log = X log , and φn is an FCadmissible outomorphism, in which case the commutativity in question
is a tautological consequence of the fact that TΠtpd is a group homomorphism. This completes the proof of assertion (i).
Next, we verify assertion (ii). The inclusion Dehn(G) ⊆ OutFC (Πn )
follows immediately from the fact that every proﬁnite Dehn multitwist arises scheme-theoretically. Next, we observe that the inclusion
Dehn(G) ⊆ OutFC (Πn )geo may be regarded either as a consequence
of the fact that every proﬁnite Dehn multi-twist arises “Q-schemetheoretically”, i.e., from scheme theory over Q [cf. the commutative
diagram of Remark 3.19.1], or as a consequence of the following argument: Observe that it follows immediately from assertion (i), together
with [CbTpI], Theorem 4.8, (ii), (iv), that, by applying a suitable specialization isomorphism — cf. the discussion preceding [CmbCsp], Definition 2.1, as well as [CbTpI], Remark 5.6.1 — we may assume without loss of generality that G is totally degenerate. Then the inclusion
Dehn(G) ⊆ OutFC (Πn )geo follows immediately from Theorem 3.18, (ii)
[cf. also Theorem 3.16, (v); [CbTpI], Deﬁnition 4.4!]. This completes
the proof of assertion (ii).


Corollary 3.25 (Co-Dehn-ness of degeneration structures in
the totally degenerate case). In the notation of Theorem 3.16, for
i = 1, 2, let Yilog be a stable log curve over (Spec k)log ; Hi the “G” that
occurs in the case where we take “X log ” to be Yilog ; (Hi , Si , φi ) a 3cuspidalizable degeneration structure on G [cf. Deﬁnition 3.23,
(i), (v)]; αi ∈ Out(ΠG ) a nondegenerate (Hi , Si , φi )-Dehn multi-twist
of G [cf. Deﬁnition 3.23, (iv)]. Suppose that α1 commutes with α2 ,
and that H2 is totally degenerate [cf. [CbTpI], Deﬁnition 2.3, (iv)].
Suppose, moreover, that one of the following conditions is satisﬁed:
(a) r = 0.
(b) α1 and α2 are positive deﬁnite [cf. Deﬁnition 3.23, (iv)].
Then (H1 , S1 , φ1 ) is co-Dehn to (H2 , S2 , φ2 ) [cf. Deﬁnition 3.23,
(iii)], or, equivalently [since H2 is totally degenerate], (H2 , S2 , φ2 )
(H1 , S1 , φ1 ) [cf. Deﬁnition 3.23, (ii)].

98

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
∼

Proof. For i = 1, 2, write ψi : ΠG → ΠHi for the composite outer
isomorphism
φi
∼

ψi : ΠG ← Π(Hi )Si

Φ(Hi )S
i
∼

→

ΠH i

and ψ = ψ1 ◦ ψ2−1 . Write α1 [H2 ] ∈ Out(ΠH2 ) for the outomorphism
obtained by conjugating α1 by ψ2 . First, we claim that the following
assertion holds:
def

Claim 3.25.A: There exists a positive integer a such
def
that β = α1 [H2 ]a ∈ Dehn(H2 ).
Indeed, since α1 is an (H1 , S1 , φ1 )-Dehn multi-twist of G, the outomorphism α1 [H2 ] of ΠH2 is group-theoretically cuspidal. Thus, since α1
commutes with α2 , it follows, in the case of condition (a) (respectively,
(b)), from Theorem 1.9, (i) (respectively Theorem 1.9, (ii)), which may
be applied in light of [CbTpI], Corollary 5.9, (ii) (respectively, [CbTpI],
Corollary 5.9, (iii)), that α1 [H2 ] ∈ Aut(H2 ). In particular, since the
underlying semi-graph of H2 is ﬁnite, there exists a positive integer
a such that α1 [H2 ]a ∈ Aut|grph| (H2 ) [cf. [CbTpI], Deﬁnition 2.6, (i);
Remark 4.1.2 of the present monograph]. On the other hand, since α1
is an (H1 , S1 , φ1 )-Dehn multi-twist of G, it follows immediately from
Proposition 3.24, (i), (ii), that the image of α1 via the tripod homomorphism associated to Π3 [cf. Deﬁnition 3.19] is trivial. Thus, since
H2 is totally degenerate, and α1 [H2 ]a ∈ Aut|grph| (H2 ), by applying Theorem 3.18, (ii), together with Proposition 3.24, (i), we conclude that
β = α1 [H2 ]a ∈ Dehn(H2 ). This completes the proof of Claim 3.25.A.
{l}
Next, let us ﬁx an element l ∈ Σ. For i ∈ {1, 2}, write Hi for the
semi-graph of anabelioids of pro-l PSC-type obtained by forming the
pro-l completion of Hi [cf. [SemiAn], Deﬁnition 2.9, (ii)]. Then it follows immediately from Claim 3.25.A, together with [CbTpI], Theorem
4.8, (ii), (iv), that there exists a subset S ⊆ Node(H2 ) [which may de{l}
pend on l!] such that the automorphism β {l} ∈ Aut(H2 ) induced by β
{l}
{l}
{l}
is contained in Dehn((H2 )S ) ⊆ Dehn(H2 ) ⊆ Aut(H2 ) [i.e., β {l} is
{l}
a proﬁnite Dehn multi-twist of (H2 )S ], and, moreover, β {l} is nonde{l}
{l}
generate as a proﬁnite Dehn multi-twist of (H2 )S . Write α1 for the
outomorphism of the pro-l group ΠH{l} [which is naturally isomorphic
1
to the maximal pro-l quotient of ΠH1 ] obtained by conjugating α1 by
∼
ψ1 and ψ {l} : ΠH{l} → ΠH{l} for the outer isomorphism induced by ψ
2
1
[cf. the discussion preceding Claim 3.25.A].
Next, we claim that the following assertion holds:
Claim 3.25.B: The composite outer isomorphism
ψS : Π(H2 )S

Φ(H2 )S
∼

→

ψ
∼

ΠH2 → ΠH1

COMBINATORIAL ANABELIAN TOPICS II

99
∼

is graphic, i.e., arises from an isomorphism (H2 )S →
H1 .
∼
Indeed, let ψS : Π(H2 )S → ΠH1 be an isomorphism that lifts ψS . Then
it follows immediately from [CmbGC], Proposition 1.5, (ii) — by considering the functorial bijections between the sets “VCN” [cf. [NodNon],
Deﬁnition 1.1, (iii)] of various connected ﬁnite étale coverings of H1 ,
(H2 )S — that, to verify Claim 3.25.B, it suﬃces to verify the following:
Let I2 → (H2 )S be a connected ﬁnite étale covering of (H2 )S that corresponds to a characteristic
open subgroup ΠI2 ⊆ Π(H2 )S . Write I1 → H1 for
the connected ﬁnite étale covering of H1 that corresponds to the [necessarily characteristic] open subdef
{l}
{l}
group ΠI1 = ψS (ΠI2 ) ⊆ ΠH1 and I1 , I2 for the
semi-graphs of anabelioids of pro-l PSC-type obtained
by forming the pro-l completions of I1 , I2 , respec∼
tively. Then the outer isomorphism ΠI {l} → ΠI {l} de2
1
termined by ψS is graphic.
To verify this graphicity, let us ﬁrst recall that the automorphisms
{l}
β {l} ∈ Aut((H2 )S ) and α1 ∈ Aut(H1 ) are nondegenerate proﬁnite
Dehn multi-twists. Thus, it follows immediately from Lemma 3.26,
(i), (ii), below [cf. also Claim 3.25.A], that there exist liftings β ∈
1 ∈ Aut(ΠH1 ) of β, α1 , respectively, and a positive
Aut(Π(H2 )S ), α
integer b such that the outomorphisms γ2 , γ1 of ΠI {l} , ΠI {l} deter2
1
{l}
mined by βb , α
b are nondegenerate proﬁnite Dehn multi-twists of I ,
{l}

1

2

I1 , respectively, and, moreover, γ2 and γ1a are compatible relative to
∼
the outer isomorphism in question ΠI {l} → ΠI {l} . Moreover, if condi2
1
tion (b) is satisﬁed, then γ1 is a positive deﬁnite proﬁnite Dehn multi{l}
twist of I1 [cf. Lemma 3.26, (ii), below]. Thus, it follows, in the
case of condition (a) (respectively, (b)), from Theorem 1.9, (i) (respectively Theorem 1.9, (ii)), which may be applied in light of [CbTpI],
Corollary 5.9, (ii) (respectively, [CbTpI], Corollary 5.9, (iii)), that the
∼
outer isomorphism in question ΠI {l} → ΠI {l} is graphic. This com2
1
pletes the proof of Claim 3.25.B. On the other hand, one veriﬁes easily from the various deﬁnitions involved that Claim 3.25.B implies
that (H2 , S2 , φ2 )
(H1 , S1 , φ1 ). This completes the proof of Corollary 3.25.


Lemma 3.26 (Proﬁnite Dehn multi-twists and pro-Σ completions of ﬁnite étale coverings). Let Σ1 ⊆ Σ0 be nonempty sets of
prime numbers, G0 a semi-graph of anabelioids of pro-Σ0 PSC-type,

100

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

H0 → G0 a connected ﬁnite étale Galois covering that arises from a
 ∈ Aut(ΠG0 ). Write
normal open subgroup ΠH0 ⊆ ΠG0 of ΠG0 , and α
G1 , H1 for the semi-graphs of anabelioids of pro-Σ1 PSC-type obtained
by forming the pro-Σ1 completions of G0 , H0 , respectively [cf. [SemiAn],
Deﬁnition 2.9, (ii)]. Suppose that α
 ∈ Aut(ΠG0 ) preserves the normal
open subgroup ΠH0 ⊆ ΠG0 corresponding to H0 → G0 . Write αG0 , αH0 ,
αG1 , αH1 for the respective outomorphisms of ΠG0 , ΠH0 , ΠG1 , ΠH1 induced by α
. Suppose, moreover, that αG0 ∈ Dehn(G0 ) [cf. [CbTpI],
Deﬁnition 4.4]. Then the following hold:
(i) It holds that αG1 ∈ Dehn(G1 ). Moreover, there exists a positive
integer a such that
a
a
∈ Dehn(H0 ) , αH
∈ Dehn(H1 ) .
αH
0
1

(ii) If, moreover, αG1 ∈ Dehn(G1 ) [cf. (i)] is nondegenerate (respectively, positive deﬁnite) [cf. [CbTpI], Deﬁnition 5.8,
a
(ii), (iii)], then αH
∈ Dehn(H1 ) [cf. (i)] is nondegenerate
1
(respectively, positive deﬁnite).
Proof. First, we verify assertion (i). One veriﬁes easily from [NodNon],
Lemma 2.6, (i), together with [CbTpI], Corollary 5.9, (i), that there
a
∈ Dehn(H0 ). Now since
exists a positive integer a such that αH
0
a
αG0 ∈ Dehn(G0 ), αH0 ∈ Dehn(H0 ), it follows immediately from the
a
∈ Dehn(H1 ).
various deﬁnitions involved that αG1 ∈ Dehn(G1 ), αH
1
This completes the proof of assertion (i). Assertion (ii) follows immediately, in the nondegenerate (respectively, positive deﬁnite) case, from
[NodNon], Lemma 2.6, (i), together with [CbTpI], Corollary 5.9, (ii)
(respectively, from Corollary 5.9, (iii), (v)). This completes the proof
of Lemma 3.26.


Corollary 3.27 (Commensurator of proﬁnite Dehn multi-twists
in the totally degenerate case). In the notation of Theorem 3.16,
Deﬁnition 3.19 [so n ≥ 3], suppose further that G is totally degenerdef
ate [cf. [CbTpI], Deﬁnition 2.3, (iv)]. Write s : Spec k → (Mg,[r] )k =
(Mg,[r] )Spec k [cf. the discussion entitled “Curves” in “Notations and
Conventions”] for the underlying (1-)morphism of algebraic stacks of
log
log
def
the classifying (1-)morphism (Spec k)log → (Mg,[r] )k = (Mg,[r] )Spec k
[cf. the discussion entitled “Curves” in “Notations and Conventions”]
slog for the log scheme
of the stable log curve X log over (Spec k)log ; N
s def
obtained by equipping N
= Spec k with the log structure induced, via
log
s, by the log structure of (Mg,[r] )k ; Nslog for the log stack obtained by
 log by the natforming the [stack-theoretic] quotient of the log scheme N
s
ural action of the ﬁnite k-group “s ×(Mg,[r] )k s”, i.e., the ﬁber product

COMBINATORIAL ANABELIAN TOPICS II

101

over (Mg,[r] )k of two copies of s; Ns for the underlying stack of the log
stack Nslog ; INs ⊆ π1 (Nslog ) for the closed subgroup of the log fundamental group π1 (Nslog ) of Nslog given by the kernel of the natural surjection
π1 (Nslog )  π1 (Ns ) [induced by the (1-)morphism Nslog → Ns obtained
(Σ)
by forgetting the log structure]; π1 (Nslog ) for the quotient of π1 (Nslog )
by the kernel of the natural surjection from INs to its maximal pro-Σ
Σ
. Then the following hold:
quotient IN
s
(i) The natural homomorphism π1 (Nslog ) → Out(Π1 ) [cf. the natural outer homomorphism of the ﬁrst display of Remark 3.19.1]
(Σ)
factors through the quotient π1 (Nslog )  π1 (Nslog ) and the
natural inclusion NOutFC (Πn )geo (Dehn(G)) → Out(Π1 ) [cf. Proposition 3.24, (ii)]. In particular, we obtain a homomorphism
(Σ)

π1 (Nslog ) −→ NOutFC (Πn )geo (Dehn(G)) ,
hence also a homomorphism
(Σ)

π1 (Nslog ) −→ COutFC (Πn )geo (Dehn(G)) .
(ii) The second displayed homomorphism of (i) ﬁts into a natural
commutative diagram of proﬁnite groups
1 −−−→

Σ
IN
⏐s
⏐


−−−→

(Σ)

π1 (Nslog )
⏐
⏐


−−−→ π1 (Ns ) −−−→ 1
⏐
⏐


1 −−−→ Dehn(G) −−−→ COutFC (Πn )geo (Dehn(G)) −−−→ Aut(G) −−−→ 1
[cf. Deﬁnition 3.1, (ii), concerning the notation “G”] — where
the horizontal sequences are exact, and the vertical arrows are
isomorphisms.
(iii) Dehn(G) is open in COutFC (Πn )geo (Dehn(G)).
(iv) We have an equality
NOutFC (Πn )geo (Dehn(G)) = COutFC (Πn )geo (Dehn(G)) .
Proof. First, we verify assertion (i). The fact that the image of the
homomorphism in question is contained in OutFC (Πn )geo follows immediately from the [tautological!] fact that this image arises “Q-schemetheoretically”, i.e., from scheme theory over Q [cf. the discussion of
Remark 3.19.1]. Thus, assertion (i) follows immediately from the fact
that the natural homomorphism π1 (Nslog ) → Out(Π1 ) determines an
Σ ∼
isomorphism IN
→ Dehn(G) [cf. [CbTpI], Proposition 5.6, (ii)]. This
s
completes the proof of assertion (i).
Next, we verify assertion (ii). First, let us observe that it follows from
[CbTpI], Theorem 5.14, (iii), that COutFC (Πn )geo (Dehn(G)) ⊆ Aut(G).
Thus, we obtain a natural homomorphism COutFC (Πn )geo (Dehn(G)) →
Aut(G), whose kernel contains Dehn(G) [cf. the deﬁnition of a proﬁnite

102

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Dehn multi-twist given in [CbTpI], Deﬁnition 4.4]. On the other hand,
if an element α ∈ COutFC (Πn )geo (Dehn(G)) acts trivially on G, then, since
G is totally degenerate, it follows immediately from Theorem 3.18, (ii),
that α ∈ Dehn(G). This completes the proof of the existence of the
lower exact sequence in the diagram of assertion (ii), except for the
surjectivity of the third arrow of this sequence. Thus, it follows immediately from the proof of assertion (i) that, to complete the proof
of assertion (ii), it suﬃces to verify that the right-hand vertical arrow
log
π1 (Ns ) → Aut(G) of the diagram is an isomorphism. Write XN
s for the
log
 whose classifying (1-)morphism is given by
stable log curve over N
s
 log → (Mlog )k and Aut  log (X log ) for the
the natural (1-)morphism N
s

g,[r]
s
Ns
N
log
log
log

group of automorphisms of XN over Ns . Then since X , hence also
s
log
XN
,
is
totally
degenerate,
one
veriﬁes easily that the natural homos
log
morphism AutNslog (XN
s ) → Aut(G) is an isomorphism. Thus, it follows

immediately from the various deﬁnitions involved that the right-hand
vertical arrow π1 (Ns ) → Aut(G) of the diagram is an isomorphism.
This completes the proof of assertion (ii).
Assertion (iii) follows immediately from the exactness of the lower
sequence of the diagram of assertion (ii), together with the ﬁniteness
of G. Assertion (iv) follows immediately from the fact that the middle
vertical arrow of the diagram of assertion (ii) is an isomorphism which
factors through NOutFC (Πn )geo (Dehn(G)) ⊆ COutFC (Πn )geo (Dehn(G)) [cf.
assertion (i)]. This completes the proof of Corollary 3.27.

Remark 3.27.1. One interesting consequence of Corollary 3.27 is the
following: The proﬁnite group OutFC (Πn )geo [which, as discussed in
Remark 3.19.1, may be regarded as the geometric portion of the group
of FC-admissible outomorphisms of the conﬁguration space group Πn ],
hence also the commensurator COutFC (Πn )geo (Dehn(G)), is deﬁned in a
purely combinatorial/group-theoretic fashion. In particular, it follows
from the commutative diagram of Corollary 3.27, (ii), that this commensurator COutFC (Πn )geo (Dehn(G)) yields a purely combinatorial/grouptheoretic algorithm for reconstructing the proﬁnite groups of schemetheoretic origin that appear in the upper sequence of this diagram.

COMBINATORIAL ANABELIAN TOPICS II

103

4. Glueability of combinatorial cuspidalizations
In the present §4, we discuss the glueability of combinatorial cuspidalizations. The resulting theory may be regarded as a higher-dimensional
analogue of the displayed exact sequence of [CbTpI], Theorem B, (iii)
[cf. Theorem 4.14, (iii), below, of the present monograph]. This theory
implies a certain key surjectivity property of the tripod homomorphism
[cf. Corollary 4.15 below]. Finally, we apply this result to construct
cuspidalizations of the log fundamental group of a stable log curve over
a ﬁnite ﬁeld [cf. Corollary 4.16 below] and to compute certain commensurators of the corresponding Galois image in the totally degenerate
case [cf. Corollary 4.17 below].
In the present §4, we maintain the notation of the preceding §3 [cf.
also Deﬁnition 3.1]. In addition, let Σ0 be a nonempty set of prime
numbers and G0 a semi-graph of anabelioids of pro-Σ0 PSC-type. Write
G0 for the underlying semi-graph of G0 and ΠG0 for the [pro-Σ0 ] fundamental group of G0 .
Deﬁnition 4.1.
(i) We shall write
Aut|Brch(G0 )| (G0 ) ⊆ (Aut|Vert(G0 )| (G0 ) ∩ Aut|Node(G0 )| (G0 ) ⊆) Aut(G0 )
[cf. [CbTpI], Deﬁnition 2.6, (i)] for the [closed] subgroup of
Aut(G0 ) consisting of automorphisms α of G0 that induce the
identity automorphism of Vert(G0 ), Node(G0 ) and, moreover,
ﬁx each of the branches of every node of G0 . Thus, we have a
natural exact sequence of proﬁnite groups
1 −→ Aut|grph| (G0 ) −→ Aut|Brch(G0 )| (G0 ) −→ Aut(Cusp(G0 ))
[cf. [CbTpI], Deﬁnition 2.6, (i); Remark 4.1.2 of the present
monograph].
(ii) Let v ∈ Vert(G0 ). Then we shall write
E(G0 |v : G0 ) ⊆ Edge(G0 |v ) (= Cusp(G0 |v ))
[cf. [CbTpI], Deﬁnition 2.1, (iii)] for the subset of Edge(G0 |v )
(= Cusp(G0 |v )) consisting of cusps of G0 |v that arise from nodes
of G0 .
(iii) We shall write
Aut|E(G|v :G)| (G0 |v )

Glubrch (G0 ) ⊆
v∈Vert(G0 )

[cf. (ii); [CbTpI], Deﬁnition 2.6, (i)] for the [closed] subgroup of
|E(G|v :G)|
(G0 |v ) consisting of “glueable” collections
v∈Vert(G0 ) Aut

104

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

of automorphisms of the various G0 |v , i.e., the subgroup consisting of (αv )v∈Vert(G0 ) such that, for every v, w ∈ Vert(G0 ), it
holds that χv (αv ) = χw (αw ) [cf. [CbTpI], Deﬁnition 3.8, (ii)].
Remark 4.1.1. In the notation of Deﬁnition 4.1, one veriﬁes easily
from the various deﬁnitions involved that


brch
|grph|
Glu(G0 ) = Glu (G0 ) ∩
Aut
(G0 |v )
v∈Vert(G0 )

[cf. [CbTpI], Deﬁnitions 2.6, (i), and 4.9; Remark 4.1.2 of the present
monograph].
Remark 4.1.2. Here, we take the opportunity to correct a minor
error in the exposition of [CbTpI]. In [CbTpI], Deﬁnition 2.6, (i),
“Aut|grph| (G)” should be deﬁned as the subgroup of Aut(G) of automorphisms of G which induce the identity automorphism on the underlying
semi-graph of G [cf. the deﬁnition given in [CbTpI], Theorem B]. In a
similar vein, in [CbTpI], Deﬁnition 2.6, (iii), “Aut|H| (G)” should be deﬁned as the subgroup of Aut(G) of automorphisms of G which preserve
the sub-semi-graph H of the underlying semi-graph of G and, moreover,
induce the identity automorphism of H. Since the correct deﬁnitions
are applied throughout the exposition of [CbTpI], these errors in the
statement of the deﬁnitions have no substantive eﬀect on the exposition
of [CbTpI], except for the following two instances [which themselves do
not have any substantive eﬀect on the exposition of [CbTpI]]:
(i) In [CbTpI], Proposition 2.7, (ii), “Aut|grph| (G)” should be replaced by “Aut|VCN(G)| (G)”.
(ii) In [CbTpI], Proposition 2.7, (iii), the phrase “In particular”
should be replaced by the word “Finally”.
Theorem 4.2 (Glueability of combinatorial cuspidalizations in
the one-dimensional case). Let Σ0 be a nonempty set of prime numbers and G0 a semi-graph of anabelioids of pro-Σ0 PSC-type. Write ΠG0
for the [pro-Σ0 ] fundamental group of G0 . Then the following hold:
(i) The closed subgroup Dehn(G0 ) ⊆ Aut(G0 ) [cf. [CbTpI], Definition 4.4] is contained in Aut|Brch(G0 )| (G0 ) ⊆ Aut(G0 ) [cf.
Deﬁnition 4.1, (i)], i.e., Dehn(G0 ) ⊆ Aut|Brch(G0 )| (G0 ).
(ii) The natural homomorphism
Aut|Brch(G0 )| (G0 ) −→
α
→

v∈Vert(G0 ) Aut(G0 |v )

(αG0 |v )v∈Vert(G0 )

COMBINATORIAL ANABELIAN TOPICS II

105

[cf. [CbTpI], Deﬁnition 2.14, (ii); [CbTpI], Remark 2.5.1,
(ii)] factors through
Glubrch (G0 ) ⊆

Aut(G0 |v )
v∈Vert(G0 )

[cf. Deﬁnition 4.1, (iii)].
(iii) The natural inclusion Dehn(G0 ) → Aut|Brch(G0 )| (G0 ) of (i) and
|Brch(G0 )|
the natural homomorphism ρbrch
(G0 ) → Glubrch (G0 )
G0 : Aut
[cf. (ii)] ﬁt into an exact sequence of proﬁnite groups
ρbrch
G

0
1 −→ Dehn(G0 ) −→ Aut|Brch(G0 )| (G0 ) −→
Glubrch (G0 ) −→ 1 .

Proof. Assertion (i) follows immediately from the various deﬁnitions
involved. Assertion (ii) follows immediately from [CbTpI], Corollary
3.9, (iv). Assertion (iii) follows, in light of Remark 4.1.1, from the exact
sequence of [CbTpI], Theorem B, (iii), together with the existence of
automorphisms of G0 that induce arbitrary permutations of the cusps
on each vertex of G0 and, moreover, restrict to automorphisms of each
G0 |v that lie in the kernel of χv [cf. the automorphisms constructed in
the proof of [CmbCsp], Lemma 2.4].

Deﬁnition 4.3. Let H be a sub-semi-graph of PSC-type [cf. [CbTpI],
Deﬁnition 2.2, (i)] of G [cf. Deﬁnition 3.1, (ii)] and S ⊆ Node(G|H )
[cf. [CbTpI], Deﬁnition 2.2, (ii)] a subset of Node(G|H ) that is not of
separating type [cf. [CbTpI], Deﬁnition 2.5, (i)]. Then, by applying
a similar argument to the argument applied in [CmbCsp], Deﬁnition
2.1, (iii), (vi), or [NodNon], Deﬁnition 5.1, (ix), (x) [i.e., by considering
the portion of the underlying scheme Xn of Xnlog corresponding to the
underlying scheme (XH,S )n of the n-th log conﬁguration space (XH,S )log
n
log
of the stable log curve XH,S
determined by (G|H )S — cf. [CbTpI],
Deﬁnition 2.5, (ii)], one obtains a closed subgroup
(ΠH,S )n ⊆ Πn
[which is well-deﬁned up to Πn -conjugation]. We shall refer to (ΠH,S )n ⊆
Πn as a conﬁguration space subgroup [associated to (H, S)]. For each
0 ≤ i ≤ j ≤ n, we shall write
def

(ΠH,S )n/i = (ΠH,S )n ∩ Πn/i ⊆ Πn/i
[which is well-deﬁned up to Πn -conjugation];
def

(ΠH,S )j/i = (ΠH,S )n/i /(ΠH,S )n/j ⊆ Πj/i
[which is well-deﬁned up to Πj -conjugation]. In particular,
(ΠH,S )j = (ΠH,S )j/0 ⊆ Πj

106

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

[where we recall that, in fact, the subgroups on either side of the
“=” are only well-deﬁned up to Πj -conjugation]. Thus, by applying
[CbTpI], Proposition 2.11, inductively, we conclude that each (ΠH,S )j/i
is a pro-Σ conﬁguration space group [cf. [MzTa], Deﬁnition 2.3, (i)],
and that we have a natural exact sequence of proﬁnite groups
1 −→ (ΠH,S )j/i −→ (ΠH,S )j −→ (ΠH,S )i −→ 1 .
Finally, let v ∈ Vert(G). Then the semi-graph of anabelioids of PSCtype G|v [cf. [CbTpI], Deﬁnition 2.1, (iii)] may be naturally identiﬁed
with (G|Hv )Sv for suitable choices of Hv , Sv [cf. [CbTpI], Remark
2.5.1, (ii)]. We shall refer to
def

(Πv )n = (ΠHv ,Sv )n ⊆ Πn
as a conﬁguration space subgroup associated to v. Thus, (Πv )1 ⊆ Π1 is
a verticial subgroup associated to v ∈ Vert(G), i.e., a subgroup that is
typically denoted “Πv ”. We shall write
def

(Πv )j/i = (ΠHv ,Sv )j/i ⊆ Πj/i .
Remark 4.3.1. In the notation of Deﬁnition 4.3, one veriﬁes easily
— by applying a suitable specialization isomorphism [cf. the discussion preceding [CmbCsp], Deﬁnition 2.1, as well as [CbTpI], Remark
5.6.1] — that there exist a stable log curve Y log over (Spec k)log and
an n-cuspidalizable degeneration structure (G, S, φ) on Y G [cf. Deﬁnition 3.23, (i), (v)] — where we write Y G for the “G” that occurs in the
case where we take “X log ” to be Y log — which satisfy the following:
Write Y Πn for the “Πn ” that occurs in the case where we take “X log ”
to be Y log . Then:
The image of a conﬁguration space subgroup of Πn
associated to (H, S) [cf. Deﬁnition 4.3] via a PFC∼
admissible outer isomorphism Πn → Y Πn that lies over
the displayed composite isomorphism of Deﬁnition 3.23,
(v) [where we note that, in loc. cit., the roles of “Y Πn ”
and “Πn ” are reversed!], is a conﬁguration space subgroup of Y Πn associated to a vertex of Y G.

Lemma 4.4 (Commensurable terminality and slimness). Every
conﬁguration space subgroup [cf. Deﬁnition 4.3] of Πn is topologically ﬁnitely generated, slim, and commensurably terminal
in Πn .
Proof. Since any conﬁguration space subgroup is, in particular, a conﬁguration space group, the fact that such a subgroup is topologically
ﬁnitely generated and slim follows from [MzTa], Proposition 2.2, (ii).

COMBINATORIAL ANABELIAN TOPICS II

107

Thus, it remains to verify commensurable terminality. By applying
the observation of Remark 4.3.1, we reduce immediately to the case
of a conﬁguration space subgroup associated to a vertex. But then
the desired commensurable terminality follows, in light of Lemma 4.5
below, by induction on n, together with the corresponding fact for
n = 1 [cf. [CmbGC], Proposition 1.2, (ii)]. This completes the proof of
Lemma 4.4.

Lemma 4.5 (Extensions and commensurable terminality). Let
1 −−−→ NH −−−→ H −−−→ QH −−−→ 1
⏐
⏐
⏐
⏐
⏐
⏐



1 −−−→ N −−−→ G −−−→ Q −−−→ 1
be a commutative diagram of proﬁnite groups, where the horizontal sequences are exact, and the vertical arrows are injective. Suppose
that NH ⊆ N , QH ⊆ Q are commensurably terminal in N , Q,
respectively. Then H ⊆ G is commensurably terminal in G.


Proof. This follows immediately from Lemma 3.9, (i).

Deﬁnition 4.6.
(i) We shall write
OutFC (Πn )brch ⊆ OutFC (Πn )
for the closed subgroup of OutFC (Πn ) given by the inverse image of
∼

Aut|Brch(G)| (G) ⊆ (Aut(G) ⊆) Out(ΠG ) ← Out(Π1 )
[cf. Deﬁnition 4.1, (i)] via the natural injection OutFC (Πn ) →
OutFC (Π1 ) ⊆ Out(Π1 ) of [NodNon], Theorem B.
def

(ii) Let v ∈ Vert(G); write Πv = (Πv )1 [cf. Deﬁnition 4.3]. Then
we shall write
OutFC ((Πv )n )G-node ⊆ OutFC ((Πv )n )
for the [closed] subgroup of OutFC ((Πv )n ) given by the inverse
image of
Aut|E(G|v :G)| (G|v ) ⊆ (Aut(G|v ) ⊆) Out(Πv )
[cf. Deﬁnition 4.1, (ii); [CbTpI], Deﬁnition 2.6, (i)] via the
natural injection OutFC ((Πv )n ) → OutFC (Πv ) ⊆ Out(Πv ) of
[NodNon], Theorem B.

108

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Theorem 4.7 (Graphicity of outomorphisms of certain subquotients). In the notation of the preceding §3 [cf. also Deﬁnition 3.1],
let x ∈ Xn (k). Write
Cx ⊆ Cusp(G)
for the [possibly empty] set consisting of cusps c of G such that, for
some i ∈ {1, · · · , n}, x{i} ∈ X{i} (k) = X(k) [cf. Deﬁnition 3.1, (i)]
lies on the cusp of X log corresponding to c ∈ Cusp(G). For each i ∈
{1, · · · , n}, write
def
Gi/i−1,x = Gi∈{1,··· ,i},x
[cf. Deﬁnition 3.1, (iii)] and
zi/i−1,x ∈ VCN(Gi/i−1,x )
for the element of VCN(Gi/i−1,x ) on which x{1,··· ,i} lies, that is to say:
If x{1,··· ,i} ∈ Xi (k) [cf. the notation given in the discussion preceding Deﬁnition 3.1] is a cusp or node of the
log
log
→ Xi−1
geometric ﬁber of the projection plog
i/i−1 : Xi
over xlog
{1,··· ,i−1} corresponding to an edge e ∈ Edge(Gi/i−1,x ),
def

then zi/i−1,x = e; if x{1,··· ,i} ∈ Xi (k) is neither a
cusp nor node of the geometric ﬁber of the projection
log
log
plog
→ Xi−1
over xlog
i/i−1 : Xi
{1,··· ,i−1} but lies on the irreducible component of the geometric ﬁber corresponding
def
to a vertex v ∈ Edge(Gi/i−1,x ), then zi/i−1,x = v.
Let
α ∈ OutFC (Πn )brch
[cf. Deﬁnition 4.6, (i)]. Suppose that the element of
∼

Aut|Brch(G)| (G) ⊆ (Aut(G) ⊆) Out(ΠG ) ← Out(Π1 )
[cf. Deﬁnition 4.1, (i)] determined by α ∈ OutFC (Πn )brch [cf. Deﬁnition 4.6, (i)] is contained in
Aut|Cx | (G) ⊆ Aut(G)
[cf. [CbTpI], Deﬁnition 2.6, (i)]. Then there exist
• a lifting α
 ∈ Aut(Πn ) of α, and,
∼

• for each i ∈ {1, · · · , n}, a VCN-subgroup Πzi/i−1,x ⊆ Πi/i−1 →
ΠGi/i−1 ,x [cf. Deﬁnition 3.1, (iii)] associated to the element
zi/i−1,x ∈ VCN(Gi/i−1,x )
such that the following properties hold:
∼

(a) For each i ∈ {1, · · · , n}, the automorphism of Πi/i−1 → ΠGi/i−1,x
∼
determined by α
 ﬁxes the VCN-subgroup Πzi/i−1,x ⊆ Πi/i−1 →
ΠGi/i−1,x .

COMBINATORIAL ANABELIAN TOPICS II

109
∼

(b) For each i ∈ {1, · · · , n}, the outomorphism of Πi/i−1 → ΠGi/i−1,x
induced by α
 is contained in
∼

Aut|Brch(Gi/i−1,x )| (Gi/i−1,x ) ⊆ Out(ΠGi/i−1,x ) ← Out(Πi/i−1 ) .
Proof. We verify Theorem 4.7 by induction on n. If n = 1, then Theorem 4.7 follows immediately from the various deﬁnitions involved. Now
suppose that n ≥ 2, and that the induction hypothesis is in force. In
particular, [since the homomorphism pΠ
n/n−1 : Πn  Πn−1 is surjective]
we have a lifting α
 ∈ Aut(Πn ) of α and, for each i ∈ {1, · · · , n − 1},
∼
a VCN-subgroup Πzi/i−1,x ⊆ Πi/i−1 → ΠGi/i−1 ,x associated to the element zi/i−1,x ∈ VCN(Gi/i−1,x ) such that, for each i ∈ {1, · · · , n − 1},
the automorphism of Πi determined by α
 ﬁxes Πzi/i−1,x ⊆ Πi/i−1 ⊆ Πi ,
and, moreover, the automorphism of Πn−1 determined by α
 satisﬁes
the property (b) in the statement of Theorem 4.7. Now we claim that
the following assertion holds:
∼
Claim 4.7.A: The outomorphism of Πn/n−1 → ΠGn/n−1,x
induced by the lifting α
 is contained in
∼

Aut|Brch(Gn/n−1,x )| (Gn/n−1,x ) ⊆ Out(ΠGn/n−1,x ) ← Out(Πn/n−1 ) .
To this end, let us ﬁrst observe that it follows immediately — by relog
log
→ Xn−2
via a suitplacing Xnlog by the base-change of plog
n/n−2 : Xn
log
able morphism of log schemes (Spec k)log → Xn−2
whose image lies on
x{1,··· ,n−2} ∈ Xn−2 (k) — from Lemma 3.2, (iv), that, to verify Claim
4.7.A, we may assume without loss of generality that n = 2. Also, one
veriﬁes easily, by applying Lemma 3.14, (i) [cf. also [CbTpI], Proposition 2.9, (i)], and possibly replacing, when z1/0,x ∈ Vert(G1/0,x ),
• α
 by the composite of α
 with an inner automorphism of Πn =
Π2 determined by conjugation by a suitable element of Πn =
∼
Π2 whose image in Π1 → ΠG1/0,x is contained in the closed
∼
subgroup Πz1/0,x ⊆ ΠG1/0,x ← Π1 and
• x by a suitable “x” whose associated “z1/0,x ” is a node of G1/0,x
that abuts to the original z1/0,x ∈ Vert(G1/0,x ),
that we may assume without loss of generality that z1/0,x ∈ Edge(G1/0,x ).
∼
Next, let us recall that the automorphism of Π1 → ΠG1/0,x determined
∼
by α
 ﬁxes the edge-like subgroup Πz1/0,x ⊆ Π1 → ΠG1/0,x associated to
the edge z1/0,x of G1/0,x [cf. the discussion preceding Claim 4.7.A].
Thus, since [we have assumed that] α ∈ OutFC (Π2 )brch [which implies
∼
that the outomorphism of Π1 → ΠG1/0,x determined by α preserves the
∼
Π1 -conjugacy class of each verticial subgroup of Π1 → ΠG1/0,x ], it follows immediately from Lemma 3.13, (i), (ii), that the outomorphism
∼
of ΠG2/1,x ← Π2/1 induced by α
 is group-theoretically verticial, hence
[cf. [NodNon], Proposition 1.13; [CmbGC], Proposition 1.5, (ii); the
fact that α is C-admissible] graphic, i.e., ∈ Aut(G2/1,x ). Moreover, since

110

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
∼

the outomorphism of ΠG2∈{2},x ← Π1 induced by α
 is, by assumption,
|Brch(G)|
(G) [cf. [CmbCsp], Proposition 1.2, (iii)], one
contained in Aut
veriﬁes easily, by considering the map on vertices/nodes/branches induced by the projection
pΠ
{1,2}/{2} |Π2/1 : Π2/1  Π{2}
∼

[cf. Lemma 3.6, (i), (iv)], that the outomorphism of ΠG2/1,x ← Π2/1
induced by α
 is contained in the subgroup Aut|Brch(G2/1,x )| (G2/1,x ). This
completes the proof of Claim 4.7.A.
On the other hand, one veriﬁes easily from Claim 4.7.A, together with
the various deﬁnitions involved, that there exist a Πn/n−1 -conjugate β
∼

of α
 and a VCN-subgroup Πzn/n−1 ,x ⊆ Πn/n−1 → ΠGn/n−1,x associated to
zn/n−1,x ∈ VCN(Gn/n−1,x ) such that β ﬁxes Πzn/n−1 ,x . In particular, the
lifting β of α and the VCN-subgroups Πzi/i−1 ,x [where i ∈ {1, · · · , n}]
satisfy the properties (a), (b) in the statement of Theorem 4.7. This
completes the proof of Theorem 4.7.


Lemma 4.8 (Preservation of conﬁguration space subgroups).
The following hold:
(i) Let α ∈ OutFC (Πn )brch [cf. Deﬁnition 4.6, (i)]. Then α preserves the Πn -conjugacy class of each conﬁguration space subgroup [cf. Deﬁnition 4.3] of Πn . Thus, by applying the portion
of Lemma 4.4 concerning commensurable terminality, together with Lemma 3.10, (i), we obtain a natural homomorphism
OutFC (Πn )brch −→

Out((Πv )n ) .
v∈Vert(G)

(ii) The displayed homomorphism of (i) factors through
OutFC ((Πv )n )G-node ⊆
v∈Vert(G)

Out((Πv )n )
v∈Vert(G)

[cf. Deﬁnition 4.6, (ii)].
Proof. First, we verify assertion (i). We begin by observing that, in
light of the observation of Remark 4.3.1 [cf. also [CbTpI], Proposition
2.9, (ii)], to complete the veriﬁcation of assertion (i), it suﬃces to verify
the following assertion:
Claim 4.8.A: For each v ∈ Vert(G), α preserves the
Πn -conjugacy class of conﬁguration space subgroups
(Πv )n ⊆ Πn of Πn associated to v.

COMBINATORIAL ANABELIAN TOPICS II

111

To verify Claim 4.8.A, let us observe that, by applying Theorem 4.7 in
the case where we take the “x” in the statement of Theorem 4.7 to be
such that, for each i ∈ {1, · · · , n}, the element zi/i−1,x ∈ Vert(Gi/i−1,x )
is the vertex of Gi/i−1,x that corresponds [via the various bijections of
Lemma 3.6, (iii)] to the vertex v of Claim 4.8.A, we obtain, for each
∼
i ∈ {1, · · · , n}, a VCN-subgroup Πzi/i−1,x ⊆ Πi/i−1 → ΠGi/i−1 ,x associated to zi/i−1,x ∈ VCN(Gi/i−1,x ) as in the statement of Theorem 4.7,
(a). Next, let us observe that one veriﬁes immediately from the commensurable terminality [cf. [CmbGC], Proposition 1.2, (ii)] of each of
the VCN-subgroups Πzi/i−1,x ⊆ Πi/i−1 , where i ∈ {1, · · · , n}, that the
Πn -conjugacy class of the conﬁguration space subgroup (Πv )n ⊆ Πn
coincides with the Πn -conjugacy class of the closed subgroup of Πn
consisting of γ ∈ Πn such that, for each i ∈ {1, · · · , n}, conjugation by γ preserves the closed subgroup Πzi/i−1,x ⊆ (Πi/i−1 ⊆) Πi [so
Πzi/i−1,x = (Πv )i/i−1 ]. Thus, it follows from Theorem 4.7, (a), that
α preserves the Πn -conjugacy class of (Πv )n ⊆ Πn , as desired. This
completes the proof of Claim 4.8.A.
Next, we verify assertion (ii). Let α ∈ OutFC (Πn )brch , v ∈ Vert(G).
Write αv for the outomorphism of (Πv )n induced by α [cf. (i)]. Then the
F-admissibility of αv follows immediately from the F-admissibility of α
[cf. the discussion of Deﬁnition 4.3]. The C-admissibility of αv follows
immediately from Theorem 4.7 [applied as in the proof of Claim 4.8.A];
[NodNon], Lemma 1.7, together with the deﬁnition of C-admissibility.
Finally, the fact that αv ∈ OutFC ((Πv )n )G-node follows immediately from
the fact that α ∈ OutFC (Πn )brch . This completes the proof of assertion
(ii).

Deﬁnition 4.9. We shall write
OutFC ((Πv )n )G-node

Glu(Πn ) ⊆
v∈Vert(G)

for the [closed] subgroup of v∈Vert(G) OutFC ((Πv )n )G-node consisting of
“glueable” collections of outomorphisms of the various (Πv )n , i.e., the
subgroup deﬁned as follows:
(i) Suppose that n = 1. Then Glu(Πn ) consists of those collections
(αv )v∈Vert(G) such that, for every v, w ∈ Vert(G), it holds that
χv (αv ) = χw (αw ) [cf. [CbTpI], Deﬁnition 3.8, (ii)] — where
we note that one veriﬁes easily that αv may be regarded as an
element of Aut(G|v ).
(ii) Suppose that n = 2. Then Glu(Πn ) consists of those collections
(αv )v∈Vert(G) that satisfy the following condition: Let v, w ∈
Vert(G); e ∈ N (v) ∩ N (w); T ⊆ Π2/1 ⊆ Π2 = Πn a {1, 2}tripod of Πn arising from e ∈ N (v) ∩ N (w) [cf. Deﬁnitions

112

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

3.3, (i); 3.7, (i)]. Then one veriﬁes easily from the various
deﬁnitions involved that there exist Πn -conjugates Tv , Tw of T
such that Tv , Tw are contained in (Πv )n , (Πw )n , respectively,
and, moreover,
Tv ⊆ (Πv )2/1 ⊆ (Πv )2 = (Πv )n ,
Tw ⊆ (Πw )2/1 ⊆ (Πw )2 = (Πw )n
are tripods of (Πv )n , (Πw )n arising from [the cusps of G|v , G|w
corresponding to] the node e, respectively. Moreover, since
αv ∈ OutFC ((Πv )n )G-node , αw ∈ OutFC ((Πw )n )G-node , it follows
from Theorem 3.16, (iv), that αv ∈ OutFC ((Πv )n )[Tv ], αw ∈
∼
OutFC ((Πw )n )[Tw ]; thus, we obtain that TTv (αv ) ∈ Out(Tv ) →
∼
Out(T ); TTw (αw ) ∈ Out(Tw ) → Out(T ) [cf. Theorem 3.16,
(i)]. Then we require that TTv (αv ) = TTw (αw ).
(iii) Suppose that n ≥ 3. Then Glu(Πn ) consists of those collections (αv )v∈Vert(G) that satisfy the following condition: Let
Πtpd ⊆ Π3 be a 3-central {1, 2, 3}-tripod of Πn [cf. Deﬁnitions
3.3, (i); 3.7, (ii)]. Then one veriﬁes easily from the various
deﬁnitions involved that, for every v ∈ Vert(G), there exists a
of Πtpd such that Πtpd
is contained in (Πv )3 ,
Π3 -conjugate Πtpd
v
v
tpd
and, moreover, Πv ⊆ (Πv )3 is a 3-central tripod of (Πv )3 .
(αv ) ∈
Thus, since αv ∈ OutFC ((Πv )n )G-node , we obtain TΠtpd
v
tpd ∼
tpd
Out(Πv ) → Out(Π ) [cf. Theorem 3.16, (i), (v)]. Then, for
(αv ) = TΠtpd
(αw ).
every v, w ∈ Vert(G), we require that TΠtpd
v
w

Remark 4.9.1. In the notation of Deﬁnition 4.9, one veriﬁes easily from the various deﬁnitions involved that the natural outer iso∼
∼
moprhism Π1 → ΠG determines a natural isomorphism Glu(Π1 ) →
Glubrch (G) [cf. Deﬁnition 4.1, (iii)].

Lemma 4.10 (Basic properties concerning groups of glueable
collections). For n ≥ 1, the following hold:
(i) The natural injections
OutFC ((Πv )n+1 ) → OutFC ((Πv )n )
of [NodNon], Theorem B — where v ranges over the vertices
of G — determine an injection
Glu(Πn+1 ) → Glu(Πn ) .

COMBINATORIAL ANABELIAN TOPICS II

113

(ii) The displayed homomorphism of Lemma 4.8, (i),
OutFC (Πn )brch −→

Out((Πv )n )
v∈Vert(G)

factors through
Glu(Πn ) ⊆

Out((Πv )n ) .
v∈Vert(G)

Proof. First, we verify assertion (i). The fact that the image of the
composite
Glu(Πn+1 ) →

OutFC ((Πv )n+1 ) →
v∈Vert(G)

OutFC ((Πv )n )
v∈Vert(G)

is contained in
OutFC ((Πv )n )G-node ⊆
v∈Vert(G)

OutFC ((Πv )n )
v∈Vert(G)

follows immediately from the various deﬁnitions involved. The fact
that the image of the composite
Glu(Πn+1 ) →

OutFC ((Πv )n+1 ) →
v∈Vert(G)

OutFC ((Πv )n )
v∈Vert(G)

is contained in
OutFC ((Πv )n )G-node

Glu(Πn ) ⊆
v∈Vert(G)

follows immediately from the various deﬁnitions involved when n ≥ 3
and from Theorems 3.16, (iv), (v); 3.18, (ii) [applied to each (Πv )n+1 !],
when n = 2. Thus, it remains to verify assertion (i) in the case
where n = 1. Suppose that n = 1. Let (αv )v∈Vert(G) ∈ Glu(Π2 ).
Write ((αv )1 )v∈Vert(G) ∈ v∈Vert(G) OutFC ((Πv )1 )G-node for the image of
(αv )v∈Vert(G) . Since G is connected, to verify assertion (i) in the case
where n = 1, it suﬃces to verify that, for any two vertices v, w of G
such that N (v) ∩ N (w) = ∅, it holds that χv ((αv )1 ) = χw ((αw )1 ). Let
x ∈ X2 (k) be a k-valued geometric point of X2 such that x{1} ∈ X(k)
[cf. Deﬁnition 3.1, (i)] is a node of X log corresponding to an element
of N (v) ∩ N (w) = ∅. Then by applying Theorem 4.7 to a suitable
lifting α
v (∈ AutFC ((Πv )2 )) of the outomorphism αv of (Πv )2 [where
we take the “Πn ” in the statement of Theorem 4.7 to be (Πv )2 ], we
∼
conclude that the outomorphism (αv )2/1 of Π(G|v )2∈{1,2},x ← (Πv )2/1 [cf.
Deﬁnition 3.1, (iii)] determined by α
v is graphic and ﬁxes each of the
vertices of (G|v )2∈{1,2},x . Thus, if we write (αv ){2} for the outomorphism
of the “Π{2} ” that occurs in the case where we take “Π2 ” to be (Πv )2 ,
then it follows from [CmbCsp], Proposition 1.2, (iii), together with the
C-admissibility of (αv )1 , that (αv ){2} is C-admissible, i.e., ∈ Aut(G|v ).

114

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Now, for a [{1, 2}-]tripod Tv ⊆ (Πv )2 arising from the cusp x{1} of G|v
[cf. Deﬁnitions 3.3, (i); 3.7, (i)], we compute:
χG|v ((αv ){2} )
[cf. [CmbCsp], Proposition 1.2, (iii)]
χG|v ((αv )1 ) =
= χ(G|v )2∈{1,2},x ((αv )2/1 )
[cf. [CbTpI], Corollary 3.9, (iv)]
[cf. [CbTpI], Corollary 3.9, (iv)]
=
χTv ((αv )2/1 |Tv )
[where we refer to Lemma 3.12, (i), concerning “(αv )2/1 |Tv ”, and we
write χTv for the “χ” associated to the vertex of (G|v )2∈{1,2},x corresponding to Tv ]. Moreover, by applying a similar argument to the above
argument, we conclude that there exists a lifting α
w of αw such that
∼
w
the outomorphism (αw )2/1 of Π(G|w )2∈{1,2},x ← (Πw )2/1 determined by α
is graphic [and ﬁxes each of the vertices of (G|w )2∈{1,2},x ], and, moreover, for a [{1, 2}-]tripod Tw ⊆ (Πw )2 arising from the cusp x{1} of G|w ,
it holds that χG|w ((αw )1 ) = χTw ((αw )2/1 |Tw ). On the other hand, since
(αv )v∈Vert(G) ∈ Glu(Π2 ), it holds that χTv ((αv )2/1 |Tv ) = χTw ((αw )2/1 |Tw ).
In particular, we obtain that χG|v ((αv )1 ) = χG|w ((αw )1 ). This completes
the proof of assertion (i).
Next, we verify assertion (ii). If n = 1, then assertion (ii) amounts
to Theorem 4.2, (ii) [cf. also Remark 4.9.1]. If n ≥ 2, then assertion
(ii) follows immediately from Lemma 4.8, (ii), together with the fact
that the homomorphism “TT ” of Theorem 3.16, (i), does not depend
on the choice of “T ” among its conjugates. This completes the proof
of assertion (ii).

Deﬁnition 4.11. We shall write ρbrch
for the homomorphism
n
OutFC (Πn )brch −→ Glu(Πn )
determined by the factorization of Lemma 4.10, (ii).

Lemma 4.12 (Glueable collections in the case of precisely one
node). Suppose that n = 2, and that #Node(G) = 1. Let v, w
 ∈

Vert(G) be distinct elements such that N (
v ) ∩ N (w)
 = ∅. Write e ∈

Node(G) for the unique element of N (
v )∩N (w)
 [cf. [NodNon], Lemma
∼
∼
1.8]; Πv, Πw , Πe ⊆ ΠG ← Π1 for the VCN-subgroups of ΠG ← Π1 asdef
 respectively; v def
sociated to v, w,
 e ∈ VCN(G),
= v(G); w = w(G);

def
e = e(G). [Thus, one veriﬁes easily that Πe = Πv ∩ Πw [cf. [NodNon],
Lemma 1.9, (i)], that Vert(G) = {v, w}, and that if G is noncyclically primitive (respectively, cyclically primitive) [cf. [CbTpI],
Deﬁnition 4.1], then v = w (respectively, v = w).] Let x ∈ X2 (k) be
a k-valued geometric point of X2 such that x{1} ∈ X(k) [cf. Deﬁnition 3.1, (i)] lies on the unique node of X log [i.e., which corresponds
def
to e]. Write G2/1 = G2∈{1,2},x [cf. Deﬁnition 3.1, (iii)]; G2/1 → G2/1

COMBINATORIAL ANABELIAN TOPICS II

115
∼

for the proﬁnite étale covering corresponding to ΠG2/1 ← Π2/1 ; v new
new
for the “v2,1,x
” of Lemma 3.6, (iv). For each z ∈ Vert(G), write
◦
z ∈ Vert(G2/1 ) for the vertex of G2/1 that corresponds to z via the
bijections of Lemma 3.6, (i), (iv). [Thus, it follows from Lemma 3.6,
(iv), that Vert(G2/1 ) = {v new , v ◦ , w◦ }.] Then the following hold [cf. also
Figures 2, 3, below]:
(i) Let (Πv)2 ⊆ Π2 be a conﬁguration space subgroup of Π2 associated to v [cf. Deﬁnition 4.3] such that the image of the
pΠ
2/1

∼

composite (Πv)2 → Π2  Π1 coincides with Πv ⊆ ΠG ← Π1 .
∼
Also, let us ﬁx a verticial subgroup Πvnew ⊆ ΠG2/1 ← Π2/1 of
∼
ΠG2/1 ← Π2/1 associated to a vnew ∈ Vert(G2/1 ) that lies over
v new ∈ Vert(G2/1 ) and is contained in (Πv)2 . Then there
exists a unique conﬁguration space subgroup (Πw )2 ⊆ Π2 of
Π2 associated to w [cf. Deﬁnition 4.3] such that Πvnew =
def
(Πv)2/1 ∩ (Πw )2/1 — where we write (Πv)2/1 = Π2/1 ∩ (Πv)2 ;
def

(Πw )2/1 = Π2/1 ∩ (Πw )2 — and, moreover, the image of the
pΠ
2/1

composite (Πw )2 → Π2  Π1 coincides with Πw ⊆ Π1 .
(ii) In the situation of (i), the natural homomorphism
lim(Πv ← Πe → Πw ) −→ Π1
−→
— where the inductive limit is taken in the category of proΣ groups — is injective, and its image is commensurably
terminal in Π1 . Write Πv,w ⊆ Π1 for the image of the above
pΠ
2/1

homomorphism; Π2 |Πv,w (⊆ Π2 ) for the ﬁber product of Π2 
Π1 and Πv,w → Π1 . Thus, we have an exact sequence of
proﬁnite groups
1 −→ Π2/1 −→ Π2 |Πv,w −→ Πv,w −→ 1 .
Finally, if G is noncyclically primitive, then Πv,w = Π1 ,
Π2 |Πv,w = Π2 .
∼

(iii) In the situation of (ii), for each z ∈ {
v , w},
 let Πz◦ ⊆ ΠG2/1 ←
∼
Π2/1 be a verticial subgroup of ΠG2/1 ← Π2/1 associated to a
z◦ ∈ Vert(G2/1 ) that lies over z ◦ ∈ Vert(G2/1 ) such that Πz◦ ⊆
(Πz)2/1 [cf. (i)], and, moreover, Πz◦ ∩ Πvnew = {1}. Thus,
∼

def

Πez◦ = Πz◦ ∩ Πvnew is the nodal subgroup of ΠG2/1 ← Π2/1
associated to the unique element ez◦ of N (
z ◦ ) ∩ N (
v new ) [cf.
def
[NodNon], Lemma 1.9, (i)]. Write ez◦ = ez◦ (G2/1 ). Then the
natural homomorphism
lim(Πz◦ ← Πez◦ → Πvnew ) −→ (Πz)2/1
−→

116

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

G2/1

ΠHv◦

ΠHw◦

||

||

(Πv)2/1 (Πw )2/1
    
ev◦
ew◦
··· •
•
• ···
◦
new ·
·
v ·
v
w
◦
·


·
·
·
·
·
·
·
·
∨

•
v◦

↓

·
·
·
·
·
·
·
·
∨

•
•
new
ev ◦ v
ew ◦ w ◦

G = G1


··· •
v

Πv,w
 
• ···
e w

↓

•
v

e

•
w

Figure 2 : the noncyclically primitive case

COMBINATORIAL ANABELIAN TOPICS II

G2/1

ΠHv◦

117

ΠHw◦

||

||

(Πv)2/1 (Πw )2/1
    
ev◦
ew◦
•
•
•
◦ ·
new
·
v ·
v
w
◦
·


···

·
·
·
·
·
·
·
·
·
·
·
·
··

ev ◦

·>

G = G1

···


•
v

·
·
·
·
↓
·
·
·
·
new ··
v
·
·
•
·
·
<·

•
◦
v = w◦

ew ◦

Πv,w
 
•
e w


···

↓
e
•
v=w

Figure 3 : the cyclically primitive case

···

118

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

— where the inductive limit is taken in the category of proΣ groups — is an isomorphism. Write G†z◦ for the subsemi-graph of PSC-type [cf. [CbTpI], Deﬁnition 2.2, (i)]
of the underlying semi-graph of G2/1 whose set of vertices =
def

{
z (G)◦ , v new }; Tz◦ = (Node(G2/1 ) \ {ez◦ }) ∩ Node(G2/1 |G† ◦ ) ⊆
z
Node(G2/1 ) [cf. [CbTpI], Deﬁnition 2.2, (ii)]. Then the natural homomorphism of the above display allows one to identify
(Πz)2/1 with the [pro-Σ] fundamental group ΠHz◦ of
def

Hz◦ = (G2/1 |G† ◦ )Tz◦
z

[cf. [CbTpI], Deﬁnition 2.5, (ii)].
(iv) In the situation of (iii), let (αz )z∈Vert(G) ∈ Glu(Π2 ). Write
((αz )1 )z∈Vert(G) ∈ Glu(Π1 ) for the image of (αz )z∈Vert(G) ∈ Glu(Π2 )
via the injection of Lemma 4.10, (i). Let α1 ∈ Aut|Brch(G)| (G)
be such that ρbrch
(α1 ) = ((αz )1 )z∈Vert(G) ∈ Glu(Π1 ) [cf. Theo1
rem 4.2, (iii); Deﬁnition 4.11]. Then the outomorphism α1 of
Π1 preserves the Π1 -conjugacy class of Πv,w ⊆ Π1 . Thus, by
applying the portion of (ii) concerning commensurable terminality, we obtain [cf. Lemma 3.10, (i)] a restricted outomorphism α1 |Πv,w ∈ Out(Πv,w ).
(v) In the situation of (iv), there exists an outomorphism βv,w [α1 ]
of Π2 |Πv,w that satisﬁes the following conditions:
(1) βv,w [α1 ] preserves Π2/1 ⊆ Π2 |Πv,w and the Π2 |Πv,w -conjugacy
classes of (Πv)2 , (Πw )2 ⊆ Π2 |Πv,w .
(2) There exists an automorphism βv,w [α1 ] of Π2 |Πv,w that lifts
the outomorphism βv,w [α1 ] such that the outomorphism of
∼
ΠG2/1 ← Π2/1 determined by βv,w [α1 ] [cf. (1)] is con∼
tained in Aut|Brch(G2/1 )| (G2/1 ) ⊆ Out(ΠG2/1 ) ← Out(Π2/1 ).
(3) For each z ∈ {
v , w},
 the outomorphism βv,w [α1 ]|(Πz)2 of
(Πz)2 determined by βv,w [α1 ] [i.e., obtained by applying
(1) and Lemma 3.10, (i) — where we note that (Πz)2 is
commensurably terminal in Π2 [cf. Lemma 4.4], hence
also in Π2 |Πv,w ] coincides with αz(G) [cf. the notation of
(iv)].
(4) The outomorphism of Πv,w induced by βv,w [α1 ] [cf. (1)]
coincides with α1 |Πv,w [cf. (iv)].
Here, we observe, in the context of (2), that the outer isomor∼
phism Π2/1 → ΠG2/1 [i.e., which gives rise to “the” closed sub∼
group Aut|Brch(G2/1 )| (G2/1 ) ⊆ Out(ΠG2/1 ) ← Out(Π2/1 )] may be
characterized, up to composition with elements of the subgroup

COMBINATORIAL ANABELIAN TOPICS II

119

∼

Aut|Brch(G2/1 )| (G2/1 ) ⊆ Out(ΠG2/1 ) ← Out(Π2/1 ), as the grouptheoretically cuspidal [cf. [CmbGC], Deﬁnition 1.4, (iv)] outer
isomorphism such that the semi-graph of anabelioids structure
on G2/1 is the semi-graph of anabelioids structure determined
[cf. [NodNon], Theorem A] by the resulting composite
∼

∼

Πe → ΠG ← Π1 → Out(Π2/1 ) → Out(ΠG2/1 )
— where the third arrow is the outer action determined by the
pΠ
2/1

exact sequence 1 → Π2/1 → Π2 → Π1 → 1 — in a fashion
compatible with the projection pΠ
{1,2}/{2} |Π2/1 : Π2/1  Π{2} and
∼
∼
the given outer isomorphisms Π{2} → Π1 → ΠG .
Proof. First, we verify assertion (i). The existence of such a (Πw )2 ⊆ Π2
follows immediately from the various deﬁnitions involved. Thus, it
remains to verify the uniqueness of such a (Πw )2 . Let (Πw )2 ⊆ Π2 be as
in assertion (i) and γ ∈ Π2 an element such that the conjugate (Πw )γ2
of (Πw )2 by γ satisﬁes the condition on “(Πw )2 ” stated in assertion
(i). Then since Πw is commensurably terminal in Π1 [cf. [CmbGC],
Proposition 1.2, (ii)], it holds that the image of γ via pΠ
2/1 is contained in
Πw . Thus — by multiplying γ by a suitable element of (Πw )2 — we may
assume without loss of generality that γ ∈ Π2/1 . In particular, since
Πvnew ⊆ (Πw )2/1 ∩(Πw )γ2/1 — where we write (Πw )γ2/1 = Π2/1 ∩(Πw )γ2 —
is not abelian [cf. [CmbGC], Remark 1.1.3], it follows immediately from
[NodNon], Lemma 1.9, (i), that (Πw )2/1 = (Πw )γ2/1 . Thus, since (Πw )2/1
is commensurably terminal in Π2/1 [cf. [CmbGC], Proposition 1.2, (ii)],
it holds that γ ∈ (Πw )2/1 . This completes the proof of assertion (i).
Assertions (ii), (iii), (iv) follow immediately from the various definitions involved [cf. also [CmbGC], Propositions 1.2, (ii), and 1.5,
(i), as well as the proofs of [CmbCsp], Proposition 1.5, (iii); [CbTpI],
Proposition 2.11].
Finally, we verify assertion (v). It follows immediately from the definition of “OutFC ((Π(−) )2 )G-node ” [cf. Deﬁnitions 4.6, (ii); 4.9] that, for
each z ∈ {
v , w},
 there exists a lifting α
z ∈ Aut((Πz)2 ) of αz(G) such that
z, then
if we write (
αz)1 for the automorphism of Πz determined by α
(
αz)1 (Πe) = Πe. Next, let us observe that it follows immediately from
assertion (ii) that the automorphisms (
αv)1 , (
αw )1 [i.e., determined
w ] determine an automorphism α
1 |Πv,w of Πv,w .
by the liftings α
v, α
Moreover, let us also observe that it follows immediately from Theorem 4.2, (iii) [cf. also the deﬁnition of proﬁnite Dehn multi-twists given
in [CbTpI], Deﬁnition 4.4], that the assignment “α1 → α1 |Πv,w ” implicit
in assertion (iv) is injective. Thus, one veriﬁes immediately from the
deﬁnition of proﬁnite Dehn multi-twists that one may choose the rew of αv , αw so that (
αv)1 (Πe) = (
αw )1 (Πe) = Πe,
spective liftings α
v, α
def

120

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

and, moreover, the outomorphism of Πv,w determined by the resulting automorphism α
1 |Πv,w coincides with the outomorphism α1 |Πv,w of
assertion (iv).
Now we claim that the following assertion holds:
Claim 4.12.A: Write (
αz)2/1 for the automorphism of
z and (αz)2/1 for the outo(Πz)2/1 determined by α
αz)2/1 . Then —
morphism of (Πz)2/1 determined by (
∼
relative to the natural identiﬁcation ΠHz◦ → (Πz)2/1
of assertion (iii) — it holds that
∈ Aut|Brch(Hz◦ )| (Hz◦ )
∼
→
Out((Πz)2/1 )) .
(⊆ Out(ΠHz◦ )
Indeed, careful inspection of the various deﬁnitions involved reveals
that Claim 4.12.A follows immediately from Theorem 4.7 [together
with the commensurable terminality of the subgroup Πe ⊆ Πz — cf.
[CmbGC], Proposition 1.2, (ii)]. Thus — by replacing α
z by the composite of α
z with an inner automorphism determined by conjugation
by a suitable element of (Πz)2/1 — we may assume without loss of
generality that α
z(Πez◦ ) = Πez◦ . Moreover, since [cf. Claim 4.12.A]
α
z preserves the (Πz)2/1 -conjugacy classes of Πz◦ and Πvnew , and the
∼
verticial subgroups Πz◦ , Πvnew ⊆ ΠG2/1 ← Π2/1 are the unique verti∼
cial subgroups of ΠG2/1 ← Π2/1 associated to z(G)◦ , v new ∈ Vert(G2/1 ),
respectively, such that Πez◦ ⊆ Πz◦ , Πez◦ ⊆ Πvnew [cf. [CmbGC], Proposition 1.5, (i)], we thus conclude that α
z(Πz◦ ) = Πz◦ , α
z(Πvnew ) = Πvnew .
Next, write (αz)z◦ , (αz)vnew for the respective outomorphisms of Πz◦ ,
Πvnew determined by α
z. Now we claim that the following assertion
holds:
Claim 4.12.B: It holds that
(αz)2/1

(αv)vnew = (αw )vnew .
Moreover, if v = w, i.e., G is cyclically primitive, then
∼
— relative to the natural outer isomorphism Πv◦ →
Πw◦ [where we note that if v = w, then Πv◦ is a Π2/1 conjugate of Πw◦ ] — it holds that
(αv)v◦ = (αw )w◦ .
Indeed, the equality (αv)vnew = (αw )vnew follows from the deﬁnition of
Glu(Π2 ). Next, suppose that G is cyclically primitive. To verify the
equality (αv)v◦ = (αw )w◦ , let us observe that, for each z ∈ {
v , w},
 the
pΠ
{1,2}/{2}

∼

composite Πz◦ → Π2  Π{2} → ΠG is injective [and its image is a
verticial subgroup of ΠG associated to z(G) ∈ Vert(G)]. Thus, to verify
the equality (αv)v◦ = (αw )w◦ , it suﬃces to verify that the outomorphism of the image of Πv◦ in Π{2} induced by (αv)v◦ coincides with the
outomorphism of the image of Πw◦ in Π{2} induced by (αw )w◦ . On the

COMBINATORIAL ANABELIAN TOPICS II

121

other hand, this follows immediately from the fact that both α
v and α
w
are liftings of the same outomorphism αv = αw of “(Πv )2 ”=“(Πw )2 ” [cf.
[CmbCsp], Proposition 1.2, (iii)]. This completes the proof of Claim
4.12.B.
Next, let us observe that it follows immediately from the various
deﬁnitions involved that if G is noncyclically primitive (respectively,
cyclically primitive), then #Vert((G2/1 ){ev◦ } ) = 2 (respectively, = 1),
and that, relative to the correspondence discussed in [CbTpI], Proposition 2.9, (i), (3), Hv◦ and G2/1 |w◦ (G) (respectively, Hv◦ ) correspond(s)
to the two vertices (respectively, the unique vertex) of (G2/1 ){ev◦ } .
Next, let us observe the following equalities [cf. the notation of
[CbTpI], Deﬁnition 3.8, (ii)]:
χHv◦ ((αv)2/1 ) =
=
=
=

χHz◦ |vnew ((αv)vnew )
χHv◦ |vnew ((αw )vnew )
χHw◦ ((αw )2/1 )
χG2/1 |w◦ (G) ((αw )w◦ )

[cf. [CbTpI], Corollary 3.9, (iv)]
[cf. Claim 4.12.B]
[cf. [CbTpI], Corollary 3.9, (iv)]
[cf. [CbTpI], Corollary 3.9, (iv)].

Now it follows immediately from these equalities, together with Claim
4.12.A, that the data
((αv)2/1 , (αw )w◦ ) ∈ Aut(Hv◦ ) × Aut(G2/1 |w◦ (G) )
(respectively, (αv)2/1 ∈ Aut(Hv◦ ) )
may be regarded as an element of Glubrch ((G2/1 ){ev◦ } ) [cf. Deﬁnition 4.1, (iii)]. Thus, by applying the exact sequence of Theorem 4.2,
(iii) [cf. also Remark 4.9.1], we conclude that there exists an element
v ] ∈ Aut|Brch((G2/1 ){ev◦ } )| ((G2/1 ){ev◦ } )
α2/1 [
of a collection of outomorphisms of
Φ(G

2/1 ){ev ◦ }

∼

−→

Π(G2/1 ){e ◦ }
v

∼

ΠG2/1 −→ Π2/1

[i.e., contained in the image of Aut((G2/1 ){ev◦ } ) → Out(Π2/1 ) — cf.
[CbTpI], Deﬁnition 2.10] that admits a natural structure of torsor over
Dehn((G2/1 ){ev◦ } ) (⊆ Aut|Brch((G2/1 ){ev◦ } )| ((G2/1 ){ev◦ } )).
A similar argument yields the existence of an element
 ∈ Aut|Brch((G2/1 ){ew◦ } )| ((G2/1 ){ew◦ } )
α2/1 [w]
of a collection of outomorphisms of
Φ(G

Π(G2/1 ){e ◦ }
w

2/1 ){ew◦ }

∼

−→

∼

ΠG2/1 −→ Π2/1

[i.e., contained in the image of Aut((G2/1 ){ew◦ } ) → Out(Π2/1 )] that
admits a natural structure of torsor over
Dehn((G2/1 ){ew◦ } ) (⊆ Aut|Brch((G2/1 ){ew◦ } )| ((G2/1 ){ew◦ } )).

122

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Now we claim that the following assertion holds:
Claim 4.12.C: For each z ∈ {
v , w},
 the automorphism
(
αz)1 of Πz is compatible with the outomorphism α2/1 [
z]
of Π2/1 relative to the homomorphism Πz → Π1 →
Out(Π2/1 ) — where the second arrow is the natural
outer action determined by the exact sequence
pΠ
2/1

1 −→ Π2/1 −→ Π2 −→ Π1 −→ 1 .
v ], it follows imIndeed, to verify the compatibility of (
αv)1 and α2/1 [
mediately from the various deﬁnitions involved that it suﬃces to verify
def
αv)1 (σ) ∈ Πv, then there exist
that, for each σ ∈ Πv, if we write τ = (
liftings σ
, τ ∈ Π2 of σ, τ ∈ Πv, respectively, such that the equality
[which is in fact independent of the choice of liftings]
v ] ◦ [Inn(
σ )] ◦ α2/1 [
v ]−1 = [Inn(
τ )] ∈ Out(Π2/1 )
α2/1 [
— where we write “Inn(−)” for the automorphism of Π2/1 determined
by conjugation by “(−)” and “[Inn(−)]” for the outomorphism of Π2/1
determined by this automorphism — holds. To this end, let σ
 ∈ (Πv)2
be a lifting of σ ∈ Πv. Then since (Πv)2/1 ⊆ (Πv)2 is normal, Inn(
σ)
preserves (Πv)2/1 .
Next, let us observe that the semi-graph of anabelioids structure of
(G2/1 ){ev◦ } [with respect to which w◦ is a vertex if G is noncyclically
primitive and, moreover, with respect to which ew◦ is a node in both the
cyclically primitive and noncyclically primitive cases] may be thought
of as the semi-graph of anabelioids structure on the ﬁber subgroup
Π2/1 [cf. Deﬁnition 3.1, (iii)] arising from a point of X log that lies in
the 1-interior of the irreducible component of X log corresponding to v.
Now it follows immediately from this observation that Inn(
σ ) preserves
the Π2/1 -conjugacy class of Πw◦ , as well as the Π2/1 -conjugacy class of
Πew◦ = (Πv)2/1 ∩ Πw◦ if G is noncyclically primitive (respectively, preserves the Π2/1 -conjugacy class of Πew◦ if G is cyclically primitive). By
considering the various Π2/1 -conjugates of Πew◦ and Πw◦ and applying
[CmbGC], Propositions 1.2, (ii); 1.5, (i), we thus conclude that Inn(
σ)
preserves the (Πv)2/1 -conjugacy classes of Πew◦ , Πw◦ if G is noncyclically primitive (respectively, preserves the (Πv)2/1 -conjugacy class of
Πew◦ if G is cyclically primitive). In particular — by multiplying σ
 by
a suitable element of (Πv)2/1 — we may assume without loss of generality that Inn(
σ ) preserves (Πv)2/1 , Πw◦ , and Πew◦ in the noncyclically
primitive case (respectively, preserves (Πv)2/1 and Πew◦ in the cyclically
primitive case).
Next, let us observe that one veriﬁes easily [cf. Lemma 3.6, (iv)] that
pΠ
{1,2}/{2}

the composite Πew◦ → Π2  Π{2} surjects onto a nodal subgroup
∼
of ΠG ← Π{2} associated to e ∈ Node(G). Thus, since Inn(
σ ) preserves
Πew◦ , it follows [cf. [CmbGC], Proposition 1.2, (ii)] that the image of

COMBINATORIAL ANABELIAN TOPICS II

σ
 ∈ Π2 via Π2

pΠ
{1,2}/{2}



123

Π{2} is contained in the image of the composite

pΠ
{1,2}/{2}

Πew◦ → Π2

Π{2} . In particular — by multiplying σ
 by a
suitable element of Πew◦ (⊆ (Πv)2/1 ) — we may assume without loss
of generality that σ
 ∈ Ker(pΠ
{1,2}/{2} ). A similar argument implies that
αv)1 (σ) ∈ Πv such that Inn(
τ)
there exists a lifting τ ∈ (Πv)2 of τ = (
preserves (Πv)2/1 , Πw◦ , Πew◦ if G is noncyclically primitive (respectively,
preserves (Πv)2/1 and Πew◦ if G is cyclically primitive), and, moreover,
τ ∈ Ker(pΠ
{1,2}/{2} ).
αv)1 of (Πv)2/1 , Πv, respecNow since the automorphisms (
αv)2/1 , (
tively, arise from the automorphism α
v of (Πv)2 , it follows immediately
v ] that the equality
from the construction of α2/1 [
v ] ◦ [Inn(
σ )] ◦ α2/1 [
v ]−1 = [Inn(
τ )]
α2/1 [
holds upon restriction to [an equality of outomorphisms of] (Πv)2/1 .
Moreover, if G is noncyclically primitive, then since the composite
pΠ
{1,2}/{2}

Πw◦ → Π2  Π{2} is injective [and its image is a verticial sub∼
group of ΠG ← Π{2} associated to w ∈ Vert(G) — cf. Lemma 3.6, (iv)],
to verify the restriction of the equality
v ] ◦ [Inn(
σ )] ◦ α2/1 [
v ]−1 = [Inn(
τ )]
α2/1 [
to [an equality of outomorphisms of] Πw◦ , it suﬃces to verify that the
outomorphism of the image of Πw◦ in Π{2} induced by the product
v ] ◦ [Inn(
σ )] ◦ α2/1 [
v ]−1 ◦ [Inn(
τ )]−1
α2/1 [
is trivial. On the other hand, this follows immediately from the fact
that σ
, τ ∈ Ker(pΠ
{1,2}/{2} ).
Thus, in summary, the restriction of the equality in question [i.e., in
the discussion immediately following Claim 4.12.C] to [an equality of
outomorphisms of] (Πv)2/1 holds. Moreover, if G is noncyclically primitive, then the restriction of the equality in question to [an equality
of outomorphisms of] Πw◦ holds. In particular, it follows immediately
from the displayed exact sequence of Theorem 4.2, (iii) [cf. also Remark 4.9.1], that the product
α2/1 [
v ] ◦ [Inn(
σ )] ◦ α2/1 [
v ]−1 ◦ [Inn(
τ )]−1
is contained in Dehn((G2/1 ){ev◦ } ). Thus — by considering the outomorphism of Π{2} induced by the above product — one veriﬁes easily from [CbTpI], Theorem 4.8, (iv), together with the fact that σ
,
Π
τ ∈ Ker(p{1,2}/{2} ), that the equality in question holds. This completes
v ]. The compatibility of
the proof of the compatibility of (
αv)1 and α2/1 [
 follows from a similar argument. This completes the
(
αw )1 and α2/1 [w]
proof of Claim 4.12.C.
Next, we claim that the following assertion holds:

124

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Claim 4.12.D: The diﬀerence α2/1 [
v ]◦α2/1 [w]
 −1 ∈ Out(Π2/1 )
∼
is contained in Dehn(G2/1 ) (⊆ Out(ΠG2/1 ) ← Out(Π2/1 )).
Indeed, this follows immediately from the two displayed equalities of
Claim 4.12.B, together with the construction of α2/1 [
v ], α2/1 [w].
 This
completes the proof of Claim 4.12.D.
Thus, it follows immediately from Claim 4.12.D, together with the
existence of the natural isomorphism
∼

Dehn((G2/1 ){ev◦ } ) ⊕ Dehn((G2/1 ){ew◦ } ) −→ Dehn(G2/1 )
[cf. [CbTpI], Theorem 4.8, (ii), (iv)], that — by replacing α2/1 [
v ],
α2/1 [w]
 by the composites of α2/1 [
v ], α2/1 [w]
 with suitable elements
of Dehn((G2/1 ){ev◦ } ), Dehn((G2/1 ){ew◦ } ), respectively [where we rev ], α2/1 [w]
 belong to torsors over
call that the outomorphisms α2/1 [
Dehn((G2/1 ){ev◦ } ), Dehn((G2/1 ){ew◦ } ), respectively] — we may assume without loss of generality that
α2/1 [
v ] = α2/1 [w]
 .
def

v ] = α2/1 [w].
 Then it follows immediately from
Write β2/1 = α2/1 [
Claim 4.12.C, together with the fact that Πv,w is topologically generated by Πv, Πw ⊆ Πv,w [cf. assertion (ii)], that the outomorphism β2/1
of Π2/1 is compatible with the automorphism α
1 |Πv,w of Πv,w [i.e., the
αw )1 — cf. the discussion immediautomorphism induced by (
αv)1 , (
ately preceding Claim 4.12.A], relative to the composite Πv,w → Π1 →
Out(Π2/1 ), where the second arrow is the outer action determined by
the displayed exact sequence of Claim 4.12.C. In particular, by con∼

out

sidering the natural isomorphism Π2 |Πv,w → Π2/1  Πv,w [cf. the
discussion entitled “Topological groups” in [CbTpI], §0], we obtain an
outomorphism βv,w of Π2 |Πv,w which, by construction, satisﬁes the four
conditions listed in assertion (v). This completes the proof of assertion
(v).


Lemma 4.13 (Glueability of combinatorial cuspidalizations in
the case of precisely one node). Suppose that n = 2, and that
[cf. Deﬁnition 4.11] is surjective.
#Node(G) = 1. Then ρbrch
2
Proof. If G is noncyclically primitive [cf. [CbTpI], Deﬁnition 4.1], then
the surjectivity of ρbrch
follows immediately from Lemma 4.12, (v) [cf.
2
also [CmbCsp], Proposition 1.2, (i)], together with the fact that the
natural injection Πv,w → Π1 is an isomorphism [cf. Lemma 4.12, (ii)].
in the case where
Thus, it remains to verify the surjectivity of ρbrch
2
G is cyclically primitive [cf. [CbTpI], Deﬁnition 4.1]. Since we are in
the situation of [CbTpI], Lemma 4.3, we shall apply the notational
conventions established in [CbTpI], Lemma 4.3. Also, we shall write

COMBINATORIAL ANABELIAN TOPICS II

125

Vert(G) = {v}, Node(G) = {e}. Let x ∈ X2 (k) be a k-rational geometric point of X2 such that x{1} ∈ X(k) [cf. Deﬁnition 3.1, (i)] lies on the
unique node of X log [i.e., which corresponds to e].
Recall from [CbTpI], Lemma 4.3, (i), that we have a natural exact
sequence
1 −→ π1temp (G∞ ) −→ π1temp (G) −→ π1top (G) −→ 1 .
∞ ∈ π1temp (G)
Let γ∞ ∈ π1top (G) be a generator of π1top (G) (≃ Z) and γ
∼
a lifting of γ∞ . By abuse of notation, write γ
∞ ∈ ΠG ← Π1 for the
∼
image of γ
∞ ∈ π1temp (G) via the natural injection π1temp (G) → ΠG ← Π1
[cf. the evident pro-Σ generalization of [SemiAn], Proposition 3.6, (iii);
[RZ], Proposition 3.3.15]. Next, let us ﬁx a verticial subgroup
temp
(G∞ ) ⊆) π1temp (G)
Πtemp
v
(0) ⊆ (π1

 that lifts the
of π1temp (G) that corresponds to a vertex v(0) ∈ Vert(G)
vertex V (0) ∈ Vert(G∞ ) [cf. [CbTpI], Lemma 4.3, (iii)]. Thus, for each
a
∞
, we obtain a
integer a ∈ Z, by forming the conjugate of Πtemp
v
(0) by γ
verticial subgroup
temp
(G∞ ) ⊆) π1temp (G)
Πtemp
v
(a) ⊆ (π1

 that lifts the
of π1temp (G) associated to some vertex v(a) ∈ Vert(G)
vertex V (a) ∈ Vert(G∞ ) [cf. [CbTpI], Lemma 4.3, (iii), (vi)]. Write
Πv(a) ⊆ ΠG
temp
for the image of Πtemp
(G) in ΠG .
v
(a) ⊆ π1
Next, let us suppose that γ
∞ was chosen in such a way that, for each
a ∈ Z, the intersection N (
v (a)) ∩ N (
v (a + 1)) consists of a unique node

n
(a, a + 1) ∈ Node(G) that lifts the node N (a + 1) ∈ Node(G∞ ) [cf.
[CbTpI], Lemma 4.3, (iii)]. [One veriﬁes easily that such a γ
∞ always
exists.] Then let us observe that, for each a ≤ b ∈ Z, we have a natural morphism of semi-graphs of anabelioids G[a,b] → G∞ [cf. [CbTpI],
Lemma 4.3, (iv)], which induces injections [cf. the evident pro-Σ generalizations of [SemiAn], Example 2.10; [SemiAn], Proposition 2.5, (i);
[SemiAn], Proposition 3.6, (iii); [RZ], Proposition 3.3.15]

π1temp (G[a,b] ) → π1temp (G∞ ), ΠG[a,b] → ΠG
— where we write, respectively, π1temp (G[a,b] ), ΠG[a,b] for the tempered,
pro-Σ fundamental groups of the semi-graph of anabelioids G[a,b] of
pro-Σ PSC-type — which are well-deﬁned up to composition with inner automorphisms. By choosing appropriate basepoints [cf. also our
choice of γ
∞ ], these inner automorphism indeterminacies may be eliminated in such a way that, for each a ≤ c ≤ b, the resulting injections are
compatible with one another and, moreover, their images contain the
∼
temp
(G∞ ), Πv(c) ⊆ ΠG ← Π1 , respectively. Then,
subgroups Πtemp
v
(c) ⊆ π1

126

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

relative to the resulting inclusions, Πtemp
(c) form verticial subgroups
v
(c) , Πv
temp
of π1 (G[a,b] ), ΠG[a,b] associated to the vertex of G[a,b] corresponding to
V (c) [cf. [CbTpI], Lemma 4.3, (iii)]. In particular, we have a natural
isomorphism
∼
def
Π[a,a+1] = Πv(a),v(a+1) −→ ΠG[a,a+1]
[cf. Lemma 4.12, (ii)]. Let us write
def

Π2 |[a,a+1] = Π2 |Π[a,a+1] ⊆ Π2
[cf. Lemma 4.12, (ii)];
def

Π[a] = Πv(a) ;
def

Π2 |[a] = Π2 ×Π1 Π[a] ⊆ Π2 |[a−1,a] , Π2 |[a,a+1] .
Next, we claim that the following assertion holds:
Claim 4.13.A: The proﬁnite group ΠG is topologically
generated by Π[0] ⊆ ΠG and γ
∞ ∈ ΠG .
Indeed, let us ﬁrst observe that it follows immediately from a similar
argument to the argument applied in the proof of [CmbCsp], Proposition 1.5, (iii) [i.e., in essence, from the “van Kampen Theorem” in
elementary algebraic topology], that
• the image of the natural homomorphism
lim π1temp (G[−a,a] ) −→ π1temp (G∞ )
−→
a≥0

— where the inductive limit is taken in the category of tempered groups [cf. [SemiAn], Deﬁnition 3.1, (i); [SemiAn], Example 2.10; [SemiAn], Proposition 3.6, (i)] — is dense;
• for each nonnegative integer a, the tempered group π1temp (G[−a,a] )
[cf. [SemiAn], Example 2.10; [SemiAn], Proposition 3.6, (i)] is
temp
temp
(G[−a,a] ).
topologically generated by Πtemp
v
(−a) , . . . , Πv
(a) ⊆ π1
In particular, it follows immediately from the exact sequence of [CbTpI],
Lemma 4.3, (i), that the tempered group π1temp (G) [cf. [SemiAn], Example 2.10; [SemiAn], Proposition 3.6, (i)] is topologically generated
temp
(G) and γ
∞ ∈ π1temp (G). Thus, Claim 4.13.A folby Πtemp
v
(0) ⊆ π1
lows immediately from the fact that the image of the natural injection
π1temp (G) → ΠG is dense. This completes the proof of Claim 4.13.A.
For a ∈ Z, let us write
[a,a+1] def

G2/1

= G2∈{1,2},x

[cf. Deﬁnition 3.1, (iii)], where we ﬁx isomorphisms
∼

Π2/1 −→ ΠG [a,a+1] ,
2/1

∼

Π{2} −→ ΠG2∈{2},x = ΠG

[the latter of which is to be understood as being independent of a ∈ Z]
as in [i.e., that belong to the collections of isomorphisms that constitute

COMBINATORIAL ANABELIAN TOPICS II

127

the outer isomorphisms of the ﬁnal display of] Deﬁnition 3.1, (iii), to
be isomorphisms [cf. the discussion of the ﬁnal portion of Lemma 4.12,
[a,a+1]
(v)] such that the semi-graph of anabelioids structure on G2/1
is
the semi-graph of anabelioids structure determined by the resulting
composite
∼

∼

Πn(a,a+1) → ΠG ← Π1 → Out(Π2/1 ) → Out(ΠG [a,a+1] )
2/1

— where we write Πn(a,a+1) ⊆ ΠG for the nodal subgroup of ΠG associated to the unique element n
(a, a + 1) ∈ N (
v (a)) ∩ N (
v (a + 1)),
and the third arrow arises from the outer action determined by the
pΠ
2/1

exact sequence 1 → Π2/1 → Π2 → Π1 → 1 — in a fashion compatible
with the projection pΠ
{1,2}/{2} |Π2/1 : Π2/1  Π{2} and the isomorphisms
∼
∼
Π{2} → ΠG ← Π1 [cf. Deﬁnition 3.1, (ii)]. Here, we note that, for a,
∼
[a,a+1] ∼
[b,b+1]
→ G2∈{1,2},x → G2/1
b ∈ Z, there exist natural isomorphisms G2/1
of semi-graphs of anabelioids of pro-Σ PSC-type [induced by conjugab−a
tion by γ
∞
]. On the other hand, it is not diﬃcult to show [although
we shall not use this fact in the present proof!] that the well-known
injectivity of the homomorphism Π1 → Out(Π2/1 ) of the above display
[cf. [CbTpI], Lemma 5.4, (i), (ii), (iii); [CbTpI], Theorem 4.8, (iv);
[Asd], Theorem 1; [Asd], the Remark following the proof of Theorem
1; [CmbGC], Proposition 1.2, (i), (ii)] implies that when a = b, the
composite
∼
∼
ΠG [a,a+1] ← Π2/1 → ΠG [b,b+1]
2/1

2/1

in fact fails to be graphic!
For each a ∈ Z, let us write
[a,a+1][a] def

G2/1

[a,a+1]

= (G2/1

[a,a+1][a+1] def

){ev(a)◦ } , G2/1

[a,a+1]

= (G2/1

){ev(a+1)◦ }

— where we write ev(a)◦ , ev(a+1)◦ for the nodes “ez◦ ” of Lemma 4.12,
(iii), that occur, respectively, in the cases where the pair “(G2/1 , z◦ )”
[a,a+1]
[a,a+1]
is taken to be (G2/1 , v(a)◦ ); (G2/1 , v(a + 1)◦ ). Then one veriﬁes
easily [cf. Lemma 4.12, (i), (iii)] that the composite
∼

∼

∼

∼

ΠG [a−1,a][a] → ΠG [a−1,a] ← Π2/1 → ΠG [a,a+1] ← ΠG [a,a+1][a]
2/1

2/1

2/1

2/1

— where the ﬁrst and fourth arrows are the natural specialization outer
isomorphisms [cf. [CbTpI], Deﬁnition 2.10], and the second and third
arrows are the isomorphisms ﬁxed above — is graphic. In light of this
observation, it makes sense to write
[a] def

[a−1,a][a] ∼

G2/1 = G2/1

[a,a+1][a]

→ G2/1

[cf. Figure 4 below]. This notation allows us to express the graphicity
observed above in the following way:

128

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

The composites
∼

∼

∼

Π[a] → ΠG ← Π1 → Out(Π2/1 ) → Out(ΠG [a−1,a] ) ← Out(ΠG [a] ),
2/1

2/1

∼

∼

∼

Π[a] → ΠG ← Π1 → Out(Π2/1 ) → Out(ΠG [a,a+1] ) ← Out(ΠG [a] )
2/1

2/1

— where the third arrows in each line of the display
arise from the outer action determined by the exact
pΠ
2/1

sequence 1 → Π2/1 → Π2 → Π1 → 1, the fourth
arrows are the isomorphisms induced by the isomor∼
∼
phisms Π2/1 → ΠG [a−1,a] and Π2/1 → ΠG [a,a+1] ﬁxed
2/1

2/1

above, and the ﬁfth arrows are the isomorphisms induced by the natural specialization outer isomorphisms
[cf. [CbTpI], Deﬁnition 2.10] — factor through
[a]

Aut(G2/1 ) ⊆ Out(ΠG [a] ).
2/1

[a−1,a]

[a]

G2/1

•

•



··
··
··
··
··
·

G2/1


•

•

··
··
··
··
··
·

∨

∨

v(a)

v(a + 1)

•




Π[a−1,a]

[a−1,a]

Figure 4: G2/1

•

··
··
··
··
··
·

∨

v(a − 1)

··· •


[a,a+1]

G2/1



Π[a,a+1]

[a]

•


···

[a,a+1]

, G2/1 , and G2/1

Now we turn to the veriﬁcation of the surjectivity of the homomorphism ρbrch
. Let αv ∈ Glu(Π2 ) (⊆ OutFC ((Πv )2 )G-node ). Write (αv )1 ∈
2
Glu(Π1 ) for the image of αv ∈ Glu(Π2 ) via the injection of Lemma 4.10,
(i). Let α1 ∈ Aut|Brch(G)| (G) be such that ρbrch
(α1 ) = (αv )1 ∈ Glu(Π1 )
1

COMBINATORIAL ANABELIAN TOPICS II

129

[cf. Theorem 4.2, (iii); Deﬁnition 4.11]. Now, by applying Lemma 4.12,
(v), in the case where we take the pair “(
v , w)”
 to be (
v (0), v(1)), we
def
obtain an outomorphism β[0,1] = βv(0),v(1) [α1 ] [cf. Lemma 4.12, (v)] of
Π2 |[0,1] [cf. the notation of the discussion preceding Claim 4.13.A]. Let
†
• β[0,1]
∈ Aut(Π2 |[0,1] ) be an automorphism that lifts β[0,1] ∈
Out(Π2 |[0,1] ) and preserves the subgroup Πn(0,1) ⊆ Π[0,1] [cf.
condition (4) of Lemma 4.12, (v)] and

∞ ∈ Π1 .
• γ
∞ ∈ Π2 a lifting of γ

Then since [as is easily veriﬁed] Π2 |[1,2] [cf. the notation of the dis
cussion preceding Claim 4.13.A] is the conjugate of Π2 |[0,1] by γ
∞ , by
†

conjugating β[0,1] by the inner automorphism determined by γ
∞ , we
obtain an automorphism β † of Π2 |[1,2] , whose associated outomor[1,2]

phism we denote by β[1,2] . Now we claim that the following assertion
holds:
Claim 4.13.B: There exist automorphisms β[0,1] , β[1,2]
of Π2 |[0,1] , Π2 |[1,2] that lift β[0,1] , β[1,2] , respectively, such
that
(i) the outomorphisms of Π2/1 (⊆ Π2 |[0,1] , Π2 |[1,2] ) determined by β[0,1] , β[1,2] coincide;
(ii) the automorphism of Π[0,1] determined by the automorphism β[0,1] preserves the subgroups Πn(0,1) ,
Π[0] , Π[1] ⊆ Π[0,1] ;
†
(iii) β[0,1] = β[0,1]
, and β[1,2] is the post-composite of
β † with an inner automorphism arising from an
[1,2]

element of Π2 |[1] .
†
Indeed, observe that there exist automorphisms β[0,1] , β[1,2] [e.g., β[0,1]
,
†
β ] of Π2 |[0,1] , Π2 |[1,2] that lift β[0,1] , β[1,2] , respectively, such that
[1,2]

• the outomorphisms (β[0,1] )2/1 , (β[1,2] )2/1 of Π2/1 determined by
β[0,1] , β[1,2] are contained in
[0,1]

Aut|Brch(G2/1 )| (G2/1 ),
[0,1]

[1,2]

Aut|Brch(G2/1 )| (G2/1 ) (⊆ Out(Π2/1 )),
[1,2]

respectively, and,
• conditions (ii), (iii) of Claim 4.13.B are satisﬁed
[cf. the discussion of the ﬁnal portion of Lemma 4.12, (v); Lemma 4.12,
(v), (1); [CmbGC], Proposition 1.5, (i)]. In particular, it follows that,
∼
relative to the specialization outer isomorphisms ΠG [1] → ΠG [0,1] , ΠG [1]
2/1

∼

2/1

2/1

→ ΠG [1,2] that appeared in the discussion following the proof of Claim
2/1

4.13.A, together with the natural inclusion of [CbTpI], Proposition 2.9,

130

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

(ii),
[1]

(β[0,1] )2/1 , (β[1,2] )2/1 ∈ Aut|Brch(G2/1 )| (G2/1 ) (⊆ Out(Π2/1 )) .
[1]

Moreover, it follows immediately from condition (3) of Lemma 4.12,
(v), applied in the case of β[0,1] , together with the deﬁnition of β[1,2] ,
that the outomorphisms of the conﬁguration space subgroup




Π2 ⊇ Π2 |[0,1] ⊇
⊆ Π2 |[1,2] ⊆ Π2
(Πv(1) )2
associated to the vertex v(1) determined by β[0,1] , β[1,2] coincide with
αv . Now let us recall from the above discussion that the composite
∼

Π[1] → Π1 → Out(Π2/1 ) → Out(ΠG [1] )
2/1

factors through
[1]

Aut(G2/1 ) ⊆ Out(ΠG [1] ) .
2/1

Thus, it follows immediately from the displayed exact sequence of Theorem 4.2, (iii) [cf. also Remark 4.9.1], that — after possibly replacing
β[1,2] by the post-composite of β[1,2] with an inner automorphism arising
from a suitable element of Π2 |[1] [which does not aﬀect the validity of
conditions (ii), (iii) of Claim 4.13.B] — if we write
[1]

def
[1]
|Brch(G2/1 )|
δ = (β[0,1] )2/1 ◦ (β[1,2] )−1
(G2/1 ) (⊆ Out(Π2/1 )) ,
2/1 ∈ Aut
[1]

then it holds that δ ∈ Dehn(G2/1 ).

Next, let us observe that, for a ∈ {0, 1}, since β[a,a+1] preserves the
Π2/1 -conjugacy class of cuspidal inertia subgroups associated to the diagonal cusp [cf. condition (3) of Lemma 4.12, (v)], it follows from a
similar argument to the argument applied in the proof of [CmbCsp],
Proposition 1.2, (iii), that the outomorphism (β[a,a+1] ){2} of Π{2} induced by β[a,a+1] on the quotient
∼

ΠG [1] ← Π2/1 → Π2
2/1

pΠ
{1,2}/{2}



Π{2}
∼

is compatible, relative to the natural inclusion Π[a,a+1] → Π1 → Π{2} ,
with the outomorphism α1 |Π[a,a+1] [cf. condition (4) of Lemma 4.12,
(v)]. Since an element of Aut|Brch(G)| (G) is completely determined by
its restriction to Aut(G[a,a+1] ) [cf. [CbTpI], Deﬁnition 4.4; [CbTpI],
Remark 4.8.1], we thus conclude that, relative to the natural outer
∼
∼
isomorphisms Π{2} → Π1 → ΠG , it holds that
(β[a,a+1] ){2} = α1 .
In particular, it follows that the element of Aut|Brch(G)| (G) induced by
δ ∈ Aut

[1]

|Brch(G2/1 )|

[1]
(G2/1 ) on the quotient ΠG [1]

2/1

∼

← Π2/1 → Π2

pΠ
{1,2}/{2}



COMBINATORIAL ANABELIAN TOPICS II

131

∼

Π{2} → ΠG is trivial. On the other hand, let us observe that one
veriﬁes easily from [CbTpI], Theorem 4.8, (iii), (iv), that this composite
∼

ΠG [1] ← Π2/1 → Π2

pΠ
{1,2}/{2}



2/1

∼

Π{2} → ΠG determines an isomorphism
[1]

∼

Dehn(G2/1 ) −→ Dehn(G) .
Thus, we conclude that δ is the identity outomorphism of Π2/1 . In
particular, condition (i) of Claim 4.13.B is satisﬁed. This completes
the proof of Claim 4.13.B.
Next, let us ﬁx an automorphism α
1 ∈ Aut(Π1 ) that lifts α1 ∈
∼
Aut|Brch(G)| (G) ⊆ Out(ΠG ) ← Out(Π1 ) and preserves the subgroup
Πn(0,1) ⊆ Π1 [hence also the subgroups Π[0] , Π[1] , Π[0,1] ⊆ Π1 ], and whose
restriction to Π[0,1] ⊆ Π1 coincides with the automorphism of Π[0,1] determined by the automorphism β[0,1] of Π2 |[0,1] . [One veriﬁes easily that
such an α
1 always exists — cf. Lemma 4.12, (v), (4); Claim 4.13.B,
(ii).] Write β2/1 ∈ Out(Π2/1 ) for the outomorphism of Π2/1 ⊆ Π2 |[0,1]
determined by β[0,1] [or, equivalently, β[1,2] — cf. Claim 4.13.B, (i)].
Now we claim that the following assertion holds:
Claim 4.13.C: Write ρ : Π1 → Out(Π2/1 ) for the homomorphism determined by the exact sequence 1 →
pΠ
2/1

Π2/1 → Π2 → Π1 → 1. Then
−1
ρ(
α1 (
γ∞ )) = β2/1 ◦ ρ(
γ∞ ) ◦ β2/1
∈ Out(Π2/1 ) .

Indeed, let us ﬁrst observe that it follows from conditions (i) and (iii)
†
of Claim 4.13.B, together with the deﬁnition of β[1,2]
, that there exists
an element ∈ Π[1] such that
−1
−1
γ∞
) ◦ β2/1
= ρ( −1 )
ρ(
γ∞ ) ◦ β2/1 ◦ ρ(

(∗1 ) .

Next, let us observe that if we write
−1
η =α
1 (
γ∞ ) · γ
∞
∈ Π1
def

(∗2 ),

then it follows immediately from the commensurable terminality of Π[1]
in Π1 [cf. [CmbGC], Proposition 1.2, (ii)], together with our choices of
∞ — which imply that
α
1 and γ
−1
α
1 (
γ∞ ) · γ
∞
· Π[1] · γ
∞ · α
1 (
γ∞ )−1 =
=
=
=
=

α
1 (
γ∞ ) · Π[0] · α
1 (
γ∞ )−1
α
1 (
γ∞ ) · α
1 (Π[0] ) · α
1 (
γ∞ )−1
−1
α
1 (
γ∞ · Π[0] · γ
∞ )
α
1 (Π[1] )
Π[1]

— that η ∈ Π[1] . Thus, to verify Claim 4.13.C, it suﬃces to verify that
ρ( ) = ρ(η).

132

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

To this end, let ζ ∈ Π[0] . Then, by our choice of γ
∞ , it follows that
−1
∞ ∈ Π[1] . In particular, since the outomorphism β2/1 arises
γ
∞ · ζ · γ
from an automorphism β[0,1] of Π2 |[0,1] , which is an automorphism over
the restriction of α
1 to Π[0,1] , it follows immediately that
α1 (ζ)) ◦ β2/1
β2/1 ◦ ρ(ζ) = ρ(

(∗3 ) .

−1
−1
β2/1 ◦ ρ(
γ∞ · ζ · γ
∞
) = ρ(
α1 (
γ∞ · ζ · γ
∞
)) ◦ β2/1

(∗4 ) .

Thus, if we write
−1
Θ = ρ( · γ
∞ · α
1 (ζ) · γ
∞
· −1 ) ◦ β2/1 ∈ Out(Π2/1 ),
def

−1
∞ · α
1 (ζ) · γ
∞
· η −1 ) ◦ β2/1 ∈ Out(Π2/1 ),
Θη = ρ(η · γ
def

then
Θ =
=
=
=
=

−1
ρ( · γ
∞ · α
1 (ζ)) ◦ β2/1 ◦ ρ(
γ∞
)
−1
∞
)
ρ( · γ
∞ ) ◦ β2/1 ◦ ρ(ζ · γ
−1
β2/1 ◦ ρ(
γ∞ · ζ · γ
∞
)
−1
γ∞ · ζ · γ
∞
)) ◦ β2/1
ρ(
α1 (
Θη

[cf. (∗1 )]
[cf. (∗3 )]
[cf. (∗1 )]
[cf. (∗4 )]
[cf. (∗2 )]

−1
— which thus implies that ρ(η −1 · ) commutes with ρ(
γ∞ ·
α1 (ζ)·
γ∞
). In
−1
−1
particular, since γ
∞ · α
1 (Π[0] )·
γ∞ = γ
∞ ·Π[0] ·
γ∞ = Π[1] , by allowing “ζ”
to vary among the elements of Π[0] , it follows that ρ(η −1 · ) centralizes
ρ(Π[1] ). On the other hand, it follows from [Asd], Theorem 1; [Asd],
the Remark following the proof of Theorem 1, that ρ is injective. Thus,
since , η ∈ Π[1] , we conclude that η −1 · ∈ Z(Π[1] ) = {1} [cf. [CmbGC],
Remark 1.1.3]. This completes the proof of Claim 4.13.C.
Now let us recall that the outomorphism β2/1 of Π2/1 of Claim 4.13.C
arises from an automorphism β[0,1] of Π2 |[0,1] . Thus, it follows immediately from Claims 4.13.A, 4.13.C that the outomorphism β2/1 of Π2/1
is compatible with the automorphism α
1 ∈ Aut(Π1 ) relative to the
homomorphism Π1 → Out(Π2/1 ) determined by the exact sequence
pΠ
2/1

1 → Π2/1 → Π2 → Π1 → 1. In particular — by considering the
∼

out

natural isomorphism Π2 → Π2/1  Π1 [cf. the discussion entitled
“Topological groups” in [CbTpI], §0] — we conclude that the outomorphism β2/1 ∈ Out(Π2/1 ) extends to an outomorphism α2 of Π2 .
On the other hand, it follows immediately from the various deﬁni(α2 ) = αv ∈ Glu(Π2 ) [cf. condition (3) of
tions involved that ρbrch
2
Lemma 4.12, (v)], and that α2 ∈ OutFC (Π2 )brch [cf. condition (2) of
Lemma 4.12, (v); [CmbCsp], Proposition 1.2, (i)]. This completes the
proof of Lemma 4.13 in the case where G is cyclically primitive, hence
also of Lemma 4.13.


COMBINATORIAL ANABELIAN TOPICS II

133

Theorem 4.14 (Glueability of combinatorial cuspidalizations).
Let (g, r) be a pair of nonnegative integers such that 2g − 2 + r > 0;
n a positive integer; Σ a set of prime numbers which is either equal to
the set of all prime numbers or of cardinality one; k an algebraically
closed ﬁeld of characteristic ∈ Σ; (Spec k)log the log scheme obtained
by equipping Spec k with the log structure determined by the fs chart
N → k that maps 1 → 0; X log = X1log a stable log curve of type
(g, r) over (Spec k)log . Write G for the semi-graph of anabelioids of proΣ PSC-type determined by the stable log curve X log . For each positive
integer i, write Xilog for the i-th log conﬁguration space of the stable
log curve X log [cf. the discussion entitled “Curves” in “Notations and
Conventions”]; Πi for the maximal pro-Σ quotient of the kernel of the
natural surjection π1 (Xilog )  π1 ((Spec k)log ). Then the following hold:
(i) There exists a natural commutative diagram of proﬁnite
groups
ρbrch
n+1

OutFC (Πn+1 )brch −−−→ Glu(Πn+1 )
⏐
⏐
⏐
⏐


ρbrch

OutFC (Πn )brch −−n−→ Glu(Πn )
[cf. Deﬁnition 4.6, (i); Deﬁnition 4.9; Lemma 4.10, (i); Deﬁnition 4.11] — where the vertical arrows are injective.
(ii) The closed subgroup Dehn(G) ⊆ (Aut(G) ⊆) Out(Π1 ) [cf. [CbTpI],
Deﬁnition 4.4] is contained in the image of the injection
OutFC (Πn )brch → OutFC (Π1 )brch [cf. the left-hand vertical arrows of the diagrams of (i), for varying n]. Thus, one may
regard Dehn(G) as a closed subgroup of OutFC (Πn )brch , i.e.,
Dehn(G) ⊆ OutFC (Πn )brch .
(iii) The homomorphism ρbrch
: OutFC (Πn )brch → Glu(Πn ) of (i)
n
and the inclusion Dehn(G) → OutFC (Πn )brch of (ii) ﬁt into
an exact sequence of proﬁnite groups
ρbrch

n
1 −→ Dehn(G) −→ OutFC (Πn )brch −→
Glu(Πn ) −→ 1 .

In particular, the commutative diagram of (i) is cartesian,
and the horizontal arrows of this diagram are surjective.
Proof. Assertion (i) follows immediately from Lemma 4.10, (i), together
with the injectivity portion of [NodNon], Theorem B. Assertion (ii)
follows immediately from Proposition 3.24, (ii); Theorem 4.2, (i).
Finally, we verify assertion (iii). First, we claim that the following
assertion holds:
Claim 4.14.A: Ker(ρbrch
n ) = Dehn(G) [cf. assertion
(ii)].

134

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Indeed, it follows immediately from Theorem 4.2, (iii) [cf. also Remark 4.9.1], together with assertion (i), that we have a natural commutative diagram
ρbrch

FC
brch
−−n−→ Glu(Πn )
1 −−−→ Ker(ρbrch
n ) −−−→ Out (Πn )
⏐
⏐
⏐
⏐
⏐
⏐



ρbrch

1 −−−→ Dehn(G) −−−→ OutFC (Π1 )brch −−1−→ Glu(Π1 ) −−−→ 1
— where the horizontal sequences are exact, and the vertical arrows
are injective. Thus, Claim 4.14.A follows immediately. In particular,
to complete the veriﬁcation of assertion (iii), it suﬃces to verify the
surjectivity of ρbrch
n . The remainder of the proof of assertion (iii) is
devoted to verifying this surjectivity.
Next, we claim that the following assertion holds:
Claim 4.14.B: If n = 2, then ρbrch
is surjective.
n
We verify Claim 4.14.B by induction on #Node(G). If #Node(G) = 0,
then Claim 4.14.B is immediate. If #Node(G) = 1, then Claim 4.14.B
follows from Lemma 4.13. Now suppose that #Node(G) > 1, and that
the induction hypothesis is in force. Let (αv )v∈Vert(G) ∈ Glu(Π2 ). Write
((αv )1 )v∈Vert(G) ∈ Glu(Π1 ) for the element of Glu(Π1 ) determined by
(αv )v∈Vert(G) [i.e., the image of (αv )v∈Vert(G) via the right-hand vertical
arrow of the diagram of assertion (i) in the case where n = 1]. Let
e ∈ Node(G). Write H for the unique sub-semi-graph of PSC-type [cf.
[CbTpI], Deﬁnition 2.2, (i)] of the underlying semi-graph of G whose set
def
of vertices is V(e). Then one veriﬁes easily that S = Node(G|H ) \ {e}
[cf. [CbTpI], Deﬁnition 2.2, (ii)] is not of separating type [cf. [CbTpI],
Deﬁnition 2.5, (i)] as a subset of Node(G|H ). Thus, since (G|H )S [cf.
[CbTpI], Deﬁnition 2.5, (ii)] has precisely one node, and (αv )v∈V(e) may
be regarded as an element of Glu((ΠH,S )2 ) — where we use the notation
(ΠH,S )2 to denote a conﬁguration space subgroup of Π2 associated to
(H, S) [cf. Deﬁnition 4.3], to which the notation “Glu(−)” is applied
in the evident sense — it follows from Lemma 4.13 that there exists an
outomorphism βH,S of (ΠH,S )2 ⊆ Π2 that lifts (αv )v∈V(e) ∈ Glu((ΠH,S )2 ).
Next, let us observe that it follows immediately from the various
deﬁnitions involved that
def

γ = (βH,S , (αv )v∈V(e) ) ∈ Out((ΠH,S )2 ) ×

Out((Πv )2 )
v ∈V(e)

may be regarded as an element of the “Glu(Π2 )” that occurs in the case
where we take the stable log curve “X log ” to be a stable log curve over
(Spec k)log obtained by deforming the node corresponding to e. Thus,
since the number of nodes of such a stable log curve is = #Node(G) −
1 < #Node(G), by applying the induction hypothesis, we conclude
that the above γ arises from an outomorphism αγ ∈ OutFC (Π2 )brch .

COMBINATORIAL ANABELIAN TOPICS II

135

On the other hand, it follows immediately from the various deﬁnitions
coincides with (αv )v∈Vert(G) . This
involved that the image of αγ via ρbrch
2
completes the proof of Claim 4.14.B.
Finally, we verify the surjectivity of ρbrch
[for arbitrary n] by inn
duction on n. If n ≤ 2, then the surjectivity of ρbrch
follows from
n
Theorem 4.2, (iii) [cf. also Remark 4.9.1], Claim 4.14.B. Now suppose that n ≥ 3, and that the induction hypothesis is in force. Let
(αv )v∈Vert(G) ∈ Glu(Πn ). First, let us observe that it follows from the induction hypothesis that there exists an element αn−1 ∈ OutFC (Πn−1 )brch
such that ρbrch
n−1 (αn−1 ) coincides with the element of Glu(Πn−1 ) detern−1 be an
mined by (αv )v∈Vert(G) ∈ Glu(Πn ) [cf. assertion (i)]. Let α
automorphism of Πn−1 that lifts αn−1 . Write αn−1/n−2 for the outomorphism of Πn−1/n−2 determined by α
n−1 and α
n−2 for the automorphism
n−1 .
of Πn−2 determined by α
Next, let us observe that one veriﬁes easily from the various deﬁnitions involved that Πn/n−2 ⊆ Πn may be regarded as the “Π2 ” associated to some stable log curve “X log ” over (Spec k)log . Moreover,
this stable log curve may be taken to be a geometric ﬁber of the sort
discussed in Deﬁnition 3.1, (iii), in the case of the projection plog
n−1/n−2 ,
relative to a point “x ∈ Xn (k)” that maps to the interior of the same
irreducible component of X log , relative to the n projections to X log . In
particular, by ﬁxing such a stable log curve, together with a suitable
choice of lifting α
n−1 [cf. Theorem 4.7], it makes sense to speak of
Glu(Πn/n−2 ). Moreover, it follows immediately from our choice of “x”
that every conﬁguration space subgroup that appears in the deﬁnition
[cf. Deﬁnition 4.9, (ii)] of Glu(Πn/n−2 ) either
• occurs as the intersection with Πn/n−2 of some conﬁguration
space subgroup that appears in the deﬁnition [cf. Deﬁnition 4.9,
(iii)] of Glu(Πn ) or
• projects isomorphically, via the projection Πn → Π2 to the
factors labeled n and n − 1, to a conﬁguration space subgroup
of Π2 , i.e., a conﬁguration space subgroup that appears in the
deﬁnition [cf. Deﬁnition 4.9, (ii)] of Glu(Π2 ).
In particular, every tripod that appears in the deﬁnition [cf. Deﬁnition 4.9, (ii)] of Glu(Πn/n−2 ) occurs as a tripod of a conﬁguration space
subgroup that appears either in the deﬁnition [cf. Deﬁnition 4.9, (iii)]
of Glu(Πn ) or in the deﬁnition [cf. Deﬁnition 4.9, (ii)] of Glu(Π2 ).
Moreover, it follows from Theorem 4.7; Lemma 3.2, (iv); Lemma 4.8,
(i), that the various αv ’s preserve the conjugacy classes of these conﬁguration space subgroups and tripods — as well as each conjugacy class
of cuspidal inertia subgroups of each of these tripods! — that appear
in the deﬁnition [cf. Deﬁnition 4.9, (ii)] of Glu(Πn/n−2 ). Thus, we conclude from Theorem 3.18, (ii), together with Deﬁnition 4.9, (iii), in the
case of Glu(Πn ), and Deﬁnition 4.9, (ii), in the case of Glu(Π2 ), that

136

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

(αv )v∈Vert(G) determines an element ∈ Glu(Πn/n−2 ), hence, by Claim
4.14.B, an element
αn/n−2 ∈ OutFC (Πn/n−2 )
that lifts the element αn−1/n−2 ∈ Out(Πn−1/n−2 ).
Now we claim that the following assertion holds:
Claim 4.14.C: This outomorphism αn/n−2 of Πn/n−2 is
compatible with the automorphism α
n−2 of Πn−2 relative to the homomorphism Πn−2 → Out(Πn/n−2 ) induced by the natural exact sequence of proﬁnite groups
pΠ
n/n−2

1 −→ Πn−2/n −→ Πn −→ Πn−2 −→ 1 .
Indeed, this follows immediately from the corresponding fact for αn−1/n−2
[which follows from the existence of α
n−1 ], together with the injectivity
FC
of the natural homomorphism Out (Πn/n−2 ) → OutFC (Πn−1/n−2 ) [cf.
[NodNon], Theorem B]. This completes the proof of Claim 4.14.C.
∼
Thus, by applying Claim 4.14.C and the natural isomorphism Πn →
out

Πn/n−2  Πn−2 [cf. the discussion entitled “Topological groups” in
[CbTpI], §0], we obtain an outomorphism αn of Πn that lifts the outomorphism αn−1 of Πn−1 . Thus, it follows immediately from Lemma 4.10,
(i), that ρbrch
n (αn ) = (αv )v∈Vert(G) . This completes the proof of the sur
jectivity of ρbrch
n , hence also of assertion (iii).
Remark 4.14.1. In the notation of Theorem 4.14, observe that the
data of collections of smooth log curves that [by gluing at prescribed
cusps] give rise to a stable log curve whose associated semi-graph of
anabelioids [of pro-Σ PSC-type] is isomorphic to G form a smooth,
connected moduli stack. In particular, by considering a suitable path
in the étale fundamental groupoid of this moduli stack, one veriﬁes
immediately that one may reduce the veriﬁcation of an “isomorphism
version” — i.e., concerning PFC-admissible [cf. [CbTpI], Deﬁnition
1.4, (iii)] outer isomorphisms between the pro-Σ fundamental groups
of the conﬁguration spaces associated to two a priori distinct stable
log curves “X log ” and “Y log ” — of Theorem 4.14 to the “automorphism version” given in Theorem 4.14 [cf. [CmbCsp], Remark 4.1.4].
A similar statement may be made concerning Theorem 4.7. We leave
the routine details to the interested reader. In the present monograph,
we restricted our attention to the “automorphism versions” of these
results in order to simplify the [already somewhat complicated!] notation.
Remark 4.14.2. One may regard [CmbCsp], Corollary 3.3, as a special
discussed in Theorem 4.14, i.e., the case
case of the surjectivity of ρbrch
n

COMBINATORIAL ANABELIAN TOPICS II

137

in which X log is obtained by gluing a tripod to a smooth log curve
along a cusp of the smooth log curve.

Corollary 4.15 (Surjectivity result). In the notation of Theorem 3.16,
suppose that n ≥ 3. If r = 0, then we suppose further that n ≥ 4. Then
the tripod homomorphism
TΠtpd : OutF (Πn ) −→ OutC (Πtpd )Δ+
[cf. Deﬁnition 3.19] is surjective.
Proof. Let α ∈ OutC (Πtpd )Δ+ . First, let us observe that — by considering a suitable stable log curve of type (g, r) over (Spec k)log and applying a suitable specialization isomorphism [cf. Proposition 3.24, (i);
the discussion preceding [CmbCsp], Deﬁnition 2.1, as well as [CbTpI],
Remark 5.6.1] — to verify Corollary 4.15, we may assume without
loss of generality that G is totally degenerate [cf. [CbTpI], Deﬁnition
2.3, (iv)], i.e., that every vertex of G is a tripod of Xnlog [cf. Deﬁnition 3.1, (v)]. Then since α ∈ OutC (Πtpd )Δ+ , it follows immediately
from [CmbCsp], Corollary 4.2, (i), (ii) [cf. also [CmbCsp], Deﬁnition
1.11, (i)], that there exists an element αn ∈ OutFC (Πtpd
n ) — where we
for
the
“Π
”
that
occurs
in
the
case
where
we take “X log ”
write Πtpd
n
n
to be a tripod — such that α arises as the image of αn via the natFC
tpd
ural injection OutFC (Πtpd
) of [NodNon], Theorem B.
n ) → Out (Π
Thus, it follows immediately from Theorem 4.14, (iii), that there ex— the
ists an element β ∈ OutFC (Πn )brch that lifts — relative to ρbrch
n
element of Glu(Πn ) [cf. Theorems 3.16, (v); 3.18, (ii)] determined by
αn ∈ OutFC (Πtpd
n ). [Here, recall that we have assumed that G is totally
degenerate.] Finally, it follows from Theorems 3.16, (v); 3.18, (ii), that
TΠtpd (β) = α, i.e., that α is contained in the image of TΠtpd . This
completes the proof of Corollary 4.15.


Corollary 4.16 (Absolute anabelian cuspidalization for stable
log curves over ﬁnite ﬁelds). Let p, lX , lY be prime numbers such
that p ∈ {lX , lY }; (gX , rX ), (gY , rY ) pairs of nonnegative integers such
that 2gX −2+rX , 2gY −2+rY > 0; kX , kY ﬁnite ﬁelds of characteristic
p; k X , k Y algebraic closures of kX , kY ; (Spec kX )log , (Spec kY )log the log
schemes obtained by equipping Spec kX , Spec kY with the log structures
determined by the fs charts N → kX , N → kY that map 1 → 0; X log ,
Y log stable log curves of type (gX , rX ), (gY , rY ) over (Spec kX )log ,
(Spec kY )log ;
def

def

def

def

log
Glog
kX = π1 ((Spec kX ) )  GkX = Gal(k X /kX ) ,
log
Glog
kY = π1 ((Spec kY ) )  GkY = Gal(k Y /kY )

138

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

the natural surjections [well-deﬁned up to composition with an inner
log
automorphism]; sX : GkX → Glog
kX , sY : GkY → GkY sections of the
log
above natural surjections Glog
kX  GkX , GkY  GkY . For each positive
integer n, write Xnlog , Ynlog for the n-th log conﬁguration spaces [cf.
the discussion entitled “Curves” in “Notations and Conventions”] of
X log , Y log ; XΠn , Y Πn for the maximal pro-lX , pro-lY quotients of the
log
log
kernels of the natural surjections π1 (Xnlog )  Glog
kX , π1 (Yn )  GkY .
Then the sections sX , sY determine outer actions of GkX , GkY on XΠn ,
Y
Πn . Thus, we obtain proﬁnite groups
out

out

Πn  sX GkX , Y Πn  sY GkY

X

[cf. [MzTa], Proposition 2.2, (ii); the discussion entitled “Topological
groups” in [CbTpI], §0]. Let
out

out

∼

α1 : XΠ1  sX GkX −→ Y Π1  sY GkY
be an isomorphism of proﬁnite groups. Then lX = lY ; there exists a
unique collection of isomorphisms of proﬁnite groups


out
out
∼
αn : XΠn  sX GkX −→ Y Πn  sY GkY
n≥1

out

— well-deﬁned up to composition with an inner automorphism of Y Πn  sY
GkY by an element of the intersection Y Ξn ⊆ Y Πn of the ﬁber subgroups
of Y Πn of co-length 1 [cf. [CmbCsp], Deﬁnition 1.1, (iii)] — such that
each diagram
out

X

αn+1

out

Πn+1  sX GkX −−−→ Y Πn+1  sY GkY
⏐
⏐
⏐
⏐



X

out

Πn  sX GkX

α

n
−−−
→

Y

out

Πn  sY GkY

— where the vertical arrows are the surjections induced by the prolog
log
jections Xn+1
→ Xnlog , Yn+1
→ Ynlog obtained by forgetting the factors
labeled j, for some j ∈ {1, · · · , n+1} — commutes, up to composition
with a Y Ξn -inner automorphism.
Proof. First, let us observe that it follows from Corollary 4.18, (ii),
def
below that lX = lY . Write l = lX = lY . Moreover, it follows from
Corollary 4.18, (viii), below [i.e., in the case where condition (viii-1)
out

is satisﬁed] that α1 maps XΠ1 ⊆ XΠ1  sX GkX bijectively onto Y Π1 ⊆
Y

out

Π1  sY GkY . In particular, α1 induces isomorphisms of proﬁnite
groups
∼
∼
α1Π : XΠ1 −→ Y Π1 , α0 : GkX −→ GkY .
For  ∈ {X, Y }, write G for the semi-graph of anabelioids of pro-l
PSC-type determined by log ; ΠG for the [pro-l] fundamental group

COMBINATORIAL ANABELIAN TOPICS II

139

(l)

of G ; Gk ⊆ Gk for the maximal pro-l closed subgroup of Gk ;
(=l)

Gk for the maximal pro-prime-to-l closed subgroup of Gk . Thus,
we have a natural π1 (log )-orbit, i.e., relative to composition with automorphisms induced by conjugation by elements of π1 (log ), of iso∼
∼
morphisms  Π1 → ΠG ; ﬁx an isomorphism  Π1 → ΠG that belongs
to the collection of isomorphisms that constitutes this π1 (log )-orbit of
isomorphisms. Moreover, since Gk is isomorphic to Z as an abstract
proﬁnite group, we have a natural decomposition
(l)

(=l)

∼

Gk × Gk −→ Gk .
Thus, the isomorphism α0 naturally decomposes into a pair of isomorphisms
(l)

(l)

∼

(l)

(=l)

α0 : GkX −→ GkY , α0

(=l)

∼

(=l)

: GkX −→ GkY .

Next, let us observe that since  Π1 is topologically ﬁnitely generated
[cf. [MzTa], Proposition 2.2, (ii)] and pro-l, one veriﬁes easily that [by
replacing Gk by a suitable open subgroup and applying the injectivity
portion of [NodNon], Theorem B, together with [CmbGC], Corollary
2.7, (i)] we may assume without loss of generality that the outer action
of Gk on  Π1 — hence [cf. the injectivity portion of [NodNon], Theorem B] also on  Πn for each positive integer n — factors through the
∼
(l)
(=l)
(l)
quotient Gk ← Gk × Gk  Gk .
Next, let us recall the following well-known Facts:
(1) Some positive tensor power of the l-adic cyclotomic character
of Gk factors through the outer action of Gk on  Π1 [cf.
Corollary 4.18, (vii), below].
(l)

(2) The restriction to Gk ⊆ Gk of any positive tensor power of
the l-adic cyclotomic character of Gk is injective.
Thus, it follows from Facts (1), (2), that
(3) the resulting outer action of Gk on  Π1 — hence also on  Πn
for each positive integer n — is injective.
(l)

In particular, it follows immediately from the slimness of  Πn [cf.
[MzTa], Proposition 2.2, (ii)] that the composite
Z

out

out

Π n  s G k 

( Πn ) →  Πn  s Gk  Gk

determines an isomorphism
Z

∼

out

Π n  s G k 

( Πn ) −→ G=l
k .

140

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

Thus, if we identify Z

out

Π n  s G k 

( Πn ) with G=l
k by means of this iso-

morphism, then we obtain a natural isomorphism


out
out
(l)
(=l) ∼

Πn  s Gk × Gk −→  Πn  s Gk .
Next, let us observe that the following assertion holds:
Claim 4.16.A: There exists a positive power q of p such
that logp (q) is divisible by logp (#kX ), logp (#kY ), and,
moreover,
(l)
(l)
(l)
α0 ((Frq )kX ) = (Frq )kY
— where we write (Frq )kX ∈ GkX , (Frq )kY ∈ GkY for
(l)
the q-power Frobenius elements of GkX , GkY ; (Frq )kX ∈
(l)
(l)
(l)
GkX , (Frq )kY ∈ GkY for the respective images of (Frq )kX ∈
(l)
(l)
GkX , (Frq )kY ∈ GkY in GkX , GkY .
Indeed, this follows immediately from Corollary 4.18, (vii), below, together with Fact (2).
Write HkX ⊆ GkX , HkY ⊆ GkY for the open subgroups of GkX , GkY
topologically generated by (Frq )kX ∈ GkX , (Frq )kY ∈ GkY [cf. Claim
4.16.A]; UkY ⊆ GkY for the open subgroup of GkY topologically gener(l)
(l)
ated by α0 ((Frq )kX ) ∈ GkY ; HkX ⊆ GkX for the image of HkX ⊆ GkX in
(l)
(l)
(l)
(l)
(l)
GkX ; HkY , UkY ⊆ GkY for the images of HkY , UkY ⊆ GkY in GkY . Then
(l)
(l)
it follows from Claim 4.16.A that we have an equality HkY = UkY , and,
∼
moreover, that the isomorphism HkX → UkY induced by α0 induces an
(l) ∼
(l)
(l)
isomorphism HkX → UkY = HkY . In particular, one veriﬁes easily that
∼
there exists an isomorphism of proﬁnite groups α0H : HkX → HkY that
(a) maps (Frq )kX ∈ GkX to (Frq )kY ∈ GkY ,
which thus implies that
∼

(b) the isomorphism HkX → HkY induced by α0H coincides with
(l) ∼
(l)
(l)
the above isomorphism HkX → UkY = HkY induced by α0 .
(l)

(l)

Moreover, it follows immediately from (b), together with the existence
of the natural isomorphisms


out
out
(l)
(=l) ∼
X
Πn  sX GkX × GkX −→ XΠn  sX GkX ,


out
out
(l)
(=l) ∼
Y
Πn  sY GkY × GkY −→ Y Πn  sY GkY
[cf. the discussion preceding Claim 4.16.A], that there exists an isomorphism
out

∼

out

α1H : XΠ1  sX HkX −→ Y Π1  sY HkY
such that

COMBINATORIAL ANABELIAN TOPICS II

141

(c) the isomorphism “α0 ” of HkX with HkY that occurs in the
case where we take the “α1 ” to be α1H coincides with α0H [i.e.,
roughly speaking, α1H lies over α0H ], and, moreover,
(d) the isomorphism “α1Π ” of XΠ1 with Y Π1 that occurs in the case
where we take the “α1 ” to be α1H coincides with [the original]
α1Π [i.e., roughly speaking, α1H restricts to α1Π on XΠ1 ].
In particular, we conclude, again by the existence of the natural isomorphisms


out
out
(l)
(=l) ∼
X
Πn  sX GkX × GkX −→ XΠn  sX GkX ,


out
out
(l)
(=l) ∼
Y
Πn  sY GkY × GkY −→ Y Πn  sY GkY ,
together with the injectivity portion of [NodNon], Theorem B, and
[CmbGC], Corollary 2.7, (i), that, to verify Corollary 4.16 — by replacing GkX , GkY , α1 by HkX , HkY , α1H — we may assume without
loss of generality that #kX = #kY , and that α0 maps the #kX -power
Frobenius element of GkX to the #kY -power Frobenius element of GkY .
We may also assume without loss of generality — by replacing Gk ,
where  ∈ {X, Y }, by a suitable open subgroup of Gk if necessary —
that the following condition holds:
(e) for  ∈ {X, Y }, Gk acts trivially on the underlying semigraph of G .
Next, let us observe that the uniqueness portion of Corollary 4.16
follows immediately from the injectivity portion of [NodNon], Theorem
B, and [CmbGC], Corollary 2.7, (i). Thus, it remains to verify the
existence of a collection of αn ’s as in the statement of Corollary 4.16.
To this end, for each positive integer i,  ∈ {X, Y }, and v ∈ Vert(G ),
write ( Πv )i ⊆  Πi for the conﬁguration space subgroup of  Πi associated to v ∈ Vert(G ) [well-deﬁned up to  Πi -conjugation — cf.
Deﬁnition 4.3].
Next, let us observe that
∼

(f) the isomorphism ΠGX → ΠGY determined by α1Π and the ﬁxed
∼
∼
isomorphisms XΠ1 → ΠGX , Y Π1 → ΠGY is graphic [cf. Corollary 4.18, (iii), (iv), below].
∼

Write αVert : Vert(GX ) → Vert(GY ) for the bijection determined by
∼
the graphic isomorphism ΠGX → ΠGY of (f). Thus, for each v ∈
∼
Vert(GX ), the isomorphism ΠGX → ΠGY of (f) determines an outer iso∼
morphism βv : (X Πv )1 → (Y ΠαVert (v) )1 [cf. [CmbGC], Proposition 1.2,
(ii); [CbTpI], Lemma 2.12, (i), (ii), (iii)], which is compatible with
the respective natural outer actions of GkX , GkY [cf. (e)]. In particular, by applying [Wkb], Theorem C, to this outer isomorphism

142

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
∼

βv : (X Πv )1 → (Y ΠαVert (v) )1 , we obtain [cf. [CmbGC], Corollary 2.7,
(i)] a PFC-admissible [cf. [CbTpI], Deﬁnition 1.4, (iii)] outomorphism
∼
βv,n : (X Πv )n → (Y ΠαVert (v) )n , which is compatible with the respective
natural outer actions of GkX , GkY [cf. (e)]. Moreover, since the βv ’s
∼
arise from a single isomorphism ΠGX → ΠGY , one veriﬁes immediately
from [CbTpI], Corollary 3.9, (ii), (v), and the injectivity discussed in
[Hsh], Remark 6, (iv) [i.e., applied to the diﬀerence between the various outer isomorphisms, determined by βv,n , between tripods of (X Πv )n
and tripods of (Y ΠαVert (v) )n ], that the collection (βv,n )v∈Vert(GX ) is contained in the set which corresponds — in the “isomorphism version”
of Theorem 4.14 discussed in Remark 4.14.1 — to the set “Glu(Πn )”
in the statement of Theorem 4.14. In particular, it follows from the
“isomorphism version” of Theorem 4.14, (i), (iii), discussed in Remark 4.14.1 that the outer isomorphism determined by the isomor∼
phism α1Π : XΠ1 → Y Π1 and the collection (βv,n )v∈Vert(G) uniquely deter∼
mine a PFC-admissible outer isomorphism βn : XΠn → Y Πn which —
by the injectivity portion of [NodNon], Theorem B — is compatible with
the respective outer actions of GkX , GkY . Finally, one veriﬁes immediately that one may construct a collection of αn ’s as in the statement
of Corollary 4.16 from the collection of the βn ’s. This completes the

proof of the existence of αn ’s, hence also of Corollary 4.16.

Remark 4.16.1. Corollary 4.16 may be regarded as a generalization
of [AbsCsp], Theorem 3.1; [Hsh], Theorem 0.1; [Wkb], Theorem C.

Corollary 4.17 (Commensurator of the image of the absolute
Galois group of a ﬁnite ﬁeld in the totally degenerate case).
Let n be a positive integer; p, l two distinct prime numbers; (g, r) a
pair of nonnegative integers = (0, 3) such that 2g −2+r > 0; k a ﬁnite
ﬁeld of characteristic p; k an algebraic closure of k; (Spec k)log the log
scheme obtained by equipping Spec k with the log structure determined
by the fs chart N → k that maps 1 → 0; X log a stable log curve of
type (g, r) over (Spec k)log . Write G for the semi-graph of anabelioids
of pro-l PSC-type associated to the stable log curve X log ; G for the
underlying semi-graph of G; ΠG for the [pro-l] fundamental group of G;
def

def

log
Glog
k = π1 ((Spec k) )  Gk = Gal(k/k)

for the natural surjection [well-deﬁned up to composition with an inner
automorphism]. For each positive integer i, write Xilog for the i-th log
conﬁguration space [cf. the discussion entitled “Curves” in “Notations and Conventions”] of X log ; Πi for the maximal pro-l quotient
of the kernel of the natural surjection π1 (Xilog )  Glog
k . Thus, we

COMBINATORIAL ANABELIAN TOPICS II

143

have a natural π1 (X log )-orbit, i.e., relative to composition with automorphisms induced by conjugation by elements of π1 (X log ), of isomor∼
phisms Π1 → ΠG and a natural outer action
FC
ρX log : Glog
k −→ Out (Πi )
i

[cf. the notation of [CmbCsp], Deﬁnition 1.1, (ii)]. Fix an outer
∼
isomorphism Π1 → ΠG whose constituent isomorphisms belong to the
above π1 (X log )-orbit of isomorphisms. Let H ⊆ Glog
k be a closed sublog
group of Gk whose image in Gk is open. Write IH ⊆ H for the kernel
of the composite H → Glog
k  Gk . We shall say that H is of l-Dehn
type if the maximal pro-l quotient of IH is nontrivial. Suppose that
the stable log curve X log is totally degenerate [i.e., that the complement in X of the nodes and cusps is a disjoint union of tripods].
Then the following hold:
(i) The image ρX log (IH ) ⊆ Out(Π1 ) is contained in Dehn(G) ⊆
1

∼

Out(ΠG ) ← Out(Π1 ) [cf. the notation of [CbTpI], Deﬁnition
4.4]. Moreover, the image ρX log (IH ) is nontrivial if and only
1
if H is of l-Dehn type. Write
C(ρ) def

IH

= (ρX log (IH ) ⊗Zl Ql ) ∩ Dehn(G) ⊆ Dehn(G)
1

[considered in Dehn(G) ⊗Zl Ql — cf. [CbTpI], Theorem 4.8,
(iv)].
(ii) For any positive integer m ≤ n, the natural injection OutFC (Πn )
→ OutFC (Πm ) of [NodNon], Theorem B, induces isomorphisms
∼

ZOutFC (Πn ) (ρXnlog (H)) −→ ZOutFC (Πm ) (ρXmlog (H)) ,
∼

loc
loc
ZOut
FC (Π ) (ρX log (H)) −→ ZOutFC (Π ) (ρX log (H))
n
m
n
m

[cf. the discussion entitled “Topological groups” in “Notations
and Conventions”],
∼

NOutFC (Πn ) (ρXnlog (H)) −→ NOutFC (Πm ) (ρXmlog (H)) ,
∼

COutFC (Πn ) (ρXnlog (H)) −→ COutFC (Πm ) (ρXmlog (H)) .
∼

(iii) Relative to the natural inclusion Aut(G) (⊆ Out(ΠG ) ← Out(Π1 )),
the following equality holds:
COutFC (Π1 ) (ρX log (H)) = CAut(G) (ρX log (H)) .
1

1

In particular, we have natural homomorphisms of proﬁnite groups
∼

COutFC (Πn ) (ρXnlog (H)) → COutFC (Π1 ) (ρX log (H)) → Aut(G) ,
1

χG

∼

COutFC (Πn ) (ρXnlog (H)) → COutFC (Π1 ) (ρX log (H)) → Z∗l
1

144

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

[cf. the notation of [CbTpI], Deﬁnition 3.8, (ii)] — where the
ﬁrst arrow in each line is the isomorphism of (ii). By abuse
of notation [i.e., since ρXnlog (H) is not necessarily contained in
Aut|grph| (G) — cf. the notation of [CbTpI], Deﬁnition 2.6, (i);
Remark 4.1.2 of the present monograph], write
ZAut|grph| (G) (ρXnlog (H)) ⊆ ZOutFC (Πn ) (ρXnlog (H)) ,
loc
loc
ZAut
|grph| (G) (ρX log (H)) ⊆ ZOutFC (Π ) (ρX log (H)) ,
n
n
n

NAut|grph| (G) (ρXnlog (H)) ⊆ NOutFC (Πn ) (ρXnlog (H)) ,
CAut|grph| (G) (ρXnlog (H)) ⊆ COutFC (Πn ) (ρXnlog (H))
for the kernels of the restrictions of the composite homomorphism of the ﬁrst line of the second display [of the present (iii)]
to
loc
ZOutFC (Πn ) (ρXnlog (H)), ZOut
FC (Π ) (ρX log (H)) ,
n
n

NOutFC (Πn ) (ρXnlog (H)), COutFC (Πn ) (ρXnlog (H)) ,
respectively.
(iv) Suppose that H is not of l-Dehn type. Then we have equalities
loc
ZAut|grph| (G) (ρXnlog (H)) = ZAut
|grph| (G) (ρX log (H))
n
= NAut|grph| (G) (ρXnlog (H))
= CAut|grph| (G) (ρXnlog (H))
[cf. the notation of (iii)]. Moreover, each of the four groups
appearing in these equalities is, in fact, independent of n [cf.
(ii)].
(v) Suppose that H is of l-Dehn type. Then the composite homomorphism of the ﬁrst line of the second display of (iii) determines an injection of proﬁnite groups
loc
ZOut
FC (Π ) (ρX log (H)) → Aut(G) .
n
n

(vi) Write k|grph| (⊆ k) for the [ﬁnite] subﬁeld of k consisting of the
invariants of k with respect to [the natural action on k of ] the
kernel of the natural action of H on G. Then the composite
homomorphism of the second line of the second display of (iii)
determines natural exact sequences of proﬁnite groups
N (ρ)

−→ NAut|grph| (G) (ρXnlog (H)) −→ Z∗l ,

C(ρ)

−→ CAut|grph| (G) (ρXnlog (H)) −→ Z∗l

1 −→ IH

1 −→ IH

[cf. the notation of (i), (iii)] — where ρXnlog (IH ), hence also
N (ρ) def

(ρXnlog (IH ) ⊆) IH

= NAut|grph| (G) (ρXnlog (H)) ∩ Dehn(G)

COMBINATORIAL ANABELIAN TOPICS II

145
C(ρ)

[cf. (i), (ii), (iii)], is an open subgroup of IH ; the image
of the third arrow in each line contains #k|grph| ∈ Z∗l and does
not depend on the choice of n. In particular, these images are
open; if, moreover, #k|grph| ∈ Z∗l topologically generates
Z∗l , then the third arrows in each line are surjective.
(vii) The closed subgroup ρXnlog (H) ⊆ COutFC (Πn ) (ρXnlog (H)), hence
also NOutFC (Πn ) (ρXnlog (H)) (⊆ COutFC (Πn ) (ρXnlog (H))), is open
in COutFC (Πn ) (ρXnlog (H)).
(viii) Consider the following conditions [cf. Remark 4.17.1 below]:
(1) Write Aut(Spec k)log (X log ) for the group of automorphisms
of X log over (Spec k)log . Then the natural homomorphism
Aut(Spec k)log (X log ) −→ Aut(G)
is surjective.
(2) #k|grph| ∈ Z∗l topologically generates Z∗l .
If condition (1) is satisﬁed, and H is of l-Dehn type, then
we have an equality
loc
ZOutFC (Πn ) (ρXnlog (H)) = ZOut
FC (Π ) (ρX log (H)) ,
n
n

and, moreover, the composite homomorphism of the ﬁrst line
of the second display of (iii) determines an isomorphism
∼

loc
ZOut
FC (Π ) (ρX log (H)) −→ Aut(G) .
n
n

If conditions (1) and (2) are satisﬁed, then the composite homomorphisms of the two lines of the second display of (iii)
determine natural exact sequences of proﬁnite groups
N (ρ)

−→ NOutFC (Πn ) (ρXnlog (H)) −→ Aut(G) × Z∗l −→ 1 ,

C(ρ)

−→ COutFC (Πn ) (ρXnlog (H)) −→ Aut(G) × Z∗l −→ 1 .

1 −→ IH

1 −→ IH

Proof. Assertion (i) follows immediately from the various deﬁnitions
involved, together with [CbTpI], Lemma 5.4, (ii); [CbTpI], Proposition 5.6, (ii). Assertion (ii) follows immediately from Corollary 4.16,
together with the slimness of Πi for each positive integer i [cf. [MzTa],
Proposition 2.2, (ii)] and the openness of the image of H in Gk . Assertion (iii) follows immediately from [CmbGC], Corollary 2.7, (ii) [cf.
also the proof of [CmbGC], Proposition 2.4, (v)], together with the
openness of the image of H in Gk .
For  ∈ {Z, Z loc , N, C} and v ∈ Vert(G), write
∼

def

 = OutFC (Π1 ) (ρX log (H)) ⊆ Out(Π1 ) → Out(ΠG ) ;
1

|grph| =  ∩ Aut|grph| (G) ⊆ Out(ΠG )
def

146

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

[cf. the notation of [CbTpI], Deﬁnition 2.6, (i); Remark 4.1.2 of the
present monograph];
prv : Aut|grph| (G) −→ Aut|grph| (G|v )
for the homomorphism determined by restriction to G|v [cf. [CbTpI],
Deﬁnition 2.14, (ii); [CbTpI], Remark 2.5.1, (ii)];
v ⊆ Aut|grph| (G|v )
for the image of |grph| ⊆ Aut|grph| (G) via prv . Then we claim that the
following assertion holds:
Claim 4.17.A: Let v ∈ Vert(G). Then
Cv ∩ Ker(χG|v ) = {1}
[cf. the notation of [CbTpI], Deﬁnition 3.8, (ii)].
Indeed, let us ﬁrst observe that since  Π1 is topologically ﬁnitely generated [cf. [MzTa], Proposition 2.2, (ii)] and pro-l, one veriﬁes easily
that the image of the outer action ρX log admits a pro-l open subgroup.
1
Thus, since the image of H in Gk is open, it follows immediately from
Corollary 4.18, (vii), below that Cv ⊆ Aut|grph| (G|v ) is contained in the
local centralizer [cf. the discussion entitled “Topological groups” in “Notations and Conventions”] of the natural image of Gk in Aut|grph| (G|v )
[cf. the fact that G|v is of type (0, 3)]. Thus, Claim 4.17.A follows immediately from the injectivity discussed in [Hsh], Remark 6, (iv). This
completes the proof of Claim 4.17.A.
Next, we claim that the following assertion holds:
Claim 4.17.B: Let v ∈ Vert(G). Then
C|grph| ∩ Ker(prv ) = C|grph| ∩ Ker(χG ) = C|grph| ∩ Dehn(G) ;
loc
∩ Ker(prv ) = {1} .
Z|grph| ∩ Ker(prv ) = Z|grph|
In particular, we obtain natural isomorphisms
∼

∼

loc
Z|grph| −→ Zv , Z|grph|
−→ Zvloc

and a natural exact sequence of proﬁnite groups
χG

1 −→ C|grph| ∩ Dehn(G) −→ C|grph| −→ Z∗l .
Indeed, let us ﬁrst observe that the equalities of the ﬁrst line of the
ﬁrst display of Claim 4.17.B follow immediately from Claim 4.17.A,
together with [CbTpI], Corollary 3.9, (iv). Moreover, since the image
of H in Gk is open, the equalities of the second line of the ﬁrst display
of Claim 4.17.B follow immediately from [CbTpI], Theorem 4.8, (iv),
(v), together with the equalities of the ﬁrst line of the ﬁrst display of
Claim 4.17.B. This completes the proof of Claim 4.17.B.
Next, we verify assertion (iv). Let us ﬁrst observe that it follows
from assertion (ii) that it suﬃces to verify assertion (iv) in the case
where n = 1. Next, let us observe that it follows from Lemma 3.9,

COMBINATORIAL ANABELIAN TOPICS II

147

(ii), that C|grph| ⊆ NOutFC (Π1 ) (Z loc ), which thus implies that we have a
loc
natural action [by conjugation] of C|grph| on Z loc , hence also on Z|grph|
,
as well as a natural [trivial!] action of C|grph| on Aut(G). Moreover, by
considering the inclusion
∼

loc
(C|grph| ⊇) Z|grph|
→ Zvloc → Z∗l

induced by χG|v [cf. Claims 4.17.A, 4.17.B], we conclude that the homomorphisms of the two lines of the second display of assertion (iii)
determine a natural [C|grph| -equivariant!] injection
Z loc → Aut(G) × Z∗l .
Thus, since Z∗l is abelian, it follows that C|grph| acts trivially on Z loc ,
i.e., that C|grph| ⊆ ZOutFC (Π1 ) (Z loc ). On the other hand, since H is not
of l-Dehn type, one veriﬁes easily from assertion (i) that ρX log (H) is
1
abelian, hence that ρX log (H) ⊆ Z ⊆ Z loc . Thus, we conclude that
1

C|grph| ⊆ ZOutFC (Π1 ) (Z loc ) ∩ Aut|grph| (G)
⊆ ZOutFC (Π1 ) (ρX log (H)) ∩ Aut|grph| (G)
1
= Z ∩ Aut|grph| (G) = Z|grph| .
This completes the proof of assertion (iv).
Next, we verify assertion (v). First, let us observe that it follows
from assertion (ii) that, to verify assertion (v), it suﬃces to verify that
loc
loc
Z|grph|
= {1}, hence, by Claim 4.17.B, that χG (Z|grph|
) = {1}. On the
other hand, since H is of l-Dehn type, by considering the conjugation
loc
action of Z|grph|
on ρX log (IH ) [which is nontrivial by assertion (i)], we
1
loc
) = {1},
conclude from [CbTpI], Theorem 4.8, (iv), (v), that χG (Z|grph|
as desired. This completes the proof of assertion (v).
Next, we verify assertion (vi). First, we observe that it follows from
N (ρ)
assertions (ii), (iii) that the deﬁnition of IH is indeed independent
of n [as the notation suggests!]. Next, we claim that the following
assertion holds:
Claim 4.17.C:
N (ρ)

ρX log (IH ) ⊆ N|grph| ∩ Dehn(G) = IH
1

C(ρ)

⊆ C|grph| ∩ Dehn(G) = IH

.

Indeed, the ﬁnal equality follows immediately from an elementary computation [in which we apply [CbTpI], Theorem 4.8, (iv), (v)], together
with assertion (i); the remainder of Claim 4.17.C follows immediately
from the various deﬁnitions involved, together with assertion (i). This
completes the proof of Claim 4.17.C. Now it follows immediately from
Claims 4.17.B, 4.17.C, together with assertion (ii), that the composite
homomorphism of the second line of the second display of (iii) determines the two displayed exact sequences of assertion (vi), and that
N (ρ)
C(ρ)
ρX log (IH ), hence also IH , is an open subgroup of IH . Moreover,
1

148

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

since [it is immediate that] the image, via ρXnlog , of the kernel of the
natural action of H on G is contained in N|grph| , the image of the third
arrow in each line of the displayed sequences of assertion (vi) contains
#k|grph| ∈ Z∗l . Finally, it follows from assertion (ii) that the image
of the third arrow in each line of the displayed sequences of assertion
(vi) does not depend on the choice of n. This completes the proof of
assertion (vi).
Assertion (vii) follows immediately from assertions (iii) and (vi),
together with the ﬁniteness of Aut(G). Assertion (viii) follows immediately from assertions (v) and (vi). This completes the proof of
Corollary 4.17.

Remark 4.17.1.
(i) One veriﬁes easily that condition (1) of Corollary 4.17, (viii),
holds if, for instance, k = k|grph| , and, moreover, the lengths [cf.
[CbTpI], Deﬁnition 5.3, (ii)] of the various nodes of X log [whose
base-change from k to k may be thought of as the special ﬁber
stable log curve of [CbTpI], Deﬁnition 5.3] coincide.
(ii) In a similar vein, one veriﬁes easily that condition (2) of Corollary 4.17, (viii), holds if, for instance, k|grph| = Fp , and, more2
over, p remains
prime in the cyclotomic extension Q(e2πi/l ),
√
where i = −1, and we assume that l is odd.
Remark 4.17.2. The computation, in the case where n = 1, of the centralizer (respectively, normalizer and commensurator) in Corollary 4.17,
(viii), may be thought of as a sort of relative geometrically pro-l
(respectively, [semi-] absolute geometrically pro-l) version of the
Grothendieck Conjecture for totally degenerate stable log curves
over ﬁnite ﬁelds. In fact, the proofs of these computations of Corollary 4.17, (viii), in the case where n = 1, only involve the theory of
[CmbGC] and [CbTpI]. On the other hand, these computations of
Corollary 4.17, (viii), can only be performed under certain relatively
restrictive conditions [cf. Remark 4.17.1]. It is precisely for this reason
that Corollary 4.17, (ii), which may be thought of as an application
of the theory of the present monograph, is of interest in the context of
these computations of Corollary 4.17, (viii).

Corollary 4.18 (Compatibility with geometric subgroups). Let
p, lX , lY be prime numbers such that p ∈ {lX , lY }; (gX , rX ), (gY , rY )
pairs of nonnegative integers such that 2gX − 2 + rX , 2gY − 2 + rY > 0;
kX , kY ﬁnite ﬁelds of characteristic p; k X , k Y algebraic closures of
kX , kY ; (Spec kX )log , (Spec kY )log the log schemes obtained by equipping

COMBINATORIAL ANABELIAN TOPICS II

149

Spec kX , Spec kY with the log structures determined by the fs charts
N → kX , N → kY that map 1 → 0; X log , Y log stable log curves of
type (gX , rX ), (gY , rY ) over (Spec kX )log , (Spec kY )log ;
def

def

def

def

log
Glog
kX = π1 ((Spec kX ) )  GkX = Gal(k X /kX ) ,
log
Glog
kY = π1 ((Spec kY ) )  GkY = Gal(k Y /kY )
the natural surjections [well-deﬁned up to composition with an inner
log
log
log
Y
automorphism]; X H ⊆ Glog
kX , H ⊆ GkY closed subgroups of GkX , GkY ;
X
I ⊆ X H, Y I ⊆ Y H the kernels of the composites X H → Glog
kX  G k X ,
log
Y
X
Y
H → GkY  GkY ; Π, Π the maximal pro-lX , pro-lY quotients of
log
)  Glog
the kernels of the natural surjections π1 (X log )  Glog
kX , π1 (Y
kY ;
GX , GY the semi-graphs of anabelioids of pro-l PSC-type determined by
X log , Y log ; ΠGX , ΠGY the [pro-l] fundamental groups of GX , GY [so we
have natural π1 (X log )-, π1 (Y log )-orbits — i.e., relative to composition
with automorphisms induced by conjugation by elements of π1 (X log ),
∼
∼
π1 (Y log ) — of isomorphisms XΠ → ΠGX , Y Π → ΠGY ]. Then the natural
log
X
Y
X
outer actions of Glog
kX , GkY on Π, Π determine outer actions of I ⊆
X
H, Y I ⊆ Y H on XΠ, Y Π. Thus, we obtain proﬁnite groups
X

out

out

Π  X I ⊆ XΠ  X H,

Y

out

out

Π  Y I ⊆ YΠ  Y H

[cf. the discussion entitled “Topological groups” in [CbTpI], §0]. Suppose that, for each  ∈ {X, Y }, one of the following two conditions is
satisﬁed:
(a) The equality  H = Glog
k holds.
(b) The composite  H → Glog
k  Gk is an isomorphism.
We shall refer to a closed subgroup of XΠ, Y Π obtained by forming
the image — by the inverse of an element of the π1 (X log )-, π1 (Y log )∼
∼
orbits of isomorphisms XΠ → ΠGX , Y Π → ΠGY discussed above — in
X
Π, Y Π of a verticial (respectively, cuspidal; nodal; edge-like) subgroup
of ΠGX , ΠGY as a verticial (respectively, cuspidal; nodal; edgeout

out

like) subgroup of XΠ  X H, Y Π  Y H. We shall refer to a closed
out

out

subgroup of XΠ  X I, Y Π  Y I obtained by forming the normalizer
out

out

out

out

in XΠ  X I, Y Π  Y I [i.e., as opposed to XΠ  X H, Y Π  Y H] of
out

a verticial (respectively, cuspidal; nodal; edge-like) subgroup of XΠ 
X

out

H, Y Π  Y H as a verticial (respectively, cuspidal; nodal; edgeout

out

like) I-decomposition subgroup of XΠ  X H, Y Π  Y H. [In
particular, for each  ∈ {X, Y }, it follows from [CmbGC], Proposition
1.2, (ii), that if  H satisﬁes condition (b) — which thus implies that


out

Π =  Π   I — then it holds that a closed subgroup of  Π =

150


YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
out

Π   I is a verticial (respectively, cuspidal; nodal; edge-like)
out

subgroup of  Π   H if and only if it is a verticial (respectively,
out

cuspidal; nodal; edge-like) I-decomposition subgroup of  Π 

H.] Let
out

out

∼

α : XΠ  X H −→ Y Π  Y H
be an isomorphism of proﬁnite groups. Then the following hold:
(i) It holds that X H satisﬁes condition (a) (respectively, (b)) if
and only if Y H satisﬁes condition (a) (respectively, (b)).
(ii) The equality lX = lY holds.
(iii) The isomorphism α induces a bijection between the set of
out

verticial I-decomposition subgroups of XΠ  X H and
out

the set of verticial I-decomposition subgroups of Y Π 
Y
H.

(iv) The isomorphism α induces a bijection between the set of
cuspidal (respectively, nodal; edge-like) I-decomposition
out

subgroups of XΠ  X H and the set of cuspidal (respectively,
out

nodal; edge-like) I-decomposition subgroups of Y Π 
Y
H.
(v) The isomorphism α restricts to an isomorphism
out

(XΠ  X H ⊇)

X

out

∼

out

Π  X I −→ Y Π  Y I

out

(⊆ Y Π  Y H).

(vi) There exists a positive integer nχ such that the diagram
X

out

Y

out

⊗nχ

X

Π  H −−−→
⏐
⏐
α 

X

χG

X
H −−−→ Aut(GX ) −−−
→ Z∗lX

Π  Y H −−−→ Y H −−−→ Aut(GY ) −−⊗n
−→ Z∗lY
χG

χ

Y

— where χGX , χGY are as in [CbTpI], Deﬁnition 3.8, (ii), and
the right-hand vertical equality is the equality that arises from
the equality lX = lY of (ii) — commutes.
(vii) The composite of the upper (respectively, lower) three horizontal arrows of the diagram of (vi) coincides with the composite
of the upper (respectively, lower) three horizontal arrows of the

COMBINATORIAL ANABELIAN TOPICS II

151

diagram
X

out

Y

out

⊗nχ

X

X

Π  H −−−→
⏐
⏐
α 

χk

X
H −−−→ GkX −−−
→ Z∗lX

Π  Y H −−−→ Y H −−−→ GkY −−⊗n
−→ Z∗lY
χk

χ

Y

— where the integer nχ is the positive integer of (vi); the righthand vertical equality is the equality that arises from the equality lX = lY of (ii); the third upper (respectively, lower) horizontal arrow is the nχ -th power of the lX - (respectively, lY -) adic
cyclotomic character χkX of GkX (respectively, χkY of GkY ). In
particular, the diagram of the preceding display commutes.
(viii) Suppose that one of the following three conditions is satisﬁed:
(viii-1) Either X H or Y H satisﬁes condition (b).
(viii-2) It holds that 0 ∈ {rX , rY }.
(viii-3) The isomorphism α induces a bijection between the set
out

of cuspidal subgroups of XΠ  X H and the set of cusout

pidal subgroups of Y Π  Y H.
Then the isomorphism α restricts to an isomorphism
out

(XΠ  X H ⊇)

X

∼

Π −→ Y Π

out

(⊆ Y Π  Y H).


Proof. First, we verify assertions (i), (ii). Let  ∈ {X, Y }. Write Z(p )
for the pro-prime-to-p completion of the ring Z of rational integers.
The following Facts are well-known:
(1) The proﬁnite group Gk is isomorphic to Z as an abstract
proﬁnite group.
(2) The kernel of the natural surjection Glog
k  Gk admits a nat(p )
ural structure of free Z -module of rank 1.
(3) The natural action by conjugation of Gk on the kernel of the
natural surjection Glog
k  Gk is given by the cyclotomic character [cf. (2)]. In particular, for each prime number q = p,
every maximal pro-q subgroup of Glog
k admits a natural structure of extension of Zq by Zq [cf. (1), (2)]. Moreover, the
image of the action Zq → Aut(Zq ) = Z∗q determined by such
an extension is open.
Moreover, let us recall [cf., e.g., [AbsTpI], Proposition 2.3, (i)] that the
following holds:

152

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

(4) The pro-l group  Π is nontrivial, center-free, and elastic [cf.
[AbsTpI], Deﬁnition 1.1, (ii)].
Thus, we conclude that  H satisﬁes condition (b) if and only if the
set of prime numbers q such that every maximal pro-q subgroup of


out

Π   H is nonabelian is of cardinality 1. Moreover, the prime number
l may be characterized as the unique prime number q such that there
out

exists a maximal pro-q subgroup of  Π   H that is not isomorphic to
a closed subgroup of an extension of Zq by Zq . This completes the proofs
of assertions (i), (ii). In the remainder of the proof of Corollary 4.18,
we shall write
def
l = lX = lY
[cf. assertion (ii)].
out

Next, we verify assertion (iii). For  ∈ {X, Y } and J ⊆  Π   H
an open subgroup, write
J RTF
for the maximal pro-RTF-quotient of the proﬁnite group J [cf. [AbsTpI],
def
Proposition 1.2, (iv)];  ΠJ = J ∩  Π ⊆  Π;  H J ⊆  H for the image
out

of the composite J →  Π   H   H [so we have a commutative
diagram of proﬁnite groups
1 −−−→  ΠJ −−−→
⏐
⏐


J
⏐
⏐




out

1 −−−→

−−−→  H J −−−→ 1
⏐
⏐


Π −−−→  Π   H −−−→



H −−−→ 1

— where the horizontal sequences are exact, and the vertical arrows
are the natural inclusions]; GJk ⊆ Gk for the image of the composite
out

J →  Π   H   H → Glog
k  G k ;
( ΠJ )comb
for the “combinatorial quotient” of  ΠJ , i.e., the quotient of  ΠJ by
the normal closed subgroup normally topologically generated by the
closed subgroups of  ΠJ obtained by forming the intersections of  ΠJ
out

with the verticial subgroups of  Π   H.
Now we claim that the following assertion holds:
out

Claim 4.18.A: For  ∈ {X, Y } and J ⊆  Π   H an
open subgroup, the quotient of J RTF by the image of
the normal closed subgroup  ΠJ ⊆ J in J RTF is GJk .
Indeed, this assertion follows immediately from Facts (1), (2), (3).
Next, we claim that the following assertion holds:

COMBINATORIAL ANABELIAN TOPICS II

153

out

Claim 4.18.B: Let  ∈ {X, Y }, J ⊆  Π   H an
open subgroup, Q a torsion-free abelian proﬁnite group,
and J → Q a homomorphism of proﬁnite groups.
Then the composite


ΠJ → J → Q

factors through the natural surjection  ΠJ  ( ΠJ )comb .
To this end, let us ﬁrst observe that since [it is well-known that] the
image, in Z∗l , of the l-adic cyclotomic character of Gk is open, one
veriﬁes immediately that the image by the composite  ΠJ → J →
out

Q of any edge-like subgroup of  Π   H [i.e., any intersection of
out



ΠJ with any edge-like subgroup of  Π   H] is trivial [cf., e.g.,
[CmbGC], Remark 1.1.3]. In a similar vein, it follows immediately
from the “Riemann hypothesis for abelian varieties over ﬁnite ﬁelds”
[cf., e.g., [Mumf], pp. 190-191] that the image by the composite  ΠJ →
out

J  Q of any verticial subgroup of  Π   H [i.e., any intersection of
out



ΠJ with any verticial subgroup of  Π   H] is trivial. This completes
the proof of Claim 4.18.B.
Next, we claim that the following assertion holds:
out

Claim 4.18.C: For  ∈ {X, Y } and J ⊆  Π   H
an open subgroup, the natural exact sequence 1 →
 J
Π → J →  H J → 1 ﬁts into a commutative diagram
of proﬁnite groups
1 −−−→



ΠJ
⏐
⏐


−−−→

J
⏐
⏐


−−−→  H J −−−→ 1
⏐
⏐


( ΠJ )comb −−−→ J RTF −−−→ GJk −−−→ 1
— where the horizontal sequences are exact, and the
vertical arrows are the natural surjections.
Indeed, Claim 4.18.C follows immediately, in light of Claim 4.18.A, by
applying Claim 4.18.B to the various RTF-subgroups of J [cf. [AbsTpI],
Deﬁnition 1.1, (i)].
Next, we claim that the following assertion holds:
Claim 4.18.D: For  ∈ {X, Y }, there exists an open
out

subgroup J0 ⊆  Π   H that satisﬁes the following
condition: For J ⊆ J0 an arbitrary open subgroup,
there exists an open subgroup JH† ⊆  H J such that if
def
we write J † = J × H J JH† , then the corresponding left†
hand lower horizontal arrow ( ΠJ )comb → (J † )RTF of
the diagram of Claim 4.18.C is injective.

154

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
out

To this end, let J0 ⊆  Π   H be an open subgroup such that, for
every open subgroup J ⊆ J0 , the quotient ( ΠJ )comb is a center-free
free pro-l group [where we note that one veriﬁes easily [cf. [CmbGC],
Remark 1.1.3] that such a J0 always exists]. Next, let us observe
that, to verify Claim 4.18.D, we may assume without loss of generality, by replacing  H J by a suitable open subgroup of  H J , that the
outer action of J on ( ΠJ )comb by conjugation is trivial [where we note
that one veriﬁes easily that such an open subgroup of  H J always exists]. Since, as discussed above, ( ΠJ )comb is center-free, if one writes
def
J comb = J/Ker( ΠJ  ( ΠJ )comb ), then this triviality implies that the
inclusions
( ΠJ )comb → J comb ← ZJ comb (( ΠJ )comb )
[cf. the discussion entitled “Topological groups” in [CbTpI], §0] determine an isomorphism
∼

( ΠJ )comb × ZJ comb (( ΠJ )comb ) −→ J comb .
On the other hand, since ( ΠJ )comb is a free pro-l group, the natural surjection ( ΠJ )comb  (( ΠJ )comb )RTF is an isomorphism. In
∼
particular, the composite of natural homomorphisms ( ΠJ )comb →
(( ΠJ )comb )RTF → (J comb )RTF is injective. Thus, since the natural
surjection J  (J comb )RTF factors through J RTF , Claim 4.18.D follows
immediately. This completes the proof of Claim 4.18.D.
Next, we claim that the following assertion holds:
out

Claim 4.18.E: Let  ∈ {X, Y } and A ⊆  Π   H
a closed subgroup. Then the following two conditions
are equivalent:
out

(E-1) The closed subgroup A ⊆  Π   H is contained
out

in a verticial I-decomposition subgroup of  Π 

H.
out

(E-2) For J ⊆  Π   H an arbitrary open subgroup,
the composite A ∩ J → J  J RTF is trivial.
To this end, let us ﬁrst observe that the implication (E-1) ⇒ (E-2)
follows immediately from Claim 4.18.C, together with Facts (1), (2),
(3). On the other hand, by applying Claims 4.18.C, 4.18.D to the
out

various open subgroups of  Π   H for each  ∈ {X, Y }, one veriﬁes
immediately from Proposition 1.5 that the implication (E-2) ⇒ (E1) holds. This completes the proof of Claim 4.18.E. On the other
hand, since any inclusion of verticial I-decomposition subgroups is an
equality [cf. [CmbGC], Proposition 1.2, (i), (ii)], assertion (iii) follows
immediately from Claim 4.18.E. This completes the proof of assertion
(iii).

COMBINATORIAL ANABELIAN TOPICS II

155

Next, we verify assertion (iv). We begin the proof of assertion (iv)
with the following claim:
Claim 4.18.F: Let  ∈ {X, Y }. Suppose that log is a
smooth log curve over (Spec k )log [cf. the discussion
entitled “Curves” in [CbTpI], §0]. Then the inclusions


out

out

Π →  Π   I ← Z( Π   I)

[cf. the discussion entitled “Topological groups” in
[CbTpI], §0] determine an isomorphism


out

∼

out

Π × Z( Π   I) −→  Π   I.
out

out

Moreover, the composite Z( Π   I) →  Π   I 

I is an isomorphism. In particular, if  H satisﬁes
out

condition (a) (respectively, (b)), then Z( Π   I)

admits a structure of free Z(p ) -module of rank 1 (respectively, is trivial) [cf. Fact (2)].
Indeed, since [we have assumed that] log is a smooth log curve over
(Spec k )log , this assertion follows immediately from the slimness of

Π [cf. [CmbGC], Remark 1.1.3], together with the various deﬁnitions
involved.
Next, let us observe that it follows from [CmbGC], Proposition 1.2,
(ii), that,
(5) for each  ∈ {X, Y }, if A is a VCN-subgroup of  Π, then
out

the intersection of  Π with the normalizer, in  Π   I, of A
coincides with A.
Moreover, let us also observe that it follows from [NodNon], Remark
2.4.2; [NodNon], Remark 2.7.1, that,
(6) for each  ∈ {X, Y }, any inclusion of VCN-subgroups of  Π
out

gives rise to an inclusion of the normalizers, in  Π   I, of
the respective VCN-subgroups.
Next, we claim that the following assertion holds:
Claim 4.18.G: The isomorphism α induces a bijection
between the set of edge-like I-decomposition subgroups
out

of XΠ  X H and the set of edge-like I-decomposition
out

subgroups of Y Π  Y H.
To this end, let us ﬁrst observe that it follows immediately — in light
of Facts (5), (6) — from assertion (iii) that, to verify Claim 4.18.G, we
out

may assume without loss of generality — by replacing  Π   H by
out

the normalizer, in  Π   H, of a verticial I-decomposition subgroup

156

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
out

of  Π   H for each  ∈ {X, Y } — that X log , Y log are smooth
log curves over (Spec kX )log , (Spec kY )log , and that the isomorphism α
out

out

out

restricts to an isomorphism of XΠ  X I (⊆ XΠ  X H) with Y Π  Y I
out

(⊆ Y Π  Y H).
Next, let us observe that if X H, hence also Y H [cf. assertion (i)],
satisﬁes condition (b), then since [it is well-known that] the image, in
Z∗l , of the l-adic cyclotomic character of Gk is open for each  ∈
{X, Y }, Claim 4.18.G follows immediately from [CmbGC], Corollary
2.7, (i).
Thus, in the remainder of the proof of Claim 4.18.G, we may assume
without loss of generality that X H, hence also Y H [cf. assertion (i)],
satisﬁes condition (a). Then, by applying a similar argument to the
argument in the proof of Claim 4.18.G in the case where X H satisﬁes
condition (b) to the isomorphism
out

out

∼

out

out

(XΠ  X H)/Z(XΠ  X I) −→ (Y Π  Y H)/Z(Y Π  Y I)
induced by α [cf. Claim 4.18.F], we conclude that this induced isomorphism determines a bijection between the set of images of edge-like
out

out

out

subgroups of XΠ  X H in the quotient (XΠ  X H)/Z(XΠ  X I) and
out

the set of images of edge-like subgroups of Y Π  Y H in the quotient
out

out

(Y Π  Y H)/Z(Y Π  Y I). Now let us observe that it follows immediately from Claim 4.18.F and [CmbGC], Proposition 1.2, (ii), that,
out

for each  ∈ {X, Y } and each edge-like subgroup A ⊆  Π   H, the
out

edge-like I-decomposition subgroup of  Π   H obtained by forming
out

the normalizer of A in  Π   I coincides with the inverse image by
out

out

out

the natural surjection  Π   H  ( Π   H)/Z( Π   I) of the
out

out

image of A in ( Π   H)/Z( Π   I). Thus, Claim 4.18.G holds.
This completes the proof of Claim 4.18.G. On the other hand, assertion
(iv) follows — in light of Facts (5), (6) — from assertion (iii), Claim
4.18.G, and [CmbGC], Proposition 1.5, (i). This completes the proof
of assertion (iv).
Next, we verify assertions (v), (vi), (vii). First, we observe that
assertion (vii) is a formal consequence of assertion (vi), together with
[AbsCsp], Proposition 1.2, (ii); [CbTpI], Corollary 3.9, (ii), (iii). Now
out

suppose that there is no nodal subgroup of XΠ  X H, hence also [cf.
out

assertion (iv)] of Y Π  Y H. Then assertion (v) follows from assertion
(iii). Moreover, by considering, for each  ∈ {X, Y }, the cyclotome
obtained by applying the construction of “Λv ” of [CbTpI], Deﬁnition
3.8, (i), to the collection of data consisting of

COMBINATORIAL ANABELIAN TOPICS II
out

157

out

• the proﬁnite group ( Π   I)/Z( Π   I) and
out

out

• the various images in ( Π   I)/Z( Π   I) of the edge-like
out

I-decomposition subgroups of  Π   H,
one veriﬁes immediately from assertions (iv), (v), together with Claim
4.18.F, that assertion (vi) [i.e., in the case where one takes “nχ ” in the
statement of assertion (vi) to be 1], hence also assertion (vii), holds.
Thus, in the remainder of the proofs of assertions (v), (vi), (vii),
out

we may assume without loss of generality that both XΠ  X H and
Y

out

Π  Y H have a nodal subgroup. Then one veriﬁes immediately from
assertions (iii), (iv) [cf. also Facts (5), (6)], together with Lemma 4.19
below [cf. [NodNon], Deﬁnition 2.4, (i); [NodNon], Remark 2.4.2],
that assertion (vi), hence also assertion (vii), holds. On the other
hand, for each  ∈ {X, Y }, we conclude from Fact (2) in the proof of
Corollary 4.16 that
(7) if we write
out

out

( Π   I)(l) ⊆  Π   I
for the [unique — cf. Fact (2)] maximal pro-l subgroup of


out

out

out

Π   I, then the closed subgroup ( Π   I)(l) ⊆ ( Π 



out

out

I ⊆)  Π   H coincides with the closed subgroup of  Π 

H obtained by forming the unique maximal pro-l subgroup
of the kernel of the composite of the relevant [i.e., upper if
 = X; lower if  = Y ] three horizontal arrows of the diagram
of assertion (vii).

Moreover, we also conclude immediately from Facts (1), (2), (3) that,
for each  ∈ {X, Y },
(8) the kernel of the composite


out

out

out

out

out

Π   H   Π   H/( Π   I)(l)  ( Π   H/( Π   I)(l) )RTF
out

coincides with the closed subgroup  Π   I.
In particular, it follows from assertion (vii) and Facts (7), (8) that the
out

out

isomorphism α restricts to an isomorphism of XΠ  X I (⊆ XΠ  X H)
out

out

with Y Π  Y I (⊆ Y Π  Y H), as desired. This completes the proof of
assertion (v).
Finally, we verify assertion (viii). If condition (viii-1) is satisﬁed,
out

then since [it follows from assertion (i) that]  Π =  Π   I for each
 ∈ {X, Y }, assertion (viii) follows from assertion (v). Thus, in the

158

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

remainder of the proof of assertion (viii), we suppose that both X H
and Y H satisfy condition (a).
Next, suppose that condition (viii-2) is satisﬁed. Then it follows
from assertion (iv) that (rX , rY ) = (0, 0). Write
 (l)

I

⊆ I

for the [unique — cf. Fact (2)] maximal pro-l subgroup of  I. Then
one veriﬁes easily that one may naturally regard  I (l) as a quotient of
out

( Π   I)(l) [cf. Fact (7)], and, moreover, that the closed subgroup


out

Π of  Π   H coincides with the kernel of the natural surjection
out

( Π   I)(l)   I (l) . In particular, it follows from assertions (v),
(vii) that, to verify assertion (viii) in the case where condition (viii-2)
is satisﬁed, it suﬃces to verify the following assertion:
out

Claim 4.18.H: Let  ∈ {X, Y } and ( Π   I)(l)  A
out

a quotient of ( Π   I)(l) . Then it holds that this
out

quotient ( Π   I)(l)  A coincides with the quoout

tient ( Π   I)(l)   I (l) if and only if the following
three conditions are satisﬁed:
(H-1) The proﬁnite group A is isomorphic to Zl as an
abstract proﬁnite group.
out

(H-2) The kernel of the surjection ( Π   I)(l)  A
out

is normal in  Π   H. Thus, the outer action
out

out

of  Π   H on ( Π   I)(l) by conjugation
out

induces an action [cf. (H-1)] of  Π   H on
the quotient A. Moreover, the resulting character
out

ρA :  Π   H → Aut(A) = Z∗l [cf. (H-1)] is
out

out

trivial on  Π   I ⊆  Π   H.
(H-3) The nχ -th power of the character ρA of (H-2) coincides with the composite of the relevant [i.e.,
upper if  = X; lower if  = Y ] three horizontal
arrows of the diagram of assertion (vii).
First, let us observe that it follows from Facts (2), (3) that the quoout

tient ( Π   I)(l)   I (l) satisﬁes the three conditions in the statement of Claim 4.18.H. Next, let us observe that it follows immediately from [CmbGC], Propositions 1.3, 2.6, that if a given quotient
out

( Π   I)(l)  A satisﬁes conditions (H-1), (H-2), then the image in
A of an arbitrary nodal [or, equivalently, edge-like — cf. the equality

COMBINATORIAL ANABELIAN TOPICS II

159

out

(rX , rY ) = (0, 0) discussed above] subgroup of  Π   H is trivial.
Thus, it follows immediately from the “Riemann hypothesis for abelian
varieties over ﬁnite ﬁelds” [cf., e.g., [Mumf], pp. 190-191], together
with Fact (3) and condition (H-3), that Claim 4.18.H holds. This completes the proof of Claim 4.18.H, hence also of assertion (viii) in the
case where condition (viii-2) is satisﬁed.
Finally, one may verify assertion (viii) in the case where condition
(viii-3) is satisﬁed by applying assertion (viii) in the case where condition (viii-2) is satisﬁed. Indeed, let us ﬁrst observe that it follows immediately from Fact (1) [which implies that GkX , GkY are torsion-free]
out

that we may assume without loss of generality, by replacing  Π   H
out

by a suitable open subgroup of  Π   H for each  ∈ {X, Y }, that
gX , gY ≥ 2. Then we may assume without loss of generality, by reout

out

placing  Π   H by the quotient of  Π   H by the normal closed
subgroup normally topologically generated by the cuspidal subgroups
for each  ∈ {X, Y }, that (rX , rY ) = (0, 0) [cf. (viii-3)]. Thus, it follows from assertion (viii) in the case where condition (viii-2) is satisﬁed
that assertion (viii) holds. This completes the proof of assertion (viii),
hence also of Corollary 4.18.


Remark 4.18.1. In the situation of Corollary 4.18, (viii), if one omits
the assumption that one of the conditions (viii-1), (viii-2), and (viii-3)
holds, then the conclusion of Corollary 4.18, (viii), no longer holds in
general. Indeed:
(i) First, we consider the case of a smooth log curve [cf. the discussion entitled “Curves” in [CbTpI], §0]. In the situation
def
of Corollary 4.18, write l = lX . Let T log be a tripod over
(Spec kX )log [cf. the discussion entitled “Curves” in [CbTpI],
§0] such that the natural action of Glog
kX on the set of cusps of
T log is trivial. Then, by taking “T H” to be Glog
kX , we obtain a
out

proﬁnite group T Π  T H. In the remainder of the discussion
of the present (i),
out

we construct an automorphism of T Π  T H that

out

does not preserve the closed subgroup T Π ⊆ T Π 
T
H.
out
out
Let C ⊆ T Π  T H be a cuspidal subgroup of T Π  T H.
def

out

out

Write Z = Z(T Π  T I) for the center of T Π  T I and
out

IC ⊆ T Π  T H for the cuspidal I-decomposition subgroup of

160

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI
T

out

out

Π  T H obtained by forming the normalizer in T Π  T I of
C. Then
out

out

(i-a) the natural inclusions T Π → T Π  T I and Z → T Π  T I
out

∼

determine an isomorphism T Π× Z → T Π  T I [cf. Claim
4.18.F]. Moreover, the natural inclusions C → IC and
∼
Z → IC determine an isomorphism C ×Z → IC [cf. Claim
4.18.F; [CmbGC], Proposition 1.2, (ii)].
Moreover, it is well-known that the following assertions hold:
(i-b) The unique maximal pro-l subgroup of Z admits a structure of free Zl -module of rank 1 [cf. Claim 4.18.F]. Moreover, the natural action of GkX on this unique maximal
out

∼

pro-l subgroup of Z (= {0} × Z ⊆ T Πab × Z → ( Π 
 ab
I) ) [cf. (i-a)] induced by the natural outer action of
out

GkX on T Π  T I is given by the l-adic cyclotomic character [cf. Fact (3) in the proof of Corollary 4.18].
(i-c) The pro-l group T Πab admits a structure of free Zl -module
of rank 2. Moreover, the natural action of GkX on T Πab
out

∼

(= T Πab × {0} ⊆ T Πab × Z → ( Π   I)ab ) [cf. (i-a)]
out

induced by the natural outer action of GkX on T Π  T I
is given by the l-adic cyclotomic character.
Thus, since C admits a structure of free Zl -module of rank 1
[cf. [CmbGC], Remark 1.1.3], there exists a nontrivial homomorphism φ : T Π ( T Πab ) → Z whose kernel is topologically
normally generated by C. Now write αI for the automorphism
out

∼

of the proﬁnite group T Π × Z (→ T Π  T I) [cf. (i-a)] given by
mapping T Π × Z  (σ, z) → (σ, z · φ(σ)) ∈ T Π × Z. Next, let
out

def

us observe that the composite HC = NT outT (C) → T Π 
Π

T

H

H  GkX is surjective, with kernel equal to IC . Thus, it
follows from Fact (1) in the proof of Corollary 4.18 that this
composite HC  GkX admits a section, which determines an
isomorphism
out

∼

out

(T Π  T I)  GkX −→ T Π  T H.
Let us ﬁx such a section. Next, observe that it follows from (ib), (i-c) that the above automorphism αI is compatible with the
out

action of GkX on T Π  T I determined by the ﬁxed section of
HC  GkX . Thus, we conclude that the above automorphism
out

out

αI of T Π  T I extends to an automorphism α of T Π  T H

COMBINATORIAL ANABELIAN TOPICS II

161

that preserves and induces the identity automorphism on the
image of the ﬁxed section of HC  GkX . Now let us observe
that it is immediate that
out

αI , hence also α, does not preserve T Π ⊆ T Π  T I,
as desired. Let us also observe that since C ⊆ T Π is contained in the kernel of φ, it follows from (i-a) that αI preserves and induces the identity automorphism on the cuspidal
out

I-decomposition subgroup IC ⊆ T Π  T I. In particular, we
conclude immediately that
out

(i-d) the automorphism α of T Π  T H preserves and induces
the identity automorphism on HC .
(ii) Next, we consider the case of a singular stable log curve [i.e.,
a stable log curve that is not smooth]. In the situation of (i),
let W log be a stable log curve over (Spec kX )log such that
• W log has precisely two irreducible components each of which
is a tripod,
• W log has a single node, and, moreover,
log
• the natural action of Glog
kX on the dual semi-graph of W
is trivial.

[Thus, W log is of type (0, 4).] Then, by taking “W H” to be Glog
kX ,
out

we obtain a proﬁnite group W Π  W H [cf. the situation and
notational conventions of Corollary 4.18]. In the remainder of
the discussion of the present (ii),
out

we construct an automorphism of W Π  W H that

out

does not preserve the closed subgroup W Π ⊆ W Π 
W
H.
Write v1 , v2 for the distinct two irreducible components of
out

W log . Let V1 , V2 ⊆ W Π ⊆ W Π  W H be verticial subgroups of
W

out

def

Π  W H associated to v1 , v2 such that N = V1 ∩ V2 = {1},
which thus [cf. [NodNon], Lemma 1.9, (i)] implies that N is a
out

nodal subgroup of W Π  W H. For each i ∈ {1, 2}, write
def

HVi = NW outW (Vi ),
Π

H

def

HN = NW outW (N ).
Π

H

Then one veriﬁes immediately [cf. [CmbGC], Proposition 1.2,
(ii)] that

162

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

(ii-a) there exists a commutative diagram of proﬁnite groups
N

⊆

↓
C

Vi

⊆

↓
⊆

T

Π ⊆

T

HV i

⊇ HN

↓

↓

out

Π  T H ⊇ HC

— where the horizontal arrows are the natural inclusions,
and the vertical arrows are isomorphisms.
Moreover, it follows immediately from a similar argument to
the argument applied in the proof of [CmbCsp], Proposition
1.5, (iii) [i.e., in essence, from the evident analogue for semigraphs of anabelioids of the “van Kampen Theorem” in elementary algebraic topology], that
(ii-b) the natural inclusions
out

HV1 → W Π  W H ← HV2
determine an isomorphism
∼

out

lim(HV1 ← HN → HV2 ) −→ W Π  W H
−→
— where the inductive limit is taken in the category of
proﬁnite groups — which restricts to an isomorphism of
closed subgroups
∼

lim(V1 ← N → V2 ) −→ W Π
−→
— where the inductive limit is taken in the category of
proﬁnite groups.
On the other hand, it follows from (i-d) and (ii-a) that, for
each i ∈ {1, 2}, α determines an automorphism βi of HVi that
• does not preserve Vi ⊆ HVi but
• preserves and induces the identity automorphism on the
closed subgroup HN ⊆ HVi .
Thus, by (ii-b), β1 and β2 determine an automorphism γ of
out

W

Π  W H that does not preserve the closed subgroup W Π ⊆

W

Π  W H, as desired.

out

Lemma 4.19 (An explicit description of a power of the cyclotomic character). Let J be a proﬁnite group, ρJ : J → Aut(G0 ) a
continuous homomorphism, and I ⊆ J a normal closed subgroup of J
such that either

COMBINATORIAL ANABELIAN TOPICS II

163

ρ

J
(a) the composite I → J →
Aut(G0 ) is of SNN-type [cf. [NodNon],
Deﬁnition 2.4, (iii)], or

(b) I = {1}.
Write
def

out

def

out

Π I = Π G 0  I ⊆ ΠJ = Π G 0  J
[cf. the discussion entitled “Topological groups” in [CbTpI], §0]. Thus,
we have a commutative diagram of proﬁnite groups
1 −−−→ ΠG0 −−−→ ΠI −−−→ I −−−→ 1
⏐
⏐
⏐
⏐


1 −−−→ ΠG0 −−−→ ΠJ −−−→ J −−−→ 1
— where the horizontal sequences are exact, and the vertical arrows
are the natural inclusions. Write G0 → G0 for the universal covering
of G0 corresponding to ΠG0 . Let e0 be a node of G0 . Write Πe0 ⊆ ΠG0
for the nodal subgroup associated to e0 . Write
Πe0 ,J ⊆ ΠJ
for the [necessarily open] subgroup consisting of the elements σ ∈ ΠJ
such that the natural action of σ on the underlying semi-graph G0 of
G0 stabilizes the two branches of the node e0 (G0 ) of G0 determined by
e0 . Then the following hold:
(i) Let N be a positive integer and γ an element of ΠJ . Then there
exists a collection of data as follows
• a normal open subgroup H ⊆ ΠJ of ΠJ ,
• a positive integer m,
• verticial subgroups Πv0 , Πv1 , . . . , Πvm−1 ⊆ ΠG0 of ΠG0 associated to vertices v0 , v1 , . . . , vm−1 of G0 , respectively, and
• nodal subgroups Πe1 , . . . , Πem ⊆ ΠG0 of ΠG0 associated to
nodes e1 , . . . , em of G0 , respectively,
such that if we write
def

Dej = NΠI (Πej )
for each j ∈ {0, 1, . . . , m} [cf. [NodNon], Deﬁnition 2.2, (iii)],
then
(1) the inclusions Πe0 ⊆ Πv0 , Πem ⊆ Πvm−1 [which imply that
e0 , em abut to v0 , vm−1 , respectively — cf. [NodNon],
Lemma 1.7] hold,
(2) if m ≥ 2, then, for every j ∈ {1, . . . , m − 1}, the inclusion
Πej ⊆ Πvj−1 ∩ Πvj [which implies that ej abuts to vj−1
and vj — cf. [NodNon], Lemma 1.7] holds,
(3) the quotient
De0  De0 ⊗ZΣ0 (ZΣ0 /N ZΣ0 )

164

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI



(ZΣ0 /N ZΣ0 ) × (ZΣ0 /N ZΣ0 ) if (a) is satisﬁed
ZΣ0 /N ZΣ0
if (b) is satisﬁed
[cf. [CmbGC], Remark 1.1.3; [NodNon], Lemma 2.5, (i);
[NodNon], Remark 2.7.1] of De0 factors through the quotient of De0 determined by the composite De0 → ΠJ 
ΠJ /H, and, moreover,
(4) the image of Dem ⊆ ΠJ in ΠJ /H coincides with the image of γ · De0 · γ −1 ⊆ ΠJ in ΠJ /H.
For each j ∈ {0, 1, . . . , m − 1}, write
∼
=

def

def

Dvj = NΠI (Πvj ) ⊇ Ivj = ZΠI (Πvj ) = Z(Dvj )
[cf. [NodNon], Deﬁnition 2.2, (i); [NodNon], Lemma 2.5,
(i); [NodNon], Remark 2.7.1; [CmbGC], Remark 1.1.3]; bj,j ,
bj+1,j for the respective branches of the nodes ej , ej+1 that
abut to the vertex vj determined by the inclusions Πej ⊆ Πvj ,
Πej+1 ⊆ Πvj [cf. (1), (2)]. Thus, for j ∈ {0, 1, . . . , m} and
s ∈ {0, 1, . . . , m − 1} such that s ∈ {j − 1, j}, it follows from
[NodNon], Remark 2.7.1, that we have natural inclusions
I v s ⊆ De j ⊆ D v s
∪
∪
Π e j ⊆ Πv s ,
which determine a commutative diagram of proﬁnite groups
Dej /Ivs −−−→ Dvs /Ivs


⏐
⏐
⏐
⏐
Πe j

−−−→

Πvs

— where the horizontal arrows are the natural inclusions, and
the vertical arrows are isomorphisms.
(ii) In the situation of (i), by applying the construction of “Λv ” of
[CbTpI], Deﬁnition 3.8, (i), to the collection of data consisting
of
• the proﬁnite group Dvs /Ivs and
• the various images in Dvs /Ivs , by the right-hand vertical
∼
isomorphism Πvs → Dvs /Ivs of the ﬁnal display of (i), of
the edge-like subgroups of ΠG0 contained in Πvs ,
one may construct a cyclotome
Λ(Dvs /Ivs ).
Moreover, by applying the construction of “synb ” of [CbTpI],
Corollary 3.9, (v), to the collection of data consisting of
• the proﬁnite groups Dej /Ivs , Dvs /Ivs ,

COMBINATORIAL ANABELIAN TOPICS II

165

• the various images in Dvs /Ivs , by the right-hand vertical
∼
isomorphism Πvs → Dvs /Ivs of the ﬁnal display of (i), of
the edge-like subgroups of ΠG0 contained in Πvs , and
• the upper horizontal arrow Dej /Ivs → Dvs /Ivs of the ﬁnal
display of (i) [i.e., that corresponds the branch bj,s ],
one may construct an isomorphism
∼

synbj,s : Dej /Ivs −→ Λ(Dvs /Ivs ).
Write


def

Mvs =

Me j

Ivs ⊗ZΣ0 Λ(Dvs /Ivs ) if (a) is satisﬁed
if (b) is satisﬁed
Λ(Dvs /Ivs )

det(Dej ) if (a) is satisﬁed
def
=
Dej /Ivs if (b) is satisﬁed

— where the “det” is taken with respect to the structure of free
ZΣ0 -module of ﬁnite rank of the proﬁnite group Dej ; we observe
that if condition (a) is satisﬁed, then the exact sequence of free
ZΣ0 -modules of ﬁnite rank
1 −→ Ivs −→ Dej −→ Dej /Ivs −→ 1
yields a natural identiﬁcation
Mej = Ivs ⊗ZΣ0 (Dej /Ivs )
of ZΣ0 -modules [cf. [CmbGC], Remark 1.1.3; [NodNon], Lemma
2.5, (i); [NodNon], Remark 2.7.1]; we observe that if condition
(b) is satisﬁed, then since Ivs = {1}, we have a natural isomor∼
phism Dej → Dej /Ivs = Mej . If condition (a) is satisﬁed, then
let us write
M

∼

synbj,s : Mej = Ivs ⊗ZΣ0 (Dej /Ivs ) −→ Ivs ⊗ZΣ0 Λ(Dvs /Ivs ) = Mvs
for the isomorphism determined by the above isomorphism synbj,s .
If condition (b) is satisﬁed, then let us write
M

∼

def

synbj,s = synbj,s : Mej = Dej /Ivs −→ Λ(Dvs /Ivs ) = Mvs .
def

(iii) In the situation of (ii), write n0 = 2 (respectively, 1) if condition (a) (respectively, (b)) is satisﬁed. Write
ΦN (γ) ∈ Aut(Me0 ⊗ZΣ0 (ZΣ0 /N ZΣ0 )) = (ZΣ0 /N ZΣ0 )∗
for the automorphism of the free ZΣ0 -module [of rank one]
Me0 ⊗ZΣ0 (ZΣ0 /N ZΣ0 ) obtained by forming the composite of
the isomorphism
∼

Me0 ⊗ZΣ0 (ZΣ0 /N ZΣ0 ) −→ Mem ⊗ZΣ0 (ZΣ0 /N ZΣ0 )

166

YUICHIRO HOSHI AND SHINICHI MOCHIZUKI

determined by conjugating by γ ∈ ΠJ [cf. conditions (3), (4)
in (i)] with the isomorphism
∼

Mem ⊗ZΣ0 (ZΣ0 /N ZΣ0 ) −→ Me0 ⊗ZΣ0 (ZΣ0 /N ZΣ0 )
determined by the inverse of the composite
M syn−1
b1,0

M syn
b0,0

∼

∼

M syn−1
b2,1

M syn
b1,1

∼

∼

Me0 −→ Mv0 −→ Me1 −→ Mv1 −→
M syn−1
bm,m−1

M syn
bm−1,m−1

∼

∼

...
−→
Mvm−1
−→
Me m .
Suppose that γ ∈ Πe0 ,J . Then the image of γ by the composite
⊗2n0

χG

ρJ

0
ΠJ −→ J −→ Aut(G0 ) −→
(ZΣ0 )∗ −→ (ZΣ0 /N ZΣ0 )∗

[cf. [CbTpI], Deﬁnition 3.8, (ii)] coincides with ΦN (γ)2 ∈
(ZΣ0 /N ZΣ0 )∗ .
(iv) Let ρ : ΠJ → (ZΣ0 )∗ be a character [i.e., a continuous homomorphism] and nρ a positive integer divisible by 2[ΠJ : Πe0 ,J ].
Suppose that, for each positive integer N  and each γ  ∈ Πe0 ,J ,
the image of ρ(γ  )2 ∈ (ZΣ0 )∗ in (ZΣ0 /N  ZΣ0 )∗ coincides with
ΦN  (γ  )2 ∈ (ZΣ0 /N  ZΣ0 )∗ [cf. (iii)]. Then the nρ -th power of
the character ρ coincides with the nρ -th power of the character
obtained by forming the composite
ρ

⊗n0

χG

J
0
ΠJ −→ J −→
Aut(G0 ) −→
( Z Σ0 ) ∗

[cf. (iii)].
Proof. Assertions (i), (ii) follow immediately from the various deﬁnitions involved. Next, we verify assertion (iii). Let us ﬁrst observe that
it follows immediately from the various deﬁnitions involved that there
exist δ ∈ ΠG0 ⊆ Πe0 ,J and ∈ NΠJ (Πe0 ) ∩ Πe0 ,J (⊆ NΠJ (De0 ) ∩ Πe0 ,J )
such that γ = δ · . Now one veriﬁes immediately from [CbTpI], Corollary 3.9, (ii), (v); [CbTpI], Corollary 5.9, (ii), that the action of on
Me0 by conjugation is given by multiplication by χG0 ( )n0 . Moreover,
let us observe that one veriﬁes easily that the collection of data of assertion (i) [i.e., associated to γ] satisﬁes conditions (1), (2), (3), (4) in
assertion (i) in the case where we take “γ” to be δ. Also, let us observe
that the image of δ by the composite
ρJ

⊗n0

χG

0
ΠJ −→ J −→ Aut(G0 ) −→
(ZΣ0 )∗ −→ (ZΣ0 /N ZΣ0 )∗

is trivial. Thus, assertion (iii) follows immediately from [CbTpI], Corollary 3.9, (ii), (v), (vi). This completes the proof of assertion (iii). Assertion (iv) is a formal consequence of assertion (iii). This completes
the proof of Lemma 4.19.


COMBINATORIAL ANABELIAN TOPICS II

167

References
[Asd] M. Asada, The faithfulness of the monodromy representations associated
with certain families of algebraic curves, J. Pure Appl. Algebra 159 (2001),
123-147.
[HT] H. Hamidi-Tehrani, Groups generated by positive multi-twists and the fake
lantern problem, Algebr. Geom. Topol. 2 (2002), 1155-1178.
[Hsh] Y. Hoshi, Absolute anabelian cuspidalizations of conﬁguration spaces of
proper hyperbolic curves over ﬁnite ﬁelds, Publ. Res. Inst. Math. Sci. 45
(2009), 661-744.
[NodNon] Y. Hoshi and S. Mochizuki, On the combinatorial anabelian geometry of
nodally nondegenerate outer representations, Hiroshima Math. J. 41 (2011),
275-342.
[CbTpI] Y. Hoshi and S. Mochizuki, Topics surrounding the combinatorial anabelian geometry of hyperbolic curves I: Inertia groups and proﬁnite Dehn
twists, Galois-Teichmüller Theory and Arithmetic Geometry, 659-811, Adv.
Stud. Pure Math., 63, Math. Soc. Japan, Tokyo, 2012.
[Ishi] A. Ishida, The structure of subgroup of mapping class groups generated by
two Dehn twists, Proc. Japan Acad. Ser. A Math. Sci. 72 (1996), 240-241.
[Lch] P. Lochak, Results and conjectures in proﬁnite Teichmüller theory, GaloisTeichmüller Theory and Arithmetic Geometry, 263-335, Adv. Stud. Pure
Math., 63, Math. Soc. Japan, Tokyo, 2012.
[LocAn] S. Mochizuki, The local pro-p anabelian geometry of curves, Invent. Math.
138 (1999), 319-423.
[ExtFam] S. Mochizuki, Extending families of curves over log regular schemes, J.
Reine Angew. Math. 511 (1999), 43-71.
[SemiAn] S. Mochizuki, Semi-graphs of anabelioids, Publ. Res. Inst. Math. Sci. 42
(2006), 221-322.
[CmbGC] S. Mochizuki, A combinatorial version of the Grothendieck conjecture,
Tohoku Math. J. 59 (2007), 455-479.
[AbsCsp] S. Mochizuki, Absolute anabelian cuspidalizations of proper hyperbolic
curves, J. Math. Kyoto Univ. 47 (2007), 451-539.
[AbsTpI] S. Mochizuki, Topics in Absolute Anabelian Geometry I: Generalities, J.
Math. Sci. Univ. Tokyo. 19 (2012), 139-242.
[CmbCsp] S. Mochizuki, On the Combinatorial Cuspidalization of Hyperbolic
Curves, Osaka J. Math. 47 (2010), 651-715.
[MzTa] S. Mochizuki and A. Tamagawa, The Algebraic and Anabelian Geometry
of Conﬁguration Spaces, Hokkaido Math. J. 37 (2008), 75-131.
[Mumf] D. Mumford, Abelian varieties, with appendices by C. P. Ramanujam and
Yuri Manin, corrected reprint of the second (1974) edition. Tata Institute of
Fundamental Research Studies in Mathematics, 5. Published for the Tata Institute of Fundamental Research, Bombay; by Hindustan Book Agency, New
Delhi, 2008.
[RZ] L. Ribes and P. Zalesskii, Proﬁnite groups, Second edition, Ergebnisse der
Mathematik und ihrer Grenzgebiete. 3. Folge. A Series of Modern Surveys in
Mathematics, 40. Springer-Verlag, Berlin, 2010.
[Wkb] Y. Wakabayashi, On the cuspidalization problem for hyperbolic curves over
ﬁnite ﬁelds, Kyoto J. Math. 56 (2016), 125-164.
[SGA1] Revêtements étales et groupe fondamental (SGA 1), Séminaire de
Géométrie Algébrique du Bois Marie 1960-1961, directed by A. Grothendieck,
with two papers by M. Raynaud, Documents Mathématiques (Paris), 3, Société
Mathématique de France, Paris, 2003.

