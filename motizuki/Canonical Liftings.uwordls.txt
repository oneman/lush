The
Absolute
Anabelian
Geometry
of
Canonical
Curves
Shinichi
Mochizuki
Abstract.
In
this
paper,
we
continue
our
study
of
the
issue
of
the
extent
to
which
a
hyperbolic
curve
over
a
ﬁnite
extension
of
the
ﬁeld
of
p-adic
numbers
is
determined
by
the
proﬁnite
group
structure
of
its
étale
fundamental
group.
Our
main
results
are
that:
(i)
the
theory
of
correspondences
of
the
curve
—
in
particular,
its
arithmeticity
—
is
completely
determined
by
its
fundamental
group;
(ii)
when
the
curve
is
a
canonical
lifting
in
the
sense
of
“p-adic
Teichmüller
theory”,
its
isomorphism
class
is
functorially
determined
by
its
fundamental
group.
Here,
(i)
is
a
consequence
of
a
“p-adic
version
of
the
Grothendieck
Conjecture
for
algebraic
curves”
proven
by
the
author,
while
(ii)
builds
on
a
previous
result
to
the
eﬀect
that
the
logarithmic
special
ﬁber
of
the
curve
is
functorially
determined
by
its
fundamental
group.
2000
Mathematics
Subject
Classiﬁcation:
14H25,
14H30
Keywords
and
Phrases:
hyperbolic
curve,
étale
fundamental
group,
anabelian,
correspondences,
Grothendieck
Conjecture,
canonical
lifting,
padic
Teichmüller
theory
Contents:
§1.
Serre-Tate
Canonical
Liftings
§2.
Arithmetic
Hyperbolic
Curves
§3.
Hyperbolically
Ordinary
Canonical
Liftings
Introduction
Let
XK
be
a
hyperbolic
curve
(cf.
§0
below)
over
a
ﬁeld
K
of
characteristic
0.
Denote
its
algebraic
fundamental
group
by
ΠXK
.
Thus,
we
have
a
natural
surjection
ΠXK

GK
Typeset
by
AMS-TEX
2
Shinichi
Mochizuki
of
ΠXK
onto
the
absolute
Galois
group
GK
of
K.
When
K
is
a
ﬁnite
extension
of
Q
or
Qp
,
and
one
holds
GK
ﬁxed,
then
it
is
known
(cf.
[Tama],
[Mzk6])
that
one
may
recover
the
curve
XK
in
a
functorial
fashion
from
ΠXK
.
This
sort
of
result
may
be
thought
of
as
a
“relative
result”
(i.e.,
over
GK
).
In
the
present
paper,
we
continue
our
study
—
begun
in
[Mzk7]
—
of
“absolute
analogues”
of
such
relative
results.
Since
such
absolute
analogues
are
well
understood
in
the
case
where
K
is
a
ﬁnite
extension
of
Q
(cf.
the
Introduction
to
[Mzk7]),
we
concentrate
on
the
p-adic
case.
In
the
p-adic
case,
it
is
proven
in
[Mzk7]
(cf.
[Mzk7],
Theorem
2.7)
—
by
applying
the
work
of
[Tama]
and
the
techniques
of
[Mzk5]—
that
(if
XK
has
stable
reduction,
then)
the
“logarithmic
special
ﬁber”
of
XK
—
i.e.,
the
special
ﬁber,
equipped
with
its
natural
“log
structure”
(cf.
[Kato]),
of
the
“stable
model”
of
XK
over
the
ring
of
integers
OK
—
may
be
recovered
solely
from
the
abstract
proﬁnite
group
ΠXK
.
This
result
prompts
the
question
(cf.
[Mzk7],
Remark
2.7.3):
What
other
information
—
e.g.,
the
isomorphism
class
of
XK
itself
—
can
be
recovered
from
the
proﬁnite
group
ΠXK
?
In
this
present
paper,
we
give
three
partial
answers
to
this
question
(cf.
[Mzk7],
Remark
2.7.3),
all
of
which
revolve
around
the
central
theme
that:
When
XK
is,
in
some
sense,
“canonical”,
there
is
a
tendency
for
substantial
information
concerning
XK
—
e.g.,
its
isomorphism
class
—
to
be
recoverable
from
ΠXK
.
Perhaps
this
“tendency”
should
not
be
surprising,
in
light
of
the
fact
that
in
some
sense,
a
“canonical”
curve
is
a
curve
which
is
“rigid”,
i.e.,
has
no
moduli,
hence
should
be
“determined”
by
its
special
ﬁber
(cf.
Remark
3.6.3).
Our
three
partial
answers
are
the
following:
(a)
The
property
that
the
Jacobian
of
the
XK
be
a
Serre-Tate
canonical
lifting
is
determined
by
ΠXK
(Proposition
1.1).
(b)
The
theory
of
correspondences
of
XK
—
in
particular,
whether
or
not
XK
is
“arithmetic”
(cf.
[Mzk3])
—
is
determined
by
ΠXK
(cf.
Theorem
2.4,
Corollary
2.5).
(c)
The
property
that
XK
be
a
canonical
lifting
in
the
sense
of
the
theory
of
[Mzk1]
(cf.
also
[Mzk2])
is
determined
by
ΠXK
;
moreover,
in
this
case,
the
isomorphism
class
of
XK
is
also
determined
by
ΠXK
(cf.
Theorem
3.6).
At
a
technical
level,
(a)
is
entirely
elementary;
(b)
is
a
formal
consequence
of
the
“p-adic
version
of
the
Grothendieck
Conjecture”
proven
in
[Mzk6],
Theorem
Canonical
Curves
3
A;
and
(c)
is
derived
as
a
consequence
of
the
theory
of
[Mzk1],
together
with
[Mzk7],
Theorem
2.7.
Finally,
as
a
consequence
of
(c),
we
conclude
(cf.
Corollary
3.8)
that
the
set
of
points
arising
from
curves
over
ﬁnite
extensions
of
Qp
whose
isomorphism
classes
are
completely
determined
by
ΠXK
forms
a
Zariski
dense
subset
of
the
moduli
stack
over
Qp
.
This
result
(cf.
Remark
3.6.2)
constitutes
the
ﬁrst
application
of
the
“p-adic
Teichmüller
theory”
of
[Mzk1],
[Mzk2],
to
prove
a
hitherto
unknown
result
that
can
be
stated
without
using
the
terminology,
concepts,
or
results
of
the
theory
of
[Mzk1],
[Mzk2].
Also,
it
shows
that
—
unlike
(a),
(b)
which
only
yield
“useful
information”
concerning
XK
in
“very
rare
cases”
—
(c)
may
be
applied
to
a
“much
larger
class
of
XK
”
(cf.
Remarks
1.1.1,
2.5.1,
3.6.1).
Acknowledgements:
I
would
like
to
thank
A.
Tamagawa
for
useful
comments
concerning
earlier
versions
of
this
manuscript.
4
Shinichi
Mochizuki
Section
0:
Notations
and
Conventions
We
will
denote
by
N
the
set
of
natural
numbers,
by
which
we
mean
the
set
of
integers
n
≥
0.
A
number
ﬁeld
is
deﬁned
to
be
a
ﬁnite
extension
of
the
ﬁeld
of
rational
numbers
Q.
Suppose
that
g
≥
0
is
an
integer.
Then
a
family
of
curves
of
genus
g
X→S
is
deﬁned
to
be
a
smooth,
proper,
geometrically
connected
morphism
X
→
S
whose
geometric
ﬁbers
are
curves
of
genus
g.
Suppose
that
g,
r
≥
0
are
integers
such
that
2g
−
2
+
r
>
0.
We
shall
denote
the
moduli
stack
of
r-pointed
stable
curves
of
genus
g
(where
we
assume
the
points
to
be
unordered)
by
Mg,r
(cf.
[DM],
[Knud]
for
an
exposition
of
the
theory
of
such
curves;
strictly
speaking,
[Knud]
treats
the
ﬁnite
étale
covering
of
Mg,r
determined
by
ordering
the
marked
points).
The
open
substack
Mg,r
⊆
Mg,r
of
smooth
curves
will
be
referred
to
as
the
moduli
stack
of
smooth
r-pointed
stable
curves
of
genus
g
or,
alternatively,
as
the
moduli
stack
of
hyperbolic
curves
of
type
(g,
r).
A
family
of
hyperbolic
curves
of
type
(g,
r)
X→S
is
deﬁned
to
be
a
morphism
which
factors
X
→
Y
→
S
as
the
composite
of
an
open
immersion
X
→
Y
onto
the
complement
Y
\D
of
a
relative
divisor
D
⊆
Y
which
is
ﬁnite
étale
over
S
of
relative
degree
r,
and
a
family
Y
→
S
of
curves
of
genus
g.
One
checks
easily
that,
if
S
is
normal,
then
the
pair
(Y,
D)
is
unique
up
to
canonical
isomorphism.
(Indeed,
when
S
is
the
spectrum
of
a
ﬁeld,
this
fact
is
well-known
from
the
elementary
theory
of
algebraic
curves.
Next,
we
consider
an
arbitrary
connected
normal
S
on
which
a
prime
l
is
invertible
(which,
by
Zariski
localization,
we
may
assume
without
loss
of
generality).
Denote
by
S

→
S
the
ﬁnite
étale
covering
parametrizing
orderings
of
the
marked
points
and
trivializations
of
the
l-torsion
points
of
the
Jacobian
of
Y
.
Note
that
S

→
S
is
independent
of
the
choice
of
(Y,
D),
since
(by
the
normality
of
S)
S

may
be
constructed
as
the
normalization
of
S
in
the
function
ﬁeld
of
S

(which
is
independent
of
the
choice
of
(Y,
D)
since
the
restriction
of
(Y,
D)
to
the
generic
point
of
S
has
already
been
shown
to
be
unique).
Thus,
the
uniqueness
of
(Y,
D)
follows
by
considering
the
classifying
morphism
(associated
to
(Y,
D))
from
S

to
the
ﬁnite
étale
covering
of
(Mg,r
)Z[
1l
]
parametrizing
orderings
of
the
marked
points
and
trivializations
of
the
l-torsion
points
of
the
Jacobian
[since
this
covering
is
well-known
to
be
a
scheme,
for
l
suﬃciently
large].)
We
shall
refer
to
Y
(respectively,
D;
D;
D)
as
the
compactiﬁcation
(respectively,
divisor
at
inﬁnity;
divisor
of
cusps;
divisor
of
marked
points)
of
X.
Canonical
Curves
5
A
family
of
hyperbolic
curves
X
→
S
is
deﬁned
to
be
a
morphism
X
→
S
such
that
the
restriction
of
this
morphism
to
each
connected
component
of
S
is
a
family
of
hyperbolic
curves
of
type
(g,
r)
for
some
integers
(g,
r)
as
above.
6
Shinichi
Mochizuki
Section
1:
Serre-Tate
Canonical
Liftings
In
this
§,
we
observe
(cf.
Proposition
1.1
below)
that
the
issue
of
whether
or
not
the
Jacobian
of
a
p-adic
hyperbolic
curve
is
a
Serre-Tate
canonical
lifting
is
completely
determined
by
the
abstract
proﬁnite
group
structure
of
its
arithmetic
proﬁnite
group.
Let
p
be
a
prime
number.
For
i
=
1,
2,
let
Ki
be
a
ﬁnite
extension
of
Qp
,
and
(Xi
)Ki
a
proper
hyperbolic
curve
over
Ki
whose
associated
stable
curve
has
stable
reduction
over
OKi
.
Denote
the
resulting
“stable
model”
of
(Xi
)Ki
over
OKi
by
(Xi
)OKi
.
Assume
that
we
have
chosen
basepoints
of
the
(Xi
)Ki
(which
thus
induce
basepoints
of
the
Ki
)
and
suppose
that
we
are
given
an
isomorphism
of
proﬁnite
∼
groups
Π(X1
)K1
→
Π(X2
)K2
,
which
(by
[Mzk7],
Lemmas
1.1.4,
1.1.5)
induces
a
commutative
diagram:
∼
Π(X1
)K1
⏐
⏐

→
G
K1
→
∼
Π(X2
)K2
⏐
⏐

G
K2
Proposition
1.1.
(Group-Theoreticity
of
Serre-Tate
Canonical
Liftings)
The
Jacobian
of
(X1
)K1
is
Serre-Tate
canonical
if
and
only
if
the
same
is
true
of
the
Jacobian
of
(X2
)K2
.
Proof.
Indeed,
this
follows
from
the
fact
that
the
Jacobian
of
(Xi
)Ki
is
a
Serre-Tate
canonical
lifting
if
and
only
if
its
p-adic
Tate
module
splits
(as
a
GKi
-module)
into
a
direct
sum
of
an
unramiﬁed
GKi
-module
and
the
Cartier
dual
of
an
unramiﬁed
GKi
-module
(cf.
[Mess],
Chapter
V:
proof
of
Theorem
3.3,
Theorem
2.3.6;
[Mess],
Appendix:
Corollary
2.3,
Proposition
2.5).

Remark
1.1.1.
As
is
shown
in
[DO]
(cf.
also
[OS]),
for
p
>
2,
g
≥
4,
the
Serre-Tate
canonical
lifting
of
the
Jacobian
of
a
general
proper
curve
of
genus
g
in
characteristic
p
is
not
a
Jacobian.
Thus,
in
some
sense,
one
expects
that:
There
are
not
so
many
curves
to
which
Proposition
1.1
may
be
applied.
From
another
point
of
view,
if
there
exist
inﬁnitely
many
Jacobians
of
a
given
genus
g
over
ﬁnite
extensions
of
Qp
which
are
Serre-Tate
canonical
liftings,
then
one
expects
—
cf.
the
“André-Oort
Conjecture”
([Edix],
Conjecture
1.3)
—
that
every
irreducible
component
of
the
Zariski
closure
of
the
resulting
set
of
points
in
the
moduli
stack
of
principally
polarized
abelian
varieties
should
be
a
Canonical
Curves
7
“subvariety
of
Hodge
type”.
Moreover,
one
expects
that
the
intersection
of
such
a
subvariety
with
the
Torelli
locus
(i.e.,
locus
of
Jacobians)
in
the
moduli
stack
of
principally
polarized
abelian
varieties
should
typically
be
“rather
small”.
Thus,
from
this
point
of
view
as
well,
one
expects
that
Proposition
1.1
should
not
be
applicable
to
the
“overwhelming
majority”
of
curves
of
genus
g
≥
2.
8
Shinichi
Mochizuki
Section
2:
Arithmetic
Hyperbolic
Curves
In
this
§,
we
show
(cf.
Theorem
2.4
below)
that
the
theory
of
correspondences
(cf.
[Mzk3])
of
a
p-adic
hyperbolic
curve
is
completely
determined
by
the
abstract
proﬁnite
group
structure
of
its
arithmetic
proﬁnite
group.
We
begin
by
reviewing
and
extending
the
theory
of
[Mzk3],
as
it
will
be
needed
in
the
discussion
of
the
present
§.
Let
X
be
a
normal
connected
algebraic
stack
which
is
generically
“schemelike”
(i.e.,
admits
an
open
dense
algebraic
substack
isomorphic
to
a
scheme).
Then
we
shall
denote
by
Loc(X)
the
category
whose
objects
are
(necessarily
generically
scheme-like)
algebraic
stacks
Y
that
admit
a
ﬁnite
étale
morphism
to
X,
and
whose
morphisms
are
ﬁnite
étale
morphisms
of
stacks
Y1
→
Y2
(that
do
not
necessarily
lie
over
X!).
Note
that
since
these
stacks
are
generically
scheme-like,
it
makes
sense
to
speak
of
the
(1-)category
of
such
objects
(so
long
as
our
morphisms
are
ﬁnite
étale),
i.e.,
there
is
no
need
to
work
with
2-categories.
Given
an
object
Y
of
Loc(X),
let
us
denote
by
Loc(X)Y
the
category
whose
objects
are
morphisms
Z
→
Y
in
Loc(X),
and
whose
morphisms,
from
an
object
Z1
→
Y
to
an
object
Z2
→
Y
,
are
the
morphisms
Z1
→
Z2
over
Y
in
Loc(X).
Thus,
by
considering
maximal
nontrivial
decompositions
of
the
terminal
object
of
Loc(X)Y
into
a
coproduct
of
nonempty
objects
of
Loc(X)Y
,
we
conclude
that
the
set
of
connected
components
of
Y
may
be
recovered
—
functorially!
—
from
the
category
structure
of
Loc(Y
).
Finally,
let
us
observe
that
Loc(X)Y
may
be
identiﬁed
with
the
category
Ét(Y
)
of
ﬁnite
étale
coverings
of
Y
(and
Y
-morphisms).
We
would
also
like
to
consider
the
category
Loc(X)
whose
objects
are
generically
scheme-like
algebraic
stacks
which
arise
as
ﬁnite
étale
quotients
(in
the
sense
of
stacks!)
of
objects
in
Loc(X),
and
whose
morphisms
are
ﬁnite
étale
morphisms
of
algebraic
stacks.
Note
that
Loc(X)
may
Canonical
Curves
9
be
constructed
entirely
category-theoretically
from
Loc(X)
by
considering
the
“category
of
objects
of
Loc(X)
equipped
with
a
(ﬁnite
étale)
equivalence
relation”.
(We
leave
it
to
the
reader
to
write
out
the
routine
details.)
Deﬁnition
2.1.
(i)
X
will
be
called
arithmetic
if
Loc(X)
does
not
admit
a
terminal
object.
(ii)
X
will
be
called
a(n)
(absolute)
core
if
X
is
a
terminal
object
in
Loc(X).
(ii)
X
will
be
said
to
admit
a(n)
(absolute)
core
if
there
exists
a
terminal
object
Z
in
Loc(X).
In
this
case,
Loc(X)
=
Loc(Z),
so
we
shall
say
that
Z
is
a
core.
Remark
2.1.1.
Let
k
be
a
ﬁeld.
If
X
is
a
geometrically
normal,
geometrically
connected
algebraic
stack
of
ﬁnite
type
over
k,
then
we
shall
write
Lock
(X);
Lock
(X)
for
the
categories
obtained
as
above,
except
that
we
assume
all
the
morphisms
to
be
k-morphisms.
Also,
we
shall
say
that
X
is
k-arithmetic,
or
arithmetic
over
k
(respectively,
a
k-core,
or
core
over
k),
if
Lock
(X)
does
not
admit
a
terminal
object
(respectively,
X
is
a
terminal
object
in
Lock
(X)).
On
the
other
hand,
when
k
is
ﬁxed,
and
the
entire
discussion
“takes
place
over
k”,
then
we
shall
often
omit
the
“k-”
from
this
terminology.
Remark
2.1.2.
Thus,
when
k
=
C,
a
hyperbolic
curve
X
is
k-arithmetic
if
and
only
if
it
is
arithmetic
in
the
sense
of
[Mzk3],
§2.
(Indeed,
if
X
is
non-arithmetic
in
the
sense
of
[Mzk3],
§2,
then
a
terminal
object
in
Lock
(X)
—
i.e.,
a
“(hyperbolic)
core”
—
is
constructed
in
[Mzk3],
§3,
so
X
is
non-karithmetic.
Conversely,
if
X
is
arithmetic
in
the
sense
of
[Mzk3],
§2,
then
(cf.
[Mzk3],
Deﬁnition
2.1,
Theorem
2.5)
it
corresponds
to
a
fuchsian
group
Γ
⊆
SL2
(R)/{±1}
which
has
inﬁnite
index
in
its
commensurator
CSL2(R)/{±1}
(Γ)
—
a
fact
which
precludes
the
existence
of
a
k-core.)
Moreover,
issues
over
an
arbitrary
algebraically
closed
k
of
characteristic
zero
may
always
be
resolved
over
C,
by
Proposition
2.3,
(ii),
below.
Remark
2.1.3.
If
we
arbitrarily
choose
a
ﬁnite
étale
structure
morphism
to
X
for
every
object
of
Loc(X),
then
one
veriﬁes
easily
that
every
morphism
of
Loc(X)
factors
as
the
composite
of
an
isomorphism
(not
necessarily
over
X!)
with
a
(ﬁnite
étale)
morphism
over
X
(i.e.,
relative
to
these
arbtirary
choices).
A
similar
statement
holds
for
Lock
(X).
Shinichi
Mochizuki
10
Deﬁnition
2.2.
Let
X
be
a
smooth,
geometrically
connected,
generically
scheme-like
algebraic
stack
of
ﬁnite
type
over
a
ﬁeld
k
of
characteristic
zero.
(i)
We
shall
say
that
X
is
an
orbicurve
if
it
is
of
dimension
1.
(ii)
We
shall
say
that
X
is
a
hyperbolic
orbicurve
if
it
is
an
orbicurve
which
admits
a
compactiﬁcation
X
→
X
(necessarily
unique!)
by
a
proper
orbicurve
X
over
k
such
that
if
we
denote
the
reduced
divisor
X\X
by
D
⊆
X,
then
X
is
scheme-like
near
D,
and,
moreover,
the
line
bundle
ωX
/k
(D)
on
X
has
positive
degree.
Proposition
2.3.
(Independence
of
the
Base
Field)
(i)
Let
k
sep
be
a
separable
closure
of
k;
X
a
geometrically
normal,
geometrically
connected
algebraic
stack
of
ﬁnite
type
over
k.
Then
X
is
a
k-core
def
(respectively,
k-arithmetic)
if
and
only
if
Xk
sep
=
X
×k
k
sep
is
a
k
sep
-core
(respectively,
k
sep
-arithmetic).
Moreover,
if
Xk
sep
admits
a
ﬁnite
étale
morphism
Xk
sep
→
Zk
sep
to
a
k
sep
-core
Zk
sep
,
then
Zk
sep
descends
uniquely
to
a
k-core
Z
of
X.
(ii)
Suppose
that
k
is
algebraically
closed
of
characteristic
0,
and
that
X
is
a
hyperbolic
orbicurve.
Next,
let
k

be
an
algebraically
closed
ﬁeld
containing
k.
Then
the
natural
functors
Lock
(X)
→
Lock

(X
⊗k
k

);
Lock
(X)
→
Lock

(X
⊗k
k

)
(given
by
tensoring
over
k
with
k

)
are
equivalences
of
categories.
In
particular,
X
is
a
k-core
(respectively,
k-arithmetic)
if
and
only
if
X
⊗k
k

is
a
k

-core
(respectively,
k

-arithmetic).
Proof.
First,
we
observe
that
(i)
is
a
formal
consequence
of
the
deﬁnitions.
As
for
(ii),
let
us
observe
ﬁrst
that
it
suﬃces
to
verify
the
asserted
equivalences
of
categories.
These
equivalences,
in
turn,
are
formal
consequences
of
the
following
two
assertions
(cf.
Remark
2.1.3):
(a)
The
natural
functor
Ét(X)
→
Ét(X
⊗k
k

)
is
an
equivalence
of
categories.
(b)
If
Y1
,
Y2
are
ﬁnite
étale
over
X,
then
Isomk
(Y1
,
Y2
)
→
Isomk

(Y1
⊗k
k

,
Y2
⊗k
k

)
is
bijective.
The
proofs
of
these
two
assertions
is
an
exercise
in
elementary
algebraic
geometry,
involving
the
following
well-known
techniques:
Canonical
Curves
11
(1)
descending
the
necessary
diagrams
of
ﬁnite
étale
morphisms
over
k

to
a
subﬁeld
K
⊆
k

which
is
ﬁnitely
generated
over
k;
(2)
extending
orbicurves
over
K
to
orbicurves
over
some
k-variety
V
with
function
ﬁeld
K;
(3)
specializing
orbicurves
over
V
to
closed
(i.e.,
k-valued)
points
v
of
V
;
(4)
base-changing
orbicurves
over
V
to
formal
completions
Vv
of
V
at
closed
points
v;
(5)
deforming
(log)
étale
morphisms
of
orbicurves
over
v
to
morphisms
over
the
completions
Vv
;
(6)
algebrizing
such
deformed
morphisms
(when
the
orbicurves
involved
are
proper).
This
“elementary
exercise”
is
carried
out
(for
assertion
(a)
above)
in
the
case
when
X
itself
is
proper
in
[SGA1],
Exposé
X,
Theorem
3.8.
When
X
is
an
arbitrary
orbicurve
as
in
the
statement
of
(ii),
the
same
arguments
—
centering
around
the
rigidity
of
(log)
étale
morphisms
under
inﬁnitesimal
deformations
—
may
be
used,
by
considering
compactiﬁcations
(X,
D)
of
X
as
in
Deﬁnition
2.2,
(ii),
and
replacing
“étale”
by
“étale
away
from
D”.
Note
that
we
use
the
assumption
that
k
is
of
characteristic
zero
here
to
ensure
that
all
ramiﬁcation
is
tame.
Finally,
assertion
(b)
may
be
deduced
by
similar
arguments
—
by
applying,
in
(5)
above,
the
fact
(cf.
Deﬁnition
2.2,
(ii))
that,
if
Y
→
X
is
any
ﬁnite
morphism
of
orbicurves
over
k,
then
∨
(−D)|Y
)
=
0
H
0
(Y
,
ωX/k
(where
“∨”
denotes
the
OX
-dual)
in
place
of
the
rigidity
of
(log)
étale
morphisms
used
to
prove
assertion
(a).

Next,
for
i
=
1,
2,
let
Ki
be
a
ﬁnite
extension
of
Qp
(where
p
is
a
prime
number);
let
(Xi
)Ki
be
a
hyperbolic
curve
over
Ki
.
Assume
that
we
have
chosen
basepoints
of
the
(Xi
)Ki
,
which
thus
induce
basepoints/algebraic
closures
K
i
def
of
the
Ki
and
determine
fundamental
groups
Π(Xi
)Ki
=
π1
((Xi
)Ki
)
and
Galois
def
groups
GKi
=
Gal(K
i
/Ki
).
Thus,
for
i
=
1,
2,
we
have
an
exact
sequence:
1
→
ΔXi
→
Π(Xi
)Ki
→
GKi
→
1
(where
ΔXi
⊆
Π(Xi
)Ki
is
deﬁned
so
as
to
make
the
sequence
exact).
Here,
we
shall
think
of
GKi
as
a
quotient
of
Π(Xi
)Ki
(i.e.,
not
as
an
independent
group
Shinichi
Mochizuki
12
to
which
Π(Xi
)Ki
happens
to
surject).
By
[Mzk7],
Lemmas
1.1.4,
1.1.5,
this
quotient
is
characteristic,
i.e.,
it
is
completely
determined
by
the
structure
of
Π(Xi
)Ki
as
a
proﬁnite
group.
Theorem
2.4.
(Group-Theoreticity
of
Correspondences)
Any
iso∼
morphism
α
:
Π(X1
)K1
→
Π(X2
)K2
induces
equivalences
of
categories:
∼
∼
LocK
1
((X1
)K
1
)
→
LocK
2
((X2
)K
2
);
LocK
1
((X1
)K
1
)
→
LocK2
((X2
)K
2
)
in
a
fashion
that
is
functorial
in
α.
Proof.
Since
LocK
i
((Xi
)K
i
)
may
be
reconstructed
“category-theoretically”
from
LocK
i
((Xi
)K
i
)
(cf.
the
discussion
at
the
beginning
of
the
present
§),
in
order
to
prove
Theorem
2.4,
it
thus
suﬃces
to
show
that
the
isomorphism
α
induces
an
equivalence
between
the
categories
LocK
i
((Xi
)K
i
).
Clearly,
the
class
of
objects
of
LocK
i
((Xi
)K
i
)
may
be
reconstructed
as
the
class
of
objects
of
the
category
of
ﬁnite
sets
with
continuous
ΔXi
-action.
To
reconstruct
the
morphisms,
it
suﬃces
(cf.
Remark
2.1.3)
to
show
that
given
any
two
open
subgroups
H1
,
J1
⊆
Π(X1
)K1
—
which
we
may
assume,
without
loss
of
generality,
to
surject
onto
GK1
—
and
an
isomorphism
∼
H1
→
J1
that
arises
“K1
-geometrically”
(i.e.,
from
a
K1
-scheme-theoretic
isomorphism
between
the
curves
corresponding
to
H1
,
J1
),
it
is
necessarily
the
case
that
the
corresponding
isomorphism
∼
H2
→
J2
between
open
subgroups
H2
,
J2
⊆
Π(X2
)K2
arises
K2
-geometrically.
But
this
follows
formally
from
the
“p-adic
version
of
the
Grothendieck
∼
Conjecture”
proven
in
[Mzk6],
Theorem
A:
Indeed,
H1
→
J1
necessarily
lies
∼
∼
over
an
inner
automorphism
γ1
:
GK1
→
GK1
.
In
particular,
H2
→
J2
lies
∼
over
an
isomorphism
γ2
:
GK2
→
GK2
,
which
is
obtained
by
conjugating
γ1
by
some
ﬁxed
isomorphism
(not
necessarily
geometric!)
arising
from
α
between
∼
the
characteristic
quotients
GK1
→
GK2
.
Since
the
property
of
“being
an
inner
automorphism”
is
manifestly
intrinsic,
we
thus
conclude
that
γ2
is
also
an
inner
automorphism.
This
allows
us
to
apply
[Mzk6],
Theorem
A,
which
implies
that
∼
H2
→
J2
arises
K2
-geometrically,
as
desired.

Corollary
2.5.
(Consequences
for
Cores
and
Arithmeticity)
Let
∼
α
:
Π(X1
)K1
→
Π(X2
)K2
Canonical
Curves
13
be
an
isomorphism.
Then:
(i)
(X1
)K
1
is
K
1
-arithmetic
(respectively,
a
K
1
-core)
if
and
only
if
(X2
)K
2
is
K
2
-arithmetic
(respectively,
a
K
2
-core).
(ii)
Suppose
that,
for
i
=
1,
2,
we
are
given
a
ﬁnite
étale
morphism
(Xi
)Ki
→
(Zi
)Ki
to
a
Ki
-core
(Zi
)Ki
.
Then
the
isomorphism
α
extends
∼
uniquely
to
an
isomorphism
Π(Z1
)K1
→
Π(Z2
)K2
.
Proof.
Assertion
(i)
is
a
formal
consequence
of
Theorem
2.4
and
Deﬁnition
2.1
(cf.
also
Remark
2.1.1).
In
light
of
Proposition
2.3,
(i),
assertion
(ii)
is
a
formal
consequence
of
Theorem
2.4,
at
least
over
some
corresponding
ﬁnite
Galois
∼
extensions
K1
,
K2
of
K1
,
K2
.
That
the
resulting
extension
Π(Z1
)K

→
Π(Z2
)K

1
2
of
α
is
unique
is
a
formal
consequence
of
the
fact
that
every
open
subgroup
of
Π(Xi
)Ki
has
trivial
centralizer
in
Π(Zi
)Ki
(cf.
[Mzk7],
Lemma
1.3.1,
Corollary
1.3.3).
Moreover,
it
follows
formally
from
this
triviality
of
centralizers
that,
by
choosing
corresponding
normal
open
subgroups
Hi
⊆
Π(Zi
)Ki
such
that
Hi
⊆
ΠXK

,
we
may
think
of
Π(Zi
)Ki
(and
its
various
open
subgroups)
as
i
subgroups
of
Aut(Hi
),
in
a
fashion
which
is
compatible
with
α
and
its
various
(unique)
extensions.
Thus,
since
Π(Zi
)Ki
is
generated
by
Π(Zi
)K

and
Π(Xi
)Ki
,
i
∼
we
conclude
that
this
extension
Π(Zi
)K

→
Π(Zi)K

over
the
Ki
descends
to
∼
1
some
Π(Z1
)K1
→
Π(Z2
)K2
,
as
desired.

2
Remark
2.5.1.
Recall
from
the
theory
of
[Mzk3]
(cf.
Remark
2.1.2;
Proposition
2.3,
(ii),
of
the
discussion
above)
that
(Xi
)K
i
is
arithmetic
if
and
only
if
it
admits
a
ﬁnite
étale
cover
which
is
a
ﬁnite
étale
cover
of
a
Shimura
curve,
i.e.,
(equivalently)
if
there
exists
a
Shimura
curve
in
LocKi
((Xi
)K
i
).
As
is
discussed
in
[Mzk3],
Theorem
2.6,
a
theorem
of
Takeuchi
states
that
for
a
given
(g,
r),
there
are
only
ﬁnitely
many
isomorphism
classes
of
hyperbolic
curves
of
type
(g,
r)
(over
a
given
algebraically
closed
ﬁeld
of
characteristic
zero)
which
are
arithmetic.
Moreover,
a
general
hyperbolic
curve
of
type
(g,
r)
is
not
only
non-arithmetic;
it
is,
in
fact,
equal
to
its
own
hyperbolic
core
(cf.
[Mzk3],
Theorem
5.3).
Thus,
for
general
curves
of
a
given
type
(g,
r),
the
structure
of
the
category
Loc((Xi
)K
i
)
is
not
suﬃcient
to
determine
the
isomorphism
class
of
the
curve.
It
is
not
clear
to
the
author
at
the
time
of
writing
whether
or
not,
in
the
case
when
(Xi
)Ki
is
arithmetic,
the
structure
of
the
category
Loc((Xi
)K
i
)
is
suﬃcient
to
determine
the
isomorphism
class
of
(Xi
)Ki
.
At
any
rate,
just
as
was
the
case
with
Proposition
1.1
(cf.
Remark
1.1.1),
Theorem
2.4
does
not
allow
one
to
recover
the
isomorphism
class
of
(Xi
)Ki
for
“most”
(Xi
)Ki
—
where
here
we
take
“most”
to
mean
that
(at
least
for
(g,
r)
suﬃciently
large)
the
set
of
points
determined
by
the
curves
for
which
it
is
possible
to
recover
the
isomorphism
class
of
(Xi
)Ki
from
the
proﬁnite
group
(Xi
)Ki
via
the
method
14
Shinichi
Mochizuki
in
question
fails
to
be
Zariski
dense
in
the
moduli
stack
of
hyperbolic
curves
of
type
(g,
r)
(cf.
Corollary
3.8
below).
Finally,
to
give
the
reader
a
feel
for
the
abstract
theory
—
and,
in
particular,
the
state
of
aﬀairs
discussed
in
Remark
2.5.1
above
—
we
consider
the
case
of
punctured
hemi-elliptic
orbicurves,
in
which
the
situation
is
understood
somewhat
explicitly:
Deﬁnition
2.6.
Let
X
be
an
orbicurve
(cf.
Deﬁnition
2.2,
(i))
over
a
ﬁeld
of
characteristic
zero
k.
(i)
We
shall
say
that
X
is
a
hemi-elliptic
orbicurve
if
it
is
obtained
by
forming
the
quotient
—
in
the
sense
of
stacks
—
of
an
elliptic
curve
by
the
action
of
±1.
(ii)
We
shall
say
that
X
is
a
punctured
hemi-elliptic
orbicurve
if
it
is
obtained
by
forming
the
quotient
—
in
the
sense
of
stacks
—
of
a
once-punctured
elliptic
curve
(i.e.,
the
open
subscheme
given
by
the
complement
of
the
origin
in
an
elliptic
curve)
by
the
action
of
±1.
Proposition
2.7.
(Punctured
Hemi-Elliptic
Cores)
Let
k
be
an
algebraically
closed
ﬁeld
of
characteristic
0;
let
X
be
a
punctured
hemi-elliptic
orbicurve
over
k.
Then
if
X
is
non-k-arithmetic,
then
X
is
a
k-core.
In
particular,
if
X
admits
nontrivial
automorphisms
(over
k),
then
X
is
k-arithmetic.
Finally,
there
exist
precisely
4
isomorphism
classes
of
k-arithmetic
X,
which
are
described
explicitly
in
[Take2],
Theorem
4.1,
(i).
Proof.
In
the
following
discussion,
we
omit
the
“k-”.
Suppose
that
X
is
non-arithmetic.
Write
Y
→X
for
the
unique
double
(étale)
covering
by
a
punctured
elliptic
curve
Y
,
and
Y
→Z
for
the
unique
morphism
to
the
core
(i.e.,
the
terminal
object
in
Lock
(X)
=
Lock
(Y
)).
Thus,
the
induced
morphism
Y
=Y
crs
→Z
crs
on
the
“coarse
moduli
spaces”
(cf.
[FC],
Chapter
I,
Theorem
4.10)
associated
to
the
canonical
compactiﬁcations
Y
,
Z
of
the
orbicurves
Y
,
Z
is
a
ﬁnite
ramiﬁed
Canonical
Curves
15
covering
morphism
—
whose
degree
we
denote
by
d
—
from
an
elliptic
curve
crs
Y
to
a
copy
of
P1k
∼
=
Z
.
Note
that
since
Y
has
only
one
“cusp”
y∞
(i.e.
point
∈
Y
\Y
),
and
a
point
of
Y
is
a
cusp
if
and
only
if
its
image
is
a
cusp
in
Z,
it
follows
that
Z
also
has
a
unique
cusp
z∞
,
and
that
y∞
is
the
unique
crs
arises
from
a
ﬁnite
point
of
Y
lying
over
z∞
.
Moreover,
because
Y
→
Z
crs
étale
morphism
Y
→
Z,
it
follows
that
the
ramiﬁcation
index
of
Y
→
Z
is
crs
the
same
at
all
points
of
Y
lying
over
a
given
point
of
Z
.
Thus,
applying
the
Riemann-Hurwitz
formula
yields:
0
=
−2d
+

d
(ei
−
1)
ei
i
crs
where
the
ei
are
the
ramiﬁcation
indices
over
the
points

of
Z
at
which
the
covering
morphism
ramiﬁes.
Thus,
we
conclude
that
2
=
i
e1i
(ei
−
1).
Since
all
of
the
ei
are
integers,
one
veriﬁes
immediately
that
the
only
possibilities
for
the
set
of
ei
’s
are
the
following:
(2,
2,
2,
2);
(2,
3,
6);
(2,
4,
4);
(3,
3,
3)
Note
that
it
follows
from
the
fact
that
y∞
is
the
unique
point
of
Y
lying
over
z∞
that
d,
as
well
as
the
ramiﬁcation
index
at
z∞
,
is
necessarily
equal
to
the
largest
ei
.
In
the
case
of
(2,
2,
2,
2),
we
thus
conclude
that
X
=
Z,
so
X
is
a
core,
as
asserted.
In
the
other
three
cases,
we
conclude
that
Y
is
a
ﬁnite
étale
covering
of
the
orbicurve
determined
by
a
“triangle
group”
(cf.
[Take1])
of
one
of
the
following
types:
(2,
3,
∞);
(2,
4,
∞);
(3,
3,
∞)
By
[Take1],
Theorem
3,
(ii),
such
a
triangle
group
is
arithmetic,
so
X
itself
is
arithmetic,
thus
contradicting
our
hypotheses.
This
completes
the
proof
of
the
ﬁrst
assertion
of
Proposition
2.7.
The
second
(respectively,
third)
assertion
of
Proposition
2.7
is
a
formal
consequence
of
the
ﬁrst
assertion
of
Proposition
2.7
(respectively,
[Take2],
Theorem
4.1,
(i)).

Shinichi
Mochizuki
16
Section
3:
Hyperbolically
Ordinary
Canonical
Liftings
In
this
§,
we
would
like
to
work
over
a
ﬁnite,
unramiﬁed
extension
K
of
Qp
,
where
p
is
a
prime
number
≥
5.
We
denote
the
ring
of
integers
(respectively,
residue
ﬁeld)
of
K
by
A
(respectively,
k).
Since
A
∼
=
W
(k)
(the
ring
of
Witt
vectors
with
coeﬃcients
in
k),
we
have
a
natural
Frobenius
morphism
ΦA
:
A
→
A
which
lifts
the
Frobenius
morphism
Φk
:
k
→
k
on
k.
In
the
following
discussion,
the
result
of
base-changing
over
A
(respectively,
A;
A;
Zp
)
with
k
(respectively,
K;
with
A,
via
ΦA
;
Z/pn
Z,
for
an
integer
n
≥
1)
will
be
denoted
by
a
subscript
k
(respectively,
subscript
K;
superscript
F
;
subscript
Z/pn
Z).
Let
def
(X
→
S
=
Spec(A),
D
⊆
X)
be
a
smooth,
pointed
curve
of
type
(g,
r)
(for
which
D
is
the
divisor
of
marked
points),
where
2g
−2+r
>
0
—
cf.
§0.
In
the
following
discussion,
we
would
like
to
consider
the
extent
to
which
(X,
D)
is
a
canonical
lifting
of
(Xk
,
Dk
),
in
the
sense
of
[Mzk1],
Chapter
III,
§3;
Chapter
IV.
We
refer
also
to
the
Introduction
of
[Mzk2]
for
a
survey
of
“p-adic
Teichmüller
theory”
(including
the
theory
of
[Mzk1]).
Lemma
3.1.
(Canonicality
Modulo
p2
)
Suppose
that
YK
→
XK
is
a
ﬁnite
ramiﬁed
morphism
of
smooth,
proper,
geometrically
connected
curves
over
K
which
is
unramiﬁed
away
from
DK
.
Denote
the
reduced
induced
subscheme
associated
to
the
inverse
image
in
YK
of
DK
by
EK
⊆
YK
.
Suppose
further
that
the
reduction
Yk
→
Xk
modulo
p
of
the
normalization
Y
→
X
of
X
in
YK
has
the
following
form:
(i)
Yk
is
reduced;
(ii)
Yk
is
smooth
over
k,
except
for
a
total
of
precisely
12
(p
−
1)(2g
−
2
+
r)
(≥
2)
nodes.
Moreover,
the
“order”
of
the
deformation
of
each
node
determined
by
Y
is
equal
to
1
(equivalently:
Y
is
regular
at
the
nodes),
and
the
special
ﬁber
Ek
⊆
Yk
of
the
closure
E
⊆
Y
of
EK
in
Y
is
a
reduced
divisor
(equivalently:
a
divisor
which
is
étale
over
k)
at
which
Yk
is
smooth.
Canonical
Curves
17
(iii)
Yk
has
precisely
two
irreducible
components
CV
,
CF
.
Here,
the
morphism
CV
→
Xk
(respectively,
CF
→
Xk
)
is
an
isomorphism
(respectively,
k-isomorphic
to
the
relative
Frobenius
morphism
ΦXk
/k
:
XkF
→
Xk
of
Xk
).
(iv)
(Xk
,
Dk
)
admits
a
nilpotent
ordinary
indigenous
bundle
(cf.
[Mzk1],
Chapter
II,
Deﬁnitions
2.4,
3.1)
whose
supersingular
divisor
(cf.
[Mzk1],
Chapter
II,
Proposition
2.6,
(3))
is
equal
to
the
image
of
the
nodes
of
Yk
in
Xk
.
Then
(X,
D)
is
isomorphic
modulo
p2
to
the
canonical
lifting
(cf.
[Mzk1],
Chapter
III,
§3;
Chapter
IV)
determined
by
the
nilpotent
indigenous
bundle
of
(iv).
Remark
3.1.1.
In
the
context
of
Lemma
3.1,
we
shall
refer
to
the
points
of
Xk
which
are
the
image
of
nodes
of
Yk
as
supersingular
points
and
to
points
which
are
not
supersingular
as
ordinary.
Moreover,
the
open
subscheme
of
ordinary
points
will
be
denoted
by
Xkord
⊆
Xk

(the
p-adic
compleand
the
corresponding
p-adic
formal
open
subscheme
of
X
ord

tion
of
X)
by
X
.
Also,
we
shall
consider
X
(respectively,
Y
)
to
be
equipped
with
the
log
structure
(cf.
[Kato]
for
an
introduction
to
the
theory
of
log
structures)
determined
by
the
monoid
of
regular
functions
invertible
on
XK
\DK
(respectively,
YK
\EK
)
and
denote
the
resulting
log
scheme
by
X
log
(respectively,
Y
log
).
Thus,
the
morphism
of
schemes
Y
→
X
extends
uniquely
to
a
morphism
of
log
schemes
Y
log
→
X
log
.
Proof.
First,
let
us
observe
that
F
∼
(Y
log
)ord
=
{(X
log
)ord
k
k
}

(X
log
)ord
k
where
the
isomorphism
is
the
unique
isomorphism
lying
over
Xklog
.
Since
(X
log
)ord
,
(Y
log
)ord
are
log
smooth
over
A,
it
follows
that
the
inclusion
F
log
ord
{(X
log
)ord
)k
lifts
to
a
(not
necessarily
unique!)
inclusion
k
}
→
(Y
F
log
ord
)Z/p2
Z
{(X
log
)ord
Z/p2
Z
}
→
(Y
whose
composite
F
log
ord
)Z/p2
Z
Ψlog
:
{(X
log
)ord
Z/p2
Z
}
→
(X
Shinichi
Mochizuki
18
log
ord
with
the
natural
morphism
(Y
log
)ord
)Z/p2
Z
is
nevertheless
indepenZ/p2
Z
→
(X
dent
of
the
choice
of
lifting
of
the
inclusion.
Indeed,
this
is
formal
consequence
(cf.,
of
the
fact
that
Ψlog
is
a
lifting
of
the
Frobenius
morphism
on
(X
log
)ord
k
e.g.,
the
discussion
of
[Mzk1],
Chapter
II,
the
discussion
preceding
Proposition
1.2,
as
well
as
Remark
3.1.2
below).
Of
course,
Ψlog
might
not
be
regular
at
the
supersingular
points,
but
we
may
estimate
the
order
of
the
poles
of
Ψlog
at
the
supersingular
points
as
follows:
Since
Y
is
assumed
to
be
regular,
it
follows
that
the
completion
of
YZ/p2
Z
at
a
supersingular
point
ν
is
given
by
the
formal
spectrum
Spf
of
a
complete
local
ring
isomorphic
to:
def
RY
=
(A/p2
·
A)[[s,
t]]/(st
−
p)
(where
s,
t
are
indeterminates).
Thus,
modulo
p,
this
completion
is
a
node,
with
the
property
that
precisely
one
branch
—
i.e.,
irreducible
component
—
of
this
node
lies
on
CF
(respectively,
CV
).
(Indeed,
this
follows
from
the
fact
that
both
CF
and
CV
are
smooth
over
k.)
Suppose
that
the
irreducible
component
lying
on
CF
is
deﬁned
locally
(modulo
p)
by
the
equation
t
=
0.
Thus,
the
ring
of
regular
functions
on
the
ordinary
locus
of
CF
restricted
to
this
formal
neighborhood
of
a
supersingular
point
is
given
by
k[[s]][s
−1].
The
connected
component
of
(Y
log
)ord
Z/p2
Z
determined
by
CF
may
be
thought
of
as
the
open
subscheme
“s
=
0”.
Here,
we
recall
that
the
parameter
s
in
this
discussion
is
uniquely
determined
up
to
multiplication
by
an
element
of
R×
Y
—
cf.
[Mzk4],
§3.7.
Next,
let
us
write:
RX
=
Im(RY
)
⊆
RY
[s−1
]
def
for
the
image
of
RY
in
RY
[s−1
].
Then
since
t
=
s−1
·
p
∈
RY
[s−1
]
=
(A/p2
·
A)[[s]][s−1
]
it
follows
that
RX
=
(A/p2
·
A)[[s]][s−1
·
p].
In
particular,
if
we
think
of
RX
=
(A/p2
·
A)[[s]]
⊆
RX
def
—
so
RX
[s−1
]
=
RX
[s−1
]
=
RY
[s−1
]
—
as
a
local
smooth
lifting
of
CF
at
ν,
we
thus
conclude
that
arbitrary
regular
functions
on
Spf(RY
)
restrict
to
meromorphic
functions
on
Spf(RX
)
with
poles
of
order
≤
1
at
ν.
Thus,
since
Ψlog
arises
from
an
everywhere
regular
morphism
Y
log
→
X
log
,
we
conclude
that:
Canonical
Curves
19
Ψlog
has
poles
of
order
≤
1
at
the
supersingular
points.
But
then
the
conclusion
of
Lemma
3.1
follows
formally
from
[Mzk1],
Chapter
II,
Proposition
2.6,
(4);
Chapter
IV,
Propositions
4.8,
4.10,
Corollary
4.9.

Remark
3.1.2.
The
fact
—
cf.
the
end
of
the
ﬁrst
paragraph
of
the
proof
of
Lemma
3.1
—
that
the
order
of
a
pole
of
a
Frobenius
lifting
is
independent
of
the
choice
of
smooth
lifting
of
the
domain
of
the
Frobenius
lifting
may
be
understood
more
explicitly
in
terms
of
the
coordinates
used
in
the
latter
portion
of
the
proof
of
Lemma
3.1
as
follows:
Any
“coordinate
transformation”
s
→
s
+
p
·
g(s)
(where
g(s)
∈
k[[s]][s
−1])
ﬁxes
—
since
we
are
working
modulo
p2
—
functions
of
the
form
sp
+
p
·
f(s)
(where
f(s)
∈
k[[s]][s
−1]).
This
shows
that
the
order
of
the
pole
of
f(s)
does
not
depend
on
the
choice
of
parameter
s.
In
the
situation
of
Lemma
3.1,
let
us
denote
the
natural
morphism
of

log
)ord
→
X
log
)
by
fundamental
groups
(induced
by
(X
def
def
log

log
)ord
Π(X
log
)ord
=
π1
((X
K
)
→
ΠX
log
=
π1
(XK
)
=
π1
(XK
\DK
)
(for
some
ﬁxed
choice
of
basepoints).
Here,
we
observe
that
(by
the
main

log
)ord
in

log
)ord
is
excellent,
so
the
normalization
of
(X
theorem
of
[Vala])
(X
log
ord
log
ord

)
.
Thus,
(X

log
)ord
has

)
a
ﬁnite
étale
covering
of
(X
K
is
ﬁnite
over
(X
K
a
“well-behaved
theory”
of
ﬁnite
étale
coverings
which
is
compatible
with
étale

log
)ord
.
Also,
before
proceeding,
we
observe
that
ΠX
log
ﬁts
localization
on
(X
into
an
exact
sequence:
1
→
ΔX
log
→
ΠX
log
→
GK
→
1
(where
ΔX
log
is
deﬁned
so
as
to
make
the
sequence
exact).
Lemma
3.2.
(The
Ordinary
Locus
Modulo
p2
)
Let
VFp
be
a
2dimensional
Fp
-vector
space
equipped
with
a
continuous
action
of
ΠX
log
up
to
±1
—
i.e.,
a
representation
ΠX
log
→
GL±
2
(VFp
)
=
GL2
(VFp
)/{±1}
def
—
such
that:
Shinichi
Mochizuki
20
(i)
The
determinant
of
VFp
is
isomorphic
(as
a
ΠX
log
-module)
to
Fp
(1).
(ii)
There
exists
a
ﬁnite
log
étale
Galois
covering
(i.e.,
we
assume
tame
ramiﬁcation
over
D)
log
→
X
log
X±
such
that
the
action
of
ΠX
log
up
to
±1
on
VFp
lifts
to
a
(usual)
action
(i.e.,
without
sign
ambiguities)
of
ΠX
log
⊆
ΠX
log
on
VFp
.
This
action
±
is
uniquely
determined
up
to
tensor
product
with
a
character
of
ΠX
log
±
of
order
2.
log
determined
by
the
ﬁnite
(iii)
The
ﬁnite
étale
covering
YKlog
→
XK
ΠX
log
-set
of
1-dimensional
Fp
-subspaces
of
VFp
satisﬁes
the
hypotheses
of
Lemma
3.1.
(iv)
Write
log
log
(Z±
)K
→
(X±
)K
for
the
ﬁnite
log
étale
covering
(of
degree
p2
−
1)
corresponding
to
the
nonzero
portion
of
VFp
.
Write
log
)K
(Y±log
)K
→
(X±
for
the
ﬁnite
log
étale
covering
of
smooth
curves
which
is
the
composlog
)
of
the
coverings
ite
(i.e.,
normalization
of
the
ﬁber
product
over
XK
log
log
log
(Z±
)K
,
YKlog
of
XK
.
(Thus,
(Z±
)K
maps
naturally
to
(Y±log
)K
,
hence
also
to
YKlog
.)
Let
us
refer
to
an
irreducible
component
of
the
log
)K
)
special
ﬁber
of
a
stable
reduction
of
(Y±log
)K
(respectively,
(Z±
over
some
ﬁnite
extension
of
K
that
maps
ﬁnitely
to
the
irreducible
component
“CF
”
(cf.
Lemma
3.1)
as
being
“of
CF
-type”
and
“assolog
)K
)”.
Then
any
irreducible
comciated
to
(Y±log
)K
(respectively,
(Z±
log
)K
is
étale
and
free
of
nodes
ponent
of
CF
-type
associated
to
(Z±
over
the
ordinary
locus
of
any
irreducible
component
of
CF
-type
associated
to
(Y±log
)K
.
Then
(after
possibly
tensoring
VFp
with
a
character
of
ΠX
log
of
order
2)
the
±

log
)ord
determined
by
the
Π
log
ord
-module
VF
étale
local
system
E
ord
on
(X
Fp
±
K
(X±
)

log
)ord
.
arises
from
a
(logarithmic)
ﬁnite
ﬂat
group
scheme
on
(X
±
the
Π(X
log
)ord
-module
VFp
ﬁts
into
an
exact
sequence:
±
)∨
(1)
→
VFp
→
VFetl
→0
0
→
(VFetl
p
p
p
Moreover,
Canonical
Curves
21
where
VFetl
is
a
1-dimensional
Fp
-space
“up
to
±1”
whose
Π(X
log
)ord
-action
p
±
ord
)k
⊆
(X±
)k
,
and
the
“∨”
denotes
arises
from
a
ﬁnite
étale
local
system
on
(X±
the
Fp
-linear
dual.
Proof.
As
was
seen
in
the
proof
of
Lemma
3.1,
we
have
an
isomorphism
F
∼
(Y
log
)ord
=
{(X
log
)ord
k
k
}

(X
log
)ord
k
which
thus
determines
a
decomposition
of
(Y
log
)ord
into
two
connected
components.
Moreover,
the
second
connected
component
on
the
right-hand
side
corresponds
to
a
rank
one
quotient
VFp

QFp
which
is
stabilized
by
the
action
of
Π(X
log
)ord
,
while
the
ﬁrst
connected
component
on
the
right-hand
side
parametrizes
splittings
of
this
quotient
VFp

QFp
.
Here,
we
observe
that
Q⊗2
Fp
admits
a
natural
Π(X
log
)ord
-action
(i.e.,
without
sign
ambiguities).

log
)ord
}F
and
the
ﬁrst
conNow
any
choice
of
isomorphism
between
{(X
log
ord
determines
a
lifting
of
Frobenius
nected
component
of
(Y
)

log
)ord
}F
→
(X

log
)ord
Φlog
:
{(X
which
is
ordinary
(by
the
conclusion
of
Lemma
3.1
—
cf.
[Mzk1],
Chapter
IV,
Proposition
4.10).
Thus,
by
the
general
theory
of
ordinary
Frobenius
liftings,
Φlog
determines,
in
particular,
a
(logarithmic)
ﬁnite
ﬂat
group
scheme
annihilated
by
p
which
is
an
extension
of
the
trivial
ﬁnite
ﬂat
group
scheme
“Fp
”
by
the
ﬁnite
ﬂat
group
scheme
determined
by
the
Cartier
dual
of
some
étale
local
system
of
one-dimensional
Fp
-vector
spaces
on
Xkord
(cf.
[Mzk1],
Chapter
III,
Deﬁnition
1.6);
denote
the
Π(X
log
)ord
-module
corresponding
to
this
étale
local
system
by
ΩFp
.
Moreover,
it
is
a
formal
consequence
of
this
general
the
log
)ord
determined
by
considering
ory
that
Φlog
K
K
is
precisely
the
covering
of
(X
splittings
of
this
extension.
Thus,
since
the
Galois
closure
of
this
covering
has
Galois
group
given
by
the
semi-direct
product
of
a
cyclic
group
of
order
p
with
a
cyclic
group
of
order
p
−
1,
we
conclude
(by
the
elementary
group
theory
of
such
a
semi-direct
product)
that
we
have
an
isomorphism
of
Π(X
log
)ord
-modules:
(QFp
)⊗−2
(1)
∼
=
ΩFp
(1),
i.e.,
(QFp
)⊗−2
∼
=
ΩF
p
log

log
)ord
determined
by
this
We
thus
conclude
that
the
local
system
EFΦp
on
(X
K
(logarithmic)
ﬁnite
ﬂat
group
scheme
arising
from
the
general
theory
satisﬁes:
log
⊗Fp
Q∨
EFΦp
|(X
log
)ord
∼
=
EFord
Fp
p
±
K
Shinichi
Mochizuki
22
Next,
let
us
write
χQ
for
the
character
(valued
in
Fp
×
)
of
Π(X
log
)ord
corre±
sponding
to
QFp
.
Now
it
follows
formally
from
condition
(iv)
of
the
statement

log
)ord
determined
by
Ker(χQ
)
of
Lemma
3.2
that
the
ﬁnite
étale
covering
of
(X
±
K

log
)ord
WQ
→
(X
±
K

ord
and
a
“conis
dominated
by
the
composite
of
some
ﬁnite
étale
covering
of
X
±
stant
covering”
(i.e.,
a
covering
arising
from
a
ﬁnite
extension
L
of
K).
Thus,
the
only
ramiﬁcation
that
may
occur
in
the
covering
WQ
arises
from
ramiﬁcation
of
the
“constant
covering”,
i.e.,
the
ﬁnite
extension
L/K.
Moreover,
(since
(QFp
)⊗−2
∼
=
ΩFp
)
the
covering
determined
by
Ker(χ2Q
)
is
unramiﬁed,
so,
1
in
fact,
we
may
take
L
to
be
the
extension
K(p
2
).
This
implies
that
we
may
write
χQ
=
χQ
·
χQ
where
the
covering
determined
by
the
kernel
of
χQ
(respectively,
χQ
)
is
ﬁnite

ord
(respectively,
the
covering
arising
from
base-change
from
K
to
étale
over
X
±
L).
On
the
other
hand,
since
χQ
extends
naturally
to
ΠX
log
,
we
may
assume
±
(without
loss
of
generality
—
cf.
condition
(ii)
of
the
statement
of
Lemma
3.2)
ord
that
χQ
is
trivial,
hence
that
QFp
arises
from
an
étale
local
system
on
(X±
)k
.
Φlog
ord
∼
E
But
this
—
together
with
the
isomorphism
E
|
log
ord
=
⊗F
Q∨
—
implies
the
conclusion
of
Lemma
3.2.

Fp
(X±
)K
Fp
p
Fp
Lemma
3.3.
(Global
Logarithmic
Finite
Flat
Group
Scheme)
Let
VFp
be
a
2-dimensional
Fp
-vector
space
equipped
with
a
continuous
action
of
ΠX
log
up
to
±1
which
satisﬁes
the
hypotheses
of
Lemma
3.2.
Then
the
étale
log
)K
determined
by
the
ΠX
log
-module
VFp
arises
from
local
system
EFp
on
(X±
log
.
a
(logarithmic)
ﬁnite
ﬂat
group
scheme
on
X±
±
Proof.
Write
Z
→
X±
log
for
the
normalization
of
X±
in
the
ﬁnite
étale
covering
of
(X±
)K
determined
by
the
local
system
EFp
.
Since
X±
is
regular
of
dimension
2,
it
thus
follows
that
Z
is
ﬁnite
and
ﬂat
(by
the
“Auslander-Buchsbaum
formula”
and
“Serre’s
criterion
for
normality”
—
cf.
[Mtmu],
p.
114,
p.
125)
over
X±
.
Moreover,
since
ZK
is
already
equipped
with
a
structure
of
(logarithmic)
ﬁnite
ﬂat
group
scheme,
which,
by
the
conclusion
of
Lemma
3.2,
extends
naturally
over
the
Canonical
Curves
23
generic
point
of
the
special
ﬁber
of
X
—
since
it
extends
(by
the
proof
of
Lemma
3.2)
to
a
regular,
hence
normal,
(logarithmic)
ﬁnite
ﬂat
group
scheme
over
the
ordinary
locus
—
it
thus
suﬃces
to
verify
that
this
ﬁnite
ﬂat
group
scheme
structure
extends
(uniquely)
over
the
supersingular
points
of
X±
.
But
this
follows
formally
from
[Mtmu],
p.
124,
Theorem
38
—
i.e.,
the
fact
(applied
to
X±
,
not
Z!)
that
a
meromorphic
function
on
a
normal
scheme
is
regular
if
and
only
if
it
is
regular
at
the
primes
of
height
1
—
and
the
fact
that
Z
(hence
also
Z
×X±
Z)
is
ﬁnite
and
ﬂat
over
X±
.

Lemma
3.4.
(The
Associated
Dieudonné
Crystal
Modulo
p)
Let
VFp
be
a
2-dimensional
Fp
-vector
space
equipped
with
a
continuous
action
of
ΠX
log
up
to
±1
which
satisﬁes
the
hypotheses
of
Lemma
3.2.
Suppose,
further,
that
the
ΠX
log
-module
(up
to
±1)
VFp
satisﬁes
the
following
condition:
(†M
)
The
GK
-module
def
M
=
H
1
(ΔX
log
,
Ad(VFp
))
(where
Ad(VFp
)
⊆
End(VFp
)
is
the
subspace
of
endomorphisms
whose
trace
=
0)
ﬁts
into
an
exact
sequence:
0
→
G−1
(M
)
→
M
→
G2
(M
)
→
0
where
G2
(M
)
(respectively,
G−1
(M
))
is
isomorphic
to
the
result
of
tensoring
an
unramiﬁed
GK
-module
whose
dimension
over
Fp
is
equal
to
3g
−
3
+
r
with
the
Tate
twist
Fp
(2)
(respectively,
Fp
(−1)).
Then
the
“MF
∇
-object
(up
to
±1)”
(cf.
[Falt],
§2)
determined
by
the
ΠX
log
module
(up
to
±1)
VFp
(cf.
Lemma
3.3)
arises
from
the
(unique)
nilpotent
ordinary
indigenous
bundle
of
Lemma
3.1,
(iv).
Proof.
First,
we
recall
from
the
theory
of
[Falt],
§2,
that
the
conclusion
of
Lemma
3.3
implies
that
VFp
arises
from
an
“MF
∇
-object
(up
to
±1)”
on
X
log
,
as
in
the
theory
of
[Falt],
§2.
Here,
the
reader
uncomfortable
with
“MF
∇
log
objects
up
to
±1”
may
instead
work
with
a
usual
MF
∇
-object
over
X±
log
equipped
with
an
“action
of
Gal(X±
/X
log
)
up
to
±1”.
Write
Fk
for
the
log
vector
bundle
on
(X±
)k
underlying
the
MF
∇
-object
on
X±
determined
by
EF
p
.
Thus,
Fk
is
a
vector
bundle
of
rank
2,
whose
Hodge
ﬁltration
is
given
by
a
subbundle
F
1
(Fk
)
⊆
Fk
of
rank
1.
Moreover,
the
Kodaira-Spencer
morphism
of
this
subbundle,
as
well
as
the
“Hasse
invariant”
Φ∗X±
F
1
(Fk
)∨
→
Fk

Fk
/F
1
(Fk
)
∼
=
F
1
(Fk
)∨
24
Shinichi
Mochizuki
(where
ΦX±
is
the
Frobenius
morphism
on
X±
;
and
the
injection
is
the
morphism
that
arises
from
the
Frobenius
action
on
the
MF
∇
-object
in
question),
is
generically
nonzero.
Indeed,
these
facts
all
follow
immediately
from
our
analysis
of
EFp
over
the
ordinary
locus
in
the
proof
of
Lemma
3.2.
Next,
let
us
observe
that
this
Hasse
invariant
has
at
least
one
zero.
Indeed,
if
it
were
nonzero
everywhere,
it
would
follow
formally
from
the
general
theory
of
MF
∇
-objects
(cf.
[Falt],
§2)
that
the
ΠX
log
-module
(up
to
±1)
VFp
admits
a
ΠX
log
-invariant
subspace
of
Fp
-dimension
1
—
cf.
the
situation
over
the
ordinary
locus
in
the
proof
of
Lemma
3.2,
over
which
the
Hasse
invariant
is,
in
fact,
nonzero.
On
the
other
hand,
this
implies
that
YK
→
XK
admits
a
section,
hence
that
Y
is
not
connected.
But
this
contradicts
the
fact
(cf.
the
proof
of
Lemma
3.1)
that
the
two
irreducible
components
CV
,
CF
of
Yk
(cf.
Lemma
3.1,
(iii))
necessarily
meet
at
the
nodes
of
Yk
.
(Here,
we
recall
from
Lemma
3.1,
(ii),
that
there
exists
at
least
one
node
on
Yk
.)
In
particular,
it
follows
from
the
fact
that
the
Hasse
invariant
is
generically
nonzero,
but
not
nonzero
everywhere
that
the
degree
of
the
line
bundle
F
1
(F)
on
(X±
)k
is
positive.
Note
that
since
F
1
(F)⊗2
descends
naturally
to
a
line
bundle
L
on
Xk
,
we
thus
obtain
that
1
≤
deg(L)
≤
2g
−
2
+
r
(where
the
second
inequality
follows
from
the
fact
that
the
Kodaira-Spencer
morphism
in
nonzero).
Now,
we
conclude
—
from
the
p-adic
Hodge
theory
of
[Falt],
§2;
[Falt],
§5,
Theorem
5.3
—
that
the
condition
(†M
)
implies
various
consequences
concerning
the
Hodge
ﬁltration
on
the
ﬁrst
de
Rham
cohomology
module
of
Ad
of
the
MF
∇
-object
determined
by
VFp
,
which
may
be
summarized
by
the
inequality:
h1
(Xk
,
L−1)
=
h0
(Xk
,
L
⊗OX
ωX
)
≥
3g
−
3
+
r
(where
“hi
”
denotes
the
dimension
over
k
of
“H
i
”)
—
cf.
[Mzk1],
IV,
Theorem
1.3
(and
its
proof),
which,
in
essence,
addresses
the
Zp
analogue
of
the
present
Fp
-vector
space
situation.
(Note
that
here
we
make
essential
use
of
the
hypothesis
p
≥
5.)
Thus,
(cf.
loc.
cit.)
we
conclude
that
(since
deg(L)
>
0)
the
line
bundle
L
⊗OX
ωX
on
Xk
is
nonspecial,
hence
(by
the
above
inequality)
that:
deg(L)
=
deg(L
⊗OX
ωX
)
−
deg(ωX
)
=
h0
(Xk
,
L
⊗OX
ωX
)
+
(g
−
1)
−
2(g
−
1)
≥
3g
−
3
+
r
−
(g
−
1)
=
2g
−
2
+
r
Canonical
Curves
25
Combining
this
with
the
inequalities
of
the
preceding
paragraph,
we
thus
obtain
that
deg(L)
=
2g
−
2
+
r,
so
the
MF
∇
-object
in
question
is
an
indigenous
bundle,
which
is
necessarily
equal
to
the
indigenous
bundle
of
Lemma
3.1,
(iv),
since
the
supersingular
locus
of
the
former
is
contained
in
the
supersingular
locus
of
the
latter
(cf.
[Mzk1],
Chapter
II,
Proposition
2.6,
(4)).

Lemma
3.5.
(Canonical
Deformations
Modulo
Higher
Powers
of
p)
Let
VFp
be
a
2-dimensional
Fp
-vector
space
equipped
with
a
continuous
action
of
ΠX
log
up
to
±1
which
satisﬁes
the
hypotheses
of
Lemmas
3.2,
3.4.
Suppose
that,
for
some
n
≥
1:
(i)
(X,
D)
is
isomorphic
modulo
pn
to
a
canonical
lifting
(as
in
[Mzk1],
Chapter
III,
§3;
Chapter
IV).
(ii)
VFp
is
the
reduction
modulo
p
of
a
rank
2
free
Z/pn
Z-module
VZ/pn
Z
with
continuous
ΠX
log
-action
up
to
±1.
Then
(X,
D)
is
isomorphic
modulo
pn+1
to
a
canonical
lifting,
and
the
ΠX
log
set
P(VZ/pn
Z
)
(of
free,
rank
one
Z/pn
Z-module
quotients
of
VZ/pn
Z
)
is
isomorphic
to
the
projectivization
of
the
canonical
representation
modulo
pn
(cf.
[Mzk1],
Chapter
IV,
Theorem
1.1)
associated
to
(X,
D).
Finally,
if
the
determinant
of
VZ/pn
Z
is
isomorphic
to
(Z/pn
Z)(1),
then
the
ΠX
log
-module
(up
to
±1)
VZ/pn
Z
is
isomorphic
to
the
canonical
representation
modulo
pn
.
Proof.
First,
we
observe
that
the
case
n
=
1
is
a
formal
consequence
of
Lemmas
3.1,
3.4.
The
case
of
general
n
is
then,
in
essence,
a
formal
consequence
of
the
theory
of
[Mzk1],
Chapter
V,
§1
—
cf.
especially,
Theorem
1.7,
and
the
discussion
following
it.
We
review
the
details
as
follows:
The
space
of
deformations
(of
the
projectivization)
of
the
ΠX
log
-module
“up
to
±1”
VFp
may
be
thought
of
as
a
formal
scheme
R
which
is
noncanonically
isomorphic
to
Spf(Zp
[[t1
,
.
.
.
,
t2(3g−3+r)]])
(where
the
ti
’s
are
indeterminates)
—
cf.
the
discussion
preceding
[Mzk1],
Chapter
V,
Lemma
1.5.
Write
RPD
for
the
p-adic
completion
of
the
PD-envelope
of
R
at
the
Fp
-valued
point
deﬁned
by
“VFp
”.
Note
that
R
and
RPD
are
equipped
with
a
natural
GK
-action.
Then
according
to
the
theory
of
loc.
cit.,
there
is
a
GK
-equivariant
closed
immersion
of
formal
schemes
(cf.
Remark
3.5.1
below)
Gal
)
→
RPD
κPD
:
Spf(D
26
Shinichi
Mochizuki

Gal
is
noncanonically
isomorphic
to
the
p-adic
completion
of
the
PDwhere
D
envelope
at
the
closed
point
of
a
power
series
ring
Zp
[[t1
,
.
.
.
,
t3g−3+r
]]
equipped
with
a
natural
GK
-action.
Now
it
follows
from
the
theory
of
loc.
cit.,
the
induction
hypothesis
on
n,
def
and
the
assumptions
(i),
(ii)
of
Lemma
3.5,
that
VZ/pn−1
Z
=
VZ/pn
Z
⊗
Z/pn−1Z
corresponds
(at
least
projectively)
to
the
canonical
representation
modulo
pn−1
,
hence
determines
a
GK
-invariant
rational
point
σn−1
∈
RPD
(Z/pn−1
Z)
that
lies
in
the
image
Im(κPD
)
of
κPD
.
Thus,
the
point
σn
∈
RPD
(Z/pn
Z)
determined
by
VZ/pn
Z
may
be
regarded
as
a
GK
-invariant
deformation
of
σn−1.
Note
that
the
set
of
deformations
of
σn−1
naturally
forms
a
torsor
T
over
the
Fp
-vector
space
M
of
Lemma
3.4.
Since
σn−1
∈
Im(κPD
),
this
torsor
is
equipped
with
a
natural
GK
-stable
subspace
T

⊆
T
(consisting
of
the
deformations
that
lie
∈
Im(κPD
))
which
is
(by
the
theory
of
loc.
cit.)
a
torsor
over
G−1
(M
).
In
particular,
this
subspace
determines
a
GK
-invariant
trivialization
τ

of
the
G2
(M
)-torsor
(T
)
T

given
by
the
“change
of
structure
group
M

G2
(M
)”.
Now
let
us
observe
that
by
(†M
)
and
the
fact
that
p
≥
5
—
so
the
square
of
the
cyclotomic
character
GK
→
Fp
×
is
nontrivial
—
G2
(M
)
has
no
nontrivial
Galois
invariants,
i.e.:
G2
(M
)GK
=
0
Thus,
we
conclude
that
τ

is
the
unique
GK
-invariant
point
of
T

,
hence
that
the
image
in
T

of
the
point
τn
∈
T
determined
by
σn
is
necessarily
equal
to
τ

,
i.e.,
τn
∈
T

—
or,
in
other
words,
σn
∈
Im(κPD
).
On
the
other
hand,
if
we
interpret
the
Galois-theoretic
fact
that
σn−1
lifts
to
a
GK
-invariant
σn
∈
Im(κPD
)
in
terms
of
the
original
ﬁnite
étale
coverings
—
combinatorial
information
concerning
which
the
Galois
theory
is
intended
to
encode
—
then
we
obtain
the
following
conclusion:
The
A-valued
point
Canonical
Curves
27
α
∈
N
(A)
def
ord
(cf.
[Mzk1],
Chapter
III,
§2)
of
the
Zp
-smooth
p-adic
formal
scheme
N
=
Ng,r
determined
by
(X,
D)
and
the
nilpotent
ordinary
indigenous
bundle
modulo
p
of
Lemma
3.4
not
only
lies
—
by
assumption
(i)
of
the
statement
of
Lemma
of
the
canonical
3.5
—
in
the
image
of
N
(A)
under
the
(n
−
1)-st
iterate
Φn−1
N
Frobenius
lifting
ΦN
:
N
→
N
on
(cf.
[Mzk1],
Chapter
III,
Theorem
2.8)
but
also
in
the
image
of
N
(A)
unn−1
der
the
n-th
iterate
ΦnN
of
ΦN
.
(Indeed,
the
restriction
of
the
covering
ΦN
n
(respectively,
ΦN
)
to
α
admits
a
section,
determined
by
the
GK
-invariant
rational
point
σn−1
(respectively,
σn
).)
Thus,
we
conclude
that
X
log
is
canonical
modulo
pn+1
.
Finally,
since
G−1
(M
)GK
=
0
we
conclude
that
σn
is
the
unique
GK
-invariant
lifting
of
σn−1
to
Z/pn
Z,
hence
that
VZ/pn
Z
corresponds
(projectively)
to
the
canonical
representation
modulo
pn
,
as
desired.

Remark
3.5.1.
In
some
sense,
it
is
natural
to
think
of
Im(κPD
)
(cf.
the
proof
of
Lemma
3.5)
as
the
“crystalline
locus”
in
the
space
of
“all”
representations
RPD
.
Theorem
3.6.
(Group-Theoreticity
of
Canonical
Liftings)
Let
p
≥
5
be
a
prime
number.
For
i
=
1,
2,
let
Ki
be
an
unramiﬁed
ﬁnite
extension
of
Qp
,
and
(Xi
,
Di
)
a
smooth
pointed
curve
of
type
(gi
,
ri
)
over
OKi
,
where
2gi
−
2
+
ri
>
0.
Assume
that
we
have
chosen
basepoints
of
the
(Xi
)Ki
\(Di
)Ki
(which
thus
induce
basepoints
of
the
Ki
);
denote
the
resulting
fundamental
group
by
ΠX
log
.
Suppose
that
we
have
been
given
an
isomorphism
of
proﬁi
nite
groups:
∼
ΠX
log
→
ΠX
log
1
2
Then:
(i)
(X1
,
D1
)
is
a
canonical
lifting
(in
the
sense
of
[Mzk1],
Chapter
III,
§3;
Chapter
IV)
if
and
only
if
(X2
,
D2
)
is
so.
(ii)
If
at
least
one
of
the
(Xi
,
Di
)
is
a
canonical
lifting,
then
the
isomorphism
on
logarithmic
special
ﬁbers
of
[Mzk7],
Theorem
2.7,
lifts
(uniquely)
to
∼
∼
an
isomorphism
(X1
,
D1
)
→
(X2
,
D2
)
over
OK1
∼
=
W
(k1
)
→
W
(k2
)
∼
=
OK2
.
28
Shinichi
Mochizuki
Proof.
Let
us
verify
(i).
Since,
by
[Mzk7],
Theorem
2.7
(and
[Mzk7],
Proposition
1.2.1,
(vi)),
the
logarithmic
special
ﬁbers
of
all
stable
reductions
of
all
ﬁnite
étale
coverings
of
(Xi
)Ki
\(Di
)Ki
are
“group-theoretic”,
it
follows
that
the
conditions
(i),
(ii),
(iii),
(iv)
of
Lemma
3.1,
as
well
as
the
conditions
(i),
(ii),
(iii),
(iv)
of
Lemma
3.2,
are
all
group-theoretic
conditions
which,
moreover,
(by
the
theory
of
[Mzk1],
Chapter
III,
§3;
Chapter
IV)
are
satisﬁed
by
canonical
liftings.
(Here,
relative
to
the
assertion
that
canonical
liftings
satisfy
Lemma
3.1,
(ii),
and
Lemma
3.2,
(iv),
we
remind
the
reader
that:
(1)
Since
p
≥
5,
the
special
ﬁber
of
the
curve
Y
of
Lemma
3.1
has
≥
2
nodes
(cf.
Lemma
3.1,
(ii)),
which
implies
that
the
curve
Y
is
stable
(i.e.,
even
without
the
marked
points).
(2)
The
smooth
locus
of
any
model
of
a
curve
over
a
discrete
valuation
ring
necessarily
maps
to
the
stable
model
(whenever
it
exists)
of
the
curve
—
cf.,
e.g.,
[JO]—
and,
moreover,
whenever
this
map
is
quasi-ﬁnite,
necessarily
embeds
as
an
open
subscheme
of
the
smooth
locus
of
the
stable
model.)
Moreover,
(since
the
cyclotomic
character
and
inertia
subgroup
are
grouptheoretic
—
cf.
[Mzk7],
Proposition
1.2.1,
(ii),
(vi)
—
it
follows
that)
condition
(†M
)
of
Lemma
3.4
is
a
group-theoretic
condition
which
(by
the
theory
of
loc.
cit.)
is
satisﬁed
by
canonical
liftings.
Thus,
successive
application
of
Lemma
3.5
for
n
=
1,
2,
.
.
.
implies
assertion
(i)
of
the
statement
of
Theorem
3.6.
Next,
let
us
observe
that
when
one
(hence
both)
of
the
(Xi
,
Di
)
is
a
canonical
lifting,
it
follows
from
Lemma
3.1
that
the
isomorphism
of
special
ﬁbers
∼
(X1
,
D1
)k1
→
(X2
,
D2
)k2
∼
(lying
over
some
isomorphism
k1
→
k2
)
determined
by
[Mzk7],
Theorem
2.7
is
compatible
with
the
nilpotent
ordinary
indigenous
bundles
on
either
side
that
give
rise
to
the
canonical
liftings.
On
the
other
hand,
by
the
theory
of
loc.
cit.,
the
lifting
of
(Xi
,
Di
)ki
over
OKi
∼
=
W
(ki
)
is
determined
uniquely
by
the
fact
that
this
lifting
is
“canonical”
(i.e.,
when
it
is
indeed
the
case
that
it
is
canonical!).
This
completes
the
proof
of
assertion
(ii)
of
the
statement
of
Theorem
3.6.

Remark
3.6.1.
Thus,
(cf.
Remarks
1.1.1,
2.2.1)
unlike
the
situation
with
Proposition
1.1,
Theorem
2.2:
Theorem
3.6
provides,
for
each
hyperbolic
(g,
r),
“lots
of
examples”
—
in
particular,
an
example
lifting
a
general
curve
of
type
(g,
r)
in
characteristic
p
≥
5
—
of
(XK
,
DK
)
which
are
group-theoretically
determined
solely
by
the
proﬁnite
group
π1
(XK
\DK
).
Canonical
Curves
29
In
fact,
the
exact
same
arguments
of
the
present
§3
show
that
the
analogue
of
Theorem
3.6
also
holds
for
“Lubin-Tate
canonical
curves
(for
various
tones
)”
—
i.e.,
the
curves
deﬁned
by
considering
canonical
points
(cf.
[Mzk2],
Chapter
VIII,
§1.1)
associated
to
the
canonical
Frobenius
lifting
of
[Mzk2],
Chapter
VIII,
Theorem
3.1,
in
the
case
of
a
“VF-pattern
Π
of
pure
tone
”.
One
feature
of
the
Lubin-Tate
case
that
diﬀers
(cf.
[Mzk7],
Proposition
1.2.1,
(vi))
from
the
“classical
ordinary”
case
of
[Mzk1]
is
that
it
is
not
immediately
clear
that
the
“Lubin-Tate
character”
χ
:
GK
→
W
(Fq
)×
(where
Fq
is
a
ﬁnite
extension
of
Fp
)
is
group-theoretic.
Note,
however,
that
at
least
for
the
“portion
of
χ
modulo
p”
GK
→
Fq
×
group-theoreticity
—
at
least
after
passing
to
a
ﬁnite
unramiﬁed
extension
of
the
original
base
ﬁeld
K
(which
does
not
present
any
problems,
from
the
point
of
view
of
proving
the
Lubin-Tate
analogue
of
Theorem
3.6)
—
is
a
consequence
of
the
fact
that
the
ﬁeld
structure
on
(the
union
of
0
and)
the
torsion
in
Gab
K
of
order
prime
to
p
is
group-theoretic
(cf.
[Mzk7],
Lemma
2.6,
Theorem
2.7).
This
much
is
suﬃcient
for
the
Lubin-Tate
analogues
of
Lemmas
3.1,
3.2,
3.3,
3.4,
3.5
(except
for
the
last
sentence
of
the
statement
of
Lemma
3.5,
which
is,
at
any
rate,
not
necessary
to
prove
Theorem
3.6),
and
hence
of
Theorem
3.6.
Finally,
once
one
has
proved
that
the
curve
in
question
is
(Lubin-Tate)
canonical
and
recovered
its
canonical
representation
VZp
,
at
least
projectively,
then
it
follows,
by
considering
the
W
(Fq
)-module
analogue
of
the
exact
sequence
of
Fp
-vector
spaces
in
the
conclusion
of
Lemma
3.2,
over
the
ordinary
locus,
that
(even
if
one
only
knows
VZp
“projectively”)
one
may
recover
the
Lubin-Tate
character
by
forming
Hom(third
nonzero
term
of
the
exact
sequence,
ﬁrst
nonzero
term
of
the
exact
sequence)
—
at
least
up
to
un
“étale
twist”,
i.e.,
up
to
multiplication
by
some
unramiﬁed
character
GK
→
W
(Fq
)×
.
(We
leave
the
remaining
routine
technical
details
of
the
Lubin-Tate
case
to
the
enthusiastic
reader.)
At
the
time
of
writing,
it
is
not
clear
to
the
author
whether
or
not
it
is
possible
to
eliminate
this
“étale
twist”.
Since
this
étale
twist
corresponds
to
the
well-known
dependence
of
the
Lubin-Tate
group
on
the
choice
of
uniformizer,
this
indeterminacy
with
respect
to
an
étale
twist
may
be
thought
of
as
being
related
to
the
fact
that
(at
the
30
Shinichi
Mochizuki
present
time)
the
author
is
unable
to
prove
the
group-theoreticity
of
the
natural
uniformizer
“p”
—
cf.
[Mzk7],
Remark
2.7.2.
At
any
rate,
the
theory
of
the
present
§3
constitutes
the
case
of
“tone
0”.
Moreover,
one
checks
easily
—
by
considering
the
“FL-bundle”
(as
in
[Mzk1],
Chapter
II,
Proposition
1.2)
determined
by
the
lifting
modulo
p2
—
that
canonical
curves
of
distinct
tones
are
never
isomorphic.
Thus,
(at
least
when
r
=
0)
the
Lubin-Tate
canonical
curves
give
rise
to
(strictly)
more
examples
of
(proper)
hyperbolic
XK
which
are
group-theoretically
determined
solely
by
the
proﬁnite
group
π1
(XK
).
This
prompts
the
following
interesting
question:
Is
this
“list”
complete?
—
i.e.:
Do
there
exist
any
other
curves
(XK
,
DK
)
that
are
group-theoretically
determined
solely
by
the
proﬁnite
group
π1
(XK
\DK
)?
At
the
time
of
writing,
the
author
does
not
even
have
a
conjectural
answer
to
this
question.
Remark
3.6.2.
One
interesting
aspect
of
the
theory
of
the
present
§3
is
that,
to
the
knowledge
of
the
author:
It
constitutes
the
ﬁrst
application
of
the
“p-adic
Teichmüller
theory”
of
[Mzk1],
[Mzk2],
to
prove
a
hitherto
unknown
result
(cf.
Corollary
3.8
below)
that
lies
outside
—
i.e.,
can
be
stated
without
using
the
terminology,
concepts,
or
results
of
—
the
theory
of
[Mzk1],
[Mzk2].
Moreover,
not
only
does
this
constitute
the
ﬁrst
application
of
“p-adic
Teichmüller
theory”
to
prove
a
new
result
(cf.
the
proof
of
the
irreducibility
of
the
moduli
stack
via
p-adic
Teichmüller
theory
in
[Mzk2],
Chapter
III,
§2.5
—
an
application,
albeit
to
an
old
result),
it
is
interesting
relative
to
the
original
philosophical
motivation
for
this
theory,
involving
the
analogy
to
uniformization
theory/Teichmüller
theory
over
the
complex
numbers,
which
was
to
construct
a
p-adic
theory
that
would
allow
one
to
prove
a
“p-adic
version
of
the
Grothendieck
Conjecture”
as
in
[Mzk6]
—
cf.
[Mzk2],
Introduction,
§0.10,
for
more
on
these
ideas.
Remark
3.6.3.
One
interesting
point
of
view
is
the
following:
For
a
hyperbolic
curve
XK
over
a
ﬁnite
extension
K
of
Qp
,
consideration
of
the
proﬁnite
group
ΠXK
should
be
thought
of
as
the
arithmetic
analogue
of
considering
a
hyperbolic
curve
(which
is
given
a
priori)
over
Fp
[[t]][t
−1]
—
where
t
is
an
indeterminate
which,
perhaps,
should
be
thought
of
as
the
symbol
“p”
—
“in
the
absolute”,
i.e.,
“stripped
Canonical
Curves
31
of
its
structure
morphism
to
a
speciﬁc
copy
of
Fp
[[t]][t
−1]”,
or,
alternatively,
“when
we
allow
the
indeterminate
t
to
vary
freely
(in
Fp
[[t]])”.
Thus,
from
this
point
of
view,
it
is
natural
to
expect
that
the
hyperbolic
curves
XK
most
likely
to
be
recoverable
from
the
absolute
datum
ΠXK
are
those
which
are
“deﬁned
over
some
(ﬁctitious)
absolute
ﬁeld
of
constants
inside
K”
—
hence
which
have
moduli
that
are
invariant
with
respect
to
changes
of
variable
t
→
t
+
t2
+
.
.
.
.
In
particular,
since
one
expects
canonical
curves
to
be
arithmetic
analogues
of
“curves
deﬁned
over
the
constant
ﬁeld”
(cf.
[Mzk2],
Introduction,
§2.3),
it
is
perhaps
not
surprising
that
they
should
satisfy
the
property
of
Theorem
3.6.
Moreover,
this
point
of
view
suggests
that:
Perhaps
it
is
natural
to
regard
Theorem
3.6
as
the
proper
analogue
for
hyperbolic
canonical
curves
of
the
fact
that
Serre-Tate
canonical
liftings
(of
abelian
varieties)
are
deﬁned
over
number
ﬁelds
(cf.
[Mzk2],
Introduction,
§2.1,
Open
Question
(7)).
Indeed,
one
way
of
showing
that
Serre-Tate
canonical
liftings
—
or,
indeed,
arbitrary
abelian
varieties
with
lots
of
endomorphisms
—
are
deﬁned
over
number
ﬁelds
is
by
thinking
of
the
algebraic
extension
Qp
of
Qp
over
which
such
abelian
varieties
are
a
priori
deﬁned
“in
the
absolute”,
i.e.,
as
a
transcendental
extension
of
Q
and
considering
what
happens
when
one
transports
such
abelian
varieties
via
arbitrary
ﬁeld
automorphisms
of
Qp
.
Such
ﬁeld
automorphisms
are
reminiscent
of
the
“changes
of
variable”
appearing
in
the
approach
to
thinking
about“recovering
XK
from
the
absolute
datum
ΠXK
”
described
above.
Remark
3.6.4.
The
“rigidity”
of
canonical
curves
—
in
the
sense
that
they
are
determined
by
the
existence
of
the
unique
GK
-invariant
lifting
“VZp
”
of
the
representation
VFp
(cf.
Lemma
3.5
and
its
proof)
—
is
reminiscent,
at
least
at
a
technical
level,
of
the
theory
of
deformations
of
representations
applied
in
Wiles’
famous
proof
of
the
“modularity
conjecture”
(cf.
[Wiles]).
It
would
be
interesting
if
this
analogy
could
be
pursued
in
more
detail
in
the
future.
Remark
3.6.5.
Just
as
the
Serre-Tate
canonical
coordinates
are
used
in
[Mzk5],
§9,
to
prove
a
weak
p-adic
Grothendieck
Conjecture-type
result
for
hyperbolic
curves
over
p-adic
ﬁelds
whose
Jacobians
have
ordinary
reduction,
the
techniques
of
the
present
§
may
be
applied
—
by
using
the
canonical
coordinates
of
[Mzk1]—
to
prove
a
similar
(but
in
some
sense
even
weaker)
p-adic
Grothendieck
Conjecture-type
result
for
hyperbolic
curves
over
absolutely
unramiﬁed
p-adic
ﬁelds
which
are
isomorphic
to
canonical
curves
(as
in
[Mzk1])
modulo
p2
.
Thus,
the
true
signiﬁcance
of
the
theory
of
the
present
§
lies
in
its
wide
applicability
in
the
canonical
lifting
case
(cf.
Corollary
3.8
below),
32
Shinichi
Mochizuki
a
feature
which
diﬀers
substantially
from
the
theory
in
the
case
of
ordinary
Jacobians
(cf.
Remark
1.1.1).
Deﬁnition
3.7.
Let
YL
be
a
hyperbolic
curve
over
a
ﬁnite
extension
L
of
Qp
.
Then
we
shall
say
that
YL
is
absolute
if
for
every
other
hyperbolic
curve
YL

over
a
ﬁnite
extension
L
of
Qp
,
π1
(YL
)
∼
=
π1
(YL

)
(as
proﬁnite
groups)
implies
that
YL

is
isomorphic
as
a
Qp
-scheme
to
YL
.
Also,
we
shall
refer
to
points
in
moduli
stacks
of
hyperbolic
curves
over
Qp
that
are
deﬁned
by
absolute
hyperbolic
curves
as
absolute.
Corollary
3.8.
(Application
of
p-adic
Teichmüller
Theory)
(i)
A
general
pointed
smooth
curve
(Xk
,
Dk
)
of
type
(g,
r),
where
2g
−
2
+
r
>
0,
over
a
ﬁnite
ﬁeld
k
of
characteristic
p
≥
5
may
be
lifted
to
a
pointed
smooth
curve
(XK
,
DK
)
over
the
quotient
ﬁeld
K
of
the
ring
of
Witt
vectors
A
=
W
(k)
such
that
the
hyperbolic
curve
XK
\DK
is
absolute.
(ii)
In
particular,
for
each
(g,
r),
p
≥
5,
there
exists
a
Zariski
dense
—
hence
(at
least
when
3g
−
3
+
r
≥
1)
inﬁnite
—
set
of
absolute
points,
valued
in
absolutely
unramiﬁed
ﬁnite
extensions
of
Qp
,
of
the
moduli
stack
of
hyperbolic
curves
of
type
(g,
r)
over
Qp
.
Proof.
Assertion
(i)
follows
formally
from
Theorem
3.6;
[Mzk7],
Lemmas
1.1.4,
1.1.5;
and
[Mzk7],
Proposition
1.2.1,
(v).
Assertion
(ii)
follows
formally
from
assertion
(i)
and
the
following
elementary
argument:
The
scheme-theoretic
closure
of
the
points
of
assertion
(i)
in
the
(compactiﬁed)
moduli
stack
over
Zp
forms
a
Zp
-ﬂat
proper
algebraic
stack
Z
with
the
property
that
Z
⊗
Fp
is
equal
to
the
entire
moduli
stack
over
Fp
,
hence
is
smooth
of
dimension
3g
−
3
+
r.
But
this
implies
—
by
Zp
-ﬂatness
—
that
Z
⊗Qp
is
also
of
dimension
3g
−3+r,
hence
equal
to
the
entire
moduli
stack
over
Qp
,
as
desired.

Canonical
Curves
33
Bibliography
Unpublished
RIMS
preprints
are
available
as
.ps
ﬁles
at:
http://www.kurims.kyoto-u.ac.jp/
∼kenkyubu/paper/all.html
[DM]
P.
Deligne
and
D.
Mumford,
The
Irreducibility
of
the
Moduli
Space
of
Curves
of
Given
Genus,
IHES
Publ.
Math.
36
(1969),
pp.
75-109.
[DO]
B.
Dwork
and
A.
Ogus,
Canonical
liftings
of
Jacobians,
Compositio
Math.
58
(1986),
pp.
111-131.
[Edix]
B.
Edixhoven,
On
the
André-Oort
conjecture
for
Hilbert
modular
surfaces,
Moduli
of
abelian
varieties
(Texel
Island,
1999),
Progr.
Math.
195,
Birkhäuser
(2001),
pp.
133-155.
[Falt]
G.
Faltings,
Crystalline
Cohomology
and
p-adic
Galois
Representations,
Proceedings
of
the
First
JAMI
Conference,
Johns
Hopkins
University
Press
(1990),
pp.
25-79.
[FC]
G.
Faltings
and
C.-L.
Chai,
Degenerations
of
Abelian
Varieties,
SpringerVerlag
(1990).
[Groth]
A.
Grothendieck,
Letter
to
G.
Faltings
(June
1983)
in
Lochak,
L.
Schneps,
Geometric
Galois
Actions;
1.
Around
Grothendieck’s
Esquisse
d’un
Programme,
London
Math.
Soc.
Lect.
Note
Ser.
242,
Cambridge
Univ.
Press
(1997).
[JO]
A.
J.
de
Jong
and
F.
Oort,
On
Extending
Families
of
Curves,
Journal
of
Alg.
Geom.
6
(1997),
pp.
545-562.
[Kato]
K.
Kato,
Logarithmic
Structures
of
Fontaine-Illusie,
Proceedings
of
the
First
JAMI
Conference,
Johns
Hopkins
University
Press
(1990),
pp.
191224.
[Knud]
F.
F.
Knudsen,
The
Projectivity
of
the
Moduli
Space
of
Stable
Curves,
II,
Math.
Scand.
52
(1983),
161-199.
[Mtmu]
H.
Matsumura,
Commutative
Algebra
(Second
Edition),
The
Benjamin/Cummings
Publishing
Company
(1980).
[Mess]
W.
Messing,
The
Crystals
Associated
to
Barsotti-Tate
Groups;
with
Applications
to
Abelian
Schemes,
Lecture
Notes
in
Mathematics
264,
SpringerVerlag
(1972).
[Mzk1]
S.
Mochizuki,
A
Theory
of
Ordinary
p-adic
Curves,
Publ.
of
RIMS
32
(1996),
pp.
957-1151.
[Mzk2]
S.
Mochizuki,
Foundations
of
p-adic
Teichmüller
Theory,
AMS/IP
Studies
in
Advanced
Mathematics
11,
American
Mathematical
Society/International
Press
(1999).
34
Shinichi
Mochizuki
[Mzk3]
S.
Mochizuki,
Correspondences
on
Hyperbolic
Curves,
Journ.
Pure
Appl.
Algebra
131
(1998),
pp.
227-244.
[Mzk4]
S.
Mochizuki,
The
Geometry
of
the
Compactiﬁcation
of
the
Hurwitz
Scheme,
Publ.
of
RIMS
31
(1995),
pp.
355-441.
[Mzk5]
S.
Mochizuki,
The
Proﬁnite
Grothendieck
Conjecture
for
Closed
Hyperbolic
Curves
over
Number
Fields,
J.
Math.
Sci.,
Univ.
Tokyo
3
(1996),
pp.
571-627.
[Mzk6]
S.
Mochizuki,
The
Local
Pro-p
Anabelian
Geometry
of
Curves,
Invent.
Math.
138
(1999),
pp.
319-423.
[Mzk7]
S.
Mochizuki,
The
Absolute
Anabelian
Geometry
of
Hyperbolic
Curves,
RIMS
Preprint
No.
1363
(June
2002).
[NTM]
H.
Nakamura,
A.
Tamagawa,
and
S.
Mochizuki,
The
Grothendieck
Conjecture
on
the
Fundamental
Groups
of
Algebraic
Curves,
Sugaku
Expositions
14
(2001),
pp.
31-53.
[OS]
F.
Oort
and
T.
Sekiguchi,
The
canonical
lifting
of
an
ordinary
Jacobian
variety
need
not
be
a
Jacobian
variety,
J.
Math.
Soc.
Japan
38
(1986),
pp.
427-437.
[SGA1]
Revêtement
étales
et
groupe
fondamental,
Séminaire
de
Géometrie
Algébrique
du
Bois
Marie
1960-1961
(SGA1),
dirigé
par
A.
Grothendieck,
augmenté
de
deux
exposés
de
M.
Raynaud,
Lecture
Notes
in
Mathematics
224,
Springer-Verlag
(1971).
[Take1]
K.
Takeuchi,
Arithmetic
Triangle
Groups,
Journ.
Math.
Soc.
Japan
29
(1977),
pp.
91-106.
[Take2]
K.
Takeuchi,
Arithmetic
Fuchsian
Groups
with
Signature
(1;
e),
Journ.
Math.
Soc.
Japan
35
(1983),
pp.
381-407.
[Tama]
A.
Tamagawa,
The
Grothendieck
Conjecture
for
Aﬃne
Curves,
Compositio
Math.
109
(1997),
pp.
135-194.
[Vala]
P.
Valabrega,
A
Few
Theorems
on
Completion
of
Excellent
Rings,
Nagoya
Math
J.
61
(1976),
pp.
127-133.
[Wiles]
A.
Wiles,
Modular
elliptic
curves
and
Fermat’s
last
theorem,
Ann.
of
Math.
141
(1995),
pp.
443-551.
Research
Institute
for
Mathematical
Sciences
Kyoto
University
Kyoto
606-8502,
JAPAN
