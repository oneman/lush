Resolution of Nonsingularities, Point-theoreticity,
and Metric-admissibility for p-adic Hyperbolic
Curves
Shinichi Mochizuki and Shota Tsujimura
June 16, 2023
Abstract
In this paper, we prove that arbitrary hyperbolic curves over p-adic local ﬁelds admit resolution of nonsingularities [“RNS”]. This result may be
regarded as a generalization of results concerning resolution of nonsingularities obtained by A. Tamagawa and E. Lepage. Moreover, by combining
our RNS result with techniques from combinatorial anabelian geometry,
we prove that an absolute version of the geometrically pro-Σ Grothendieck
Conjecture for arbitrary hyperbolic curves over p-adic local ﬁelds, where
Σ denotes a set of prime numbers of cardinality ≥ 2 that contains p,
holds. This settles one of the major open questions in anabelian geometry.
Furthermore, we prove — again by applying RNS and combinatorial anabelian geometry — that the various p-adic versions of the GrothendieckTeichmüller group that appear in the literature in fact coincide. As a
corollary, we conclude that the metrized Grothendieck-Teichmüller group
is commensurably terminal in the Grothendieck-Teichmüller group. This
settles a longstanding open question in combinatorial anabelian geometry.

Contents
Introduction

2

Notations and Conventions

11

1 Local construction of Artin-Schreier extensions in the special
ﬁber
15

2020 Mathematics Subject Classiﬁcation: Primary 14H30; Secondary 14H25.
Keywords and phrases: anabelian geometry; resolution of nonsingularities; absolute Grothendieck Conjecture; combinatorial anabelian geometry; Grothendieck-Teichmüller
group; étale fundamental group; tempered fundamental group; hyperbolic curve; conﬁguration
space.

1

2 Resolution of nonsingularities for arbitrary hyperbolic curves
over p-adic local ﬁelds
26
3 Point-theoreticity, metric-admissibility, and arithmetic cuspidalization
72
References

103

Introduction
Let p be a prime number; Σ a nonempty subset of the set Primes of prime
numbers. For a connected noetherian scheme S, we shall write ΠS for the étale
fundamental group of S, relative to a suitable choice of basepoint. For any ﬁeld
F of characteristic 0, any ﬁeld extension F ⊆ E, and any algebraic variety [i.e.,
a separated, geometrically integral scheme of ﬁnite type] Z over F , we shall
def

write ZE = Z ×F E and denote by F an algebraic closure [well-deﬁned up to
def

isomorphism] of F and by GF = Gal(F /F ) the absolute Galois group of F . For
any ﬁeld F of characteristic 0 and any algebraic variety Z over F , we shall write
(Σ) def

ΠZ

= ΠZ /Ker(ΠZF  ΠΣ
ZF ),

where ΠZF  ΠΣ
ZF denotes the maximal pro-Σ quotient. Here, we recall that
(Σ)

ΠZ is often referred to as the geometrically pro-Σ fundamental group of Z. We
shall write Qp for the ﬁeld of p-adic numbers; Cp for the p-adic completion of
Qp . We shall refer to a ﬁnite extension ﬁeld of Qp as a p-adic local ﬁeld. For
any hyperbolic curve Z over either the algebraic closure of a mixed characteristic complete discrete valuation ﬁeld of residue characteristic p or the p-adic
completion of such an algebraic closure, we shall write
Πtp
Z
for the Σ-tempered fundamental group of Z, relative to a suitable choice of basepoint [cf. the subsection in Notations and Conventions entitled “Fundamental
groups”]. If S1 , S2 are schemes, then we shall write
Isom(S1 , S2 )
for the set of isomorphisms of schemes between S1 and S2 . If G1 , G2 are proﬁnite
groups, then we shall write
OutIsom(G1 , G2 )
for the set of isomorphisms of proﬁnite groups, considered up to composition
with an inner automorphism arising from an element ∈ G2 .
In the present paper, we give a complete aﬃrmative answer to the following
question:
2

Does an arbitrary hyperbolic curve over a p-adic local ﬁeld admit
resolution of nonsingularities?
Before continuing, we review the notion of resolution of nonsingularities. Let
K (⊆ K) be a mixed characteristic complete discrete valuation ﬁeld of residue
characteristic p; v a valuation on a ﬁeld F that contains K. Write OK for the
ring of integers of K; Ov for the ring of integers determined by v; mv ⊆ Ov
for the maximal ideal of Ov . Then we shall say that v is a p-valuation [over
K] [cf. Deﬁnition 2.2, (i)] if OK = Ov ∩ K [which implies that p ∈ mv ]. Here,
the phrase “over K” will be omitted in situations where the base ﬁeld K is
ﬁxed throughout the discussion. We shall say that v is residue-transcendental
def
[cf. Deﬁnition 2.2, (i)] if it is a p-valuation whose residue ﬁeld kv = Ov /mv
is a transcendental extension of the residue ﬁeld of K. Let Z be a hyperbolic
curve over K. Then we shall say that Z satisﬁes Σ-RNS [i.e., “Σ-resolution
of nonsingularities” — cf. Deﬁnition 2.2, (vii); [Lpg1], Deﬁnition 2.1] if the
following condition holds:
Let v be a discrete residue-transcendental p-valuation on the function ﬁeld K(Z) of Z. Then there exists a connected geometrically
pro-Σ ﬁnite étale Galois covering Y → Z such that Y has stable
reduction [over its base ﬁeld], and v coincides with the restriction
[to K(Z)] of a discrete valuation on the function ﬁeld K(Y ) of Y
that arises from an irreducible component of the special ﬁber of the
stable model [cf. Deﬁnition 2.1, (vi)] of Y .
If Z is an OK -scheme, then we shall write Zs for the special ﬁber of Z [i.e.,
the ﬁber of Z over the closed point of Spec OK ]. Let Z be an OK -scheme. Then
[cf. Deﬁnition 2.1, (i), (ii), (iv)]:
(i) We shall say that Z is a compactiﬁed model of Z over OK if Z is a proper,
ﬂat, normal scheme over OK whose generic ﬁber is the [uniquely determined, up to unique isomorphism] smooth compactiﬁcation of Z over K.
(ii) Suppose that the cusps of Z are K-rational. Then we shall say that Z is
a compactiﬁed stable model of Z over OK if Z is a compactiﬁed model of
Z over OK such that the following conditions hold:
• the geometric special ﬁber of Z is a semistable curve [i.e., a reduced,
connected curve each of whose nonsmooth points is an ordinary double point];
• the images of the sections Spec OK → Z determined by the cusps of
Z [which we shall refer to as cusps of Z] lie in the smooth locus of Z
and do not intersect each other.
• Z, together with the cusps of Z, determines a pointed stable curve.
Then one veriﬁes immediately, by considering blow-ups of compactiﬁed models
at speciﬁed closed points [cf. also Remark 2.2.2; Proposition 2.4, (iii), (iv)],
that, if Σ is a set of cardinality ≥ 2 that contains p [cf. the situation discussed
3

in Theorem A below], then the condition of satisfying Σ-RNS discussed above
is in fact equivalent to the following property, which clariﬁes the meaning of
“resolution of nonsingularities”:
Let Z be a compactiﬁed model of Z over OK ; z ∈ Zs a closed point.
Then, after possibly replacing K by a suitable ﬁnite extension ﬁeld
of K, there exist
• a connected geometrically pro-Σ ﬁnite étale Galois covering
Y → Z of hyperbolic curves over K,
• a compactiﬁed stable model Y of Y over OK ,
• a morphism Y → Z of compactiﬁed models over OK that restricts to the ﬁnite étale Galois covering Y → Z,
• an irreducible component D of Ys whose normalization is of
genus ≥ 1, and whose image in Zs is z ∈ Zs .
This alternative formulation of the condition of satisfying Σ-RNS is useful
to keep in mind when considering the relationship between Theorem A below
and the following result due to A. Tamagawa [cf. [Tama2]], which played an
important role in motivating the following result due to E. Lepage [cf. [Lpg1]]:
• Suppose that Σ = Primes, that the residue ﬁeld of K is algebraic over the
ﬁnite ﬁeld of cardinality p, and that Z is the compactiﬁed stable model
of Z over OK . Then there exist a connected ﬁnite étale Galois covering
Y → Z and an irreducible component D of Ys as in the above alternative
formulation [cf. [Tama2], Theorem 0.2, (v)].
• Suppose that Σ = Primes, that K is a p-adic local ﬁeld, and that Z is a
hyperbolic Mumford curve over K. Then Z satisﬁes Σ-RNS [cf. [Lpg1],
Theorem 2.7].
Our ﬁrst main result may be regarded as a generalization of these results [cf.
Theorem 2.17]:
Theorem A (Resolution of nonsingularities for arbitrary hyperbolic
curves over p-adic local ﬁelds). Suppose that Σ ⊆ Primes is a subset of
cardinality ≥ 2 that contains p, and that K is a p-adic local ﬁeld. Let X be a
hyperbolic curve over K; L a mixed characteristic complete discrete valuation
ﬁeld of residue characteristic p that contains K as a topological subﬁeld. Then
XL satisﬁes Σ-RNS if and only if the residue ﬁeld of L is algebraic over the
ﬁnite ﬁeld of cardinality p.
In the remainder of the present Introduction, we discuss various anabelian
applications/consequences of Theorem A.
First, by applying a certain sophisticated version of the argument applied
in the proof of [Tsjm], Theorem 2.2, we obtain the following consequence of
Theorem A concerning the determination of closed points on arbitrary hyperbolic
curves via geometric tempered fundamental groups, which generalizes [Tsjm],
Theorem 2.2 [cf. Corollary 2.5, (ii), which in fact applies to hyperbolic curves
over more general p-adic ﬁelds; Remark 2.5.1]:
4

Theorem B (Determination of closed points on arbitrary p-adic hyperbolic curves by geometric tempered fundamental groups). Suppose
that Σ ⊆ Primes is a subset of cardinality ≥ 2 that contains p. Let X † , X ‡
 † → X †, X
 ‡ → X ‡ for the univerbe hyperbolic curves over Qp . Write X
, Πtp
, respectively. Let
sal geometrically pro-Σ coverings corresponding to Πtp
X†
X‡
x† ∈ X † (Cp ), x‡ ∈ X ‡ (Cp ). Write Xx†† (respectively, Xx‡‡ ) for the hyperbolic
curve XC† p \{x† } (respectively, XC‡ p \{x‡ }) over Cp . Let
∼

σ
 : Πtp†

→ Πtp‡

x

x

X †

X ‡

be an isomorphism of topological groups that ﬁts into a commutative diagram
∼

Πtp† −−−−→ Πtp‡
X †
X ‡
σ

⏐x
⏐x
⏐
⏐


∼

Πtp
−−−−→ Πtp
,
X†
X‡
σ

where the vertical arrows are the natural surjections [determined up to composition with an inner automorphism] induced by the natural open immersions
Xx†† → XC† p , Xx‡‡ → XC‡ p of hyperbolic curves; the lower horizontal arrow σ
is the isomorphism of topological groups [determined up to composition with
an inner automorphism] induced by a(n) [uniquely determined] isomorphism
∼
σX : X † → X ‡ of schemes over Qp . Then
x‡ = σX (x† ).
Next, we consider applications of Theorem A to Grothendieck Conjecturetype results in anabelian geometry. We begin by recalling the following question,
which may may be considered as an absolute version of the Grothendieck Conjecture for hyperbolic curves over p-adic local ﬁelds:
Let X † , X ‡ be hyperbolic curves over p-adic local ﬁelds. Then is the
natural map
Isom(X † , X ‡ ) −→ OutIsom(ΠX † , ΠX ‡ )
bijective?
This question may be regarded as one of the major open questions in anabelian
geometry. In this context, we recall that, in the case of the relative version of
the Grothendieck Conjecture for arbitrary hyperbolic curves, many satisfactory
results have been obtained [cf. [PrfGC], Theorem A; [Tama1], Theorem 0.4;
[LocAn], Theorem A]. In particular, the ﬁrst author of the present paper gave a
complete aﬃrmative answer to the original question posed by A. Grothendieck
[i.e., the original “Grothendieck Conjecture”] in quite substantial generality [cf.
[LocAn], Theorem A; [AnabTop], Theorem 4.12]. On the other hand, in the case
5

of the absolute version of the Grothendieck Conjecture for arbitrary hyperbolic
curves over p-adic local ﬁelds [i.e., the question of the above display], analogous
results had not been obtained previously, due to the existence of outer isomorphisms of the absolute Galois groups of p-adic local ﬁelds that do not arise from
isomorphisms of ﬁelds [cf., e.g., [NSW], the Closing Remark preceding Theorem
12.2.7]. In this direction, in some sense the strongest known result, prior to the
present paper, was the following result [cf. [AbsTopII], Corollary 2.9]:
Suppose that Σ ⊆ Primes is a subset of cardinality ≥ 2 that contains
p. Let X † , X ‡ be hyperbolic curves over p-adic local ﬁelds. Write
(Σ)

(Σ)

(Σ)

(Σ)

OutIsomD (ΠX † , ΠX ‡ ) ⊆ OutIsom(ΠX † , ΠX ‡ )
for the subset determined by the isomorphisms that induce bijections
between the respective sets of decomposition subgroups associated to
the closed points of X † and X ‡ . Then the natural map
Isom(X † , X ‡ ) −→ OutIsomD (ΠX † , ΠX ‡ )
(Σ)

(Σ)

is bijective.
Moreover, in [AbsTopII], [AbsTopIII], the ﬁrst author developed a technique,
called “Belyi cuspidalization”, that allows one to reconstruct the decomposition
subgroups associated to the closed points of strictly Belyi-type hyperbolic curves
and proved that an absolute version of the Grothendieck Conjecture holds for
such curves [cf. [AbsTopIII], Theorem 1.9].
In the present paper, we apply Theorem A, together with some combinatorial
anabelian geometry, to reconstruct the set of Cp -valued points of a hyperbolic
curve over Qp from its geometric tempered fundamental group [cf. Corollary
3.10, which in fact applies to hyperbolic curves over more general p-adic ﬁelds]:
Theorem C (Reconstruction of Cp -valued points via geometric tempered fundamental groups). Suppose that Σ ⊆ Primes is a subset of cardi →X
nality ≥ 2 that contains p. Let X be a hyperbolic curve over Qp . Write X
tp

may be
for the universal pro-Σ covering corresponding to ΠX [so Gal(X/X)
tp

identiﬁed with the pro-Σ completion of ΠX ]. Then the set X(Cp ) equipped

— hence also, by passing to the set of
with its natural action by Gal(X/X)

 p )  X(Cp ) — may be reconstructed,
Gal(X/X)-orbits,
the quotient set X(C
in a purely combinatorial/group-theoretic way and functorially with respect to
isomorphisms of topological groups, from the underlying topological group of Πtp
X.
Note that it follows immediately from Theorem C that, under the assumption that Σ ⊆ Primes is a subset of cardinality ≥ 2 that contains p, one
may reconstruct the set of closed points, hence also the set of associated decomposition subgroups, of a hyperbolic curve over a p-adic local ﬁeld, in a
purely combinatorial/group-theoretic way and functorially with respect to isomorphisms of topological groups, from its geometrically pro-Σ étale fundamental
group [cf. the proof of Theorem 3.11 for more details]. Here, it is also interesting
to observe that
6

this reconstruction of the set of decomposition subgroups associated to closed points from the geometrically pro-Σ étale fundamental group of a hyperbolic curve over a p-adic local ﬁeld may be
thought of as a sort of a weak version of the Section Conjecture.
In particular, by applying [AbsTopII], Corollary 2.9, together with some combinatorial anabelian geometry, we obtain a complete aﬃrmative answer to the
question considered above, i.e., an absolute version of the Grothendieck Conjecture for arbitrary hyperbolic curves, as well as for the conﬁguration spaces
associated to such hyperbolic curves, over p-adic local ﬁelds [cf. Theorems 3.12;
3.13]:
Theorem D (Absolute version of the Grothendieck Conjecture for
arbitrary hyperbolic curves over p-adic local ﬁelds). Suppose that Σ ⊆
Primes is a subset of cardinality ≥ 2 that contains p. Let X † , X ‡ be hyperbolic
curves over p-adic local ﬁelds. Then the natural map
Isom(X † , X ‡ ) −→ OutIsom(ΠX † , ΠX ‡ )
(Σ)

(Σ)

is bijective.
Theorem E (Absolute version of the Grothendieck Conjecture for conﬁguration spaces associated to arbitrary hyperbolic curves over p-adic
local ﬁelds). Let X † , X ‡ be hyperbolic curves over p-adic local ﬁelds; n† , n‡
positive integers. Write Xn† † (respectively, Xn‡ ‡ ) for the n† -th (respectively, n‡ th) conﬁguration space associated to X † (respectively, X ‡ ). Then the natural
map
Isom(Xn† † , Xn‡ ‡ ) −→ OutIsom(ΠX † , ΠX ‡ )
n†

n‡

is bijective.
In the context of the relationship between the theory developed in the present
paper and the Section Conjecture, it is of interest to note the following consequences of the theory underlying Theorem C [cf. Proposition 2.4, (vii); Proposition 3.5, (iii); Proposition 3.9, (iv) — all of which in fact apply to hyperbolic
curves over more general p-adic ﬁelds]:
Theorem F (Consequences related to the Section Conjecture over
p-adic ﬁelds). Suppose that Σ ⊆ Primes is a subset that contains p, and that
the residue ﬁeld of K is an algebraic extension of the ﬁnite ﬁeld of cardinality
p. Let l ∈ Σ \ {p}; H ⊆ GK a closed subgroup such that the intersection H ∩ IK
of H with the inertia subgroup IK of GK admits a surjection to [the proﬁnite
group] Zl . Write Ω for the p-adic completion of K; ΩH ⊆ Ω for the subﬁeld of
Ω ﬁxed by H. Then the following properties hold:
(i) Let X be a proper hyperbolic curve over K that is in fact deﬁned over
a p-adic local ﬁeld contained [in a fashion compatible with the respective
 → X a universal geometrically pro-Σ covering, sX :
topologies] in K, X
7

(Σ) def

H → ΠX = Gal(X/X)
a section of the restriction to H of the natural
(Σ)
 an for the topological pro-Berkovich space
surjection ΠX  GK . Write X
associated to [i.e., the inverse limit of the underlying topological spaces
 Then
of the Berkovich spaces associated to the ﬁnite subcoverings of ] X.
an

there exists at most one point ∈ X that is ﬁxed by the restriction, via
(Σ)
sX , to H of the natural action of ΠX on the topological pro-Berkovich
 an ; if, moreover, the restriction to H of the l-adic cyclotomic
space X
character of K has open image, then there exists a unique such point
 an . Finally, sX arises from an ΩH -rational point ∈ X(ΩH ) if and
∈ X
(Σ)
 an .
only if its image is a maximal stabilizer ⊆ ΠX ×GK H of a point ∈ X

(ii) Suppose that the restriction to H of the l-adic cyclotomic character
of K has open image. Let Y , Z be [not necessarily proper!] hyperbolic
curves over K that are in fact deﬁned over a p-adic local ﬁeld contained
[in a fashion compatible with the respective topologies] in K; Y → Y ,
Z → Z universal geometrically pro-Σ coverings of Y , Z, respectively;
(Σ) def
f : Y → Z a dominant morphism over K; sY : H → ΠY = Gal(Y /Y ),
(Σ) def

= Gal(X/X)
sections of the restrictions to H of the
sZ : H → Π
Z

(Σ)

(Σ)

respective natural surjections ΠY  GK , ΠZ  GK such that sY is
(Σ)
mapped, up to ΠZ -conjugation, by f to sZ via the map induced by f on
geometrically pro-Σ fundamental groups. Then sY arises from an ΩH rational point ∈ Y (ΩH ) if and only if sZ arises from an ΩH -rational point
∈ Z(ΩH ).
Here, we observe in passing that it follows immediately from Theorem F,
(ii) [i.e., as stated above], together with [BSC], Theorem 5.33, that a similar
result to the result stated in Theorem F, (ii), holds if the ﬁeld K is replaced by
a number ﬁeld, but [since global issues over number ﬁelds lie beyond the scope
of the present paper] we shall not discuss this in detail in the present paper.
Next, we recall that one of the key ingredients in the theory of p-adic arithmetic cuspidalizations developed in [Tsjm], §2, is Lepage’s resolution of nonsingularities [i.e., [Lpg1], Theorem 2.7], which may be regarded as a special case of
Theorem A. Our next result is obtained by applying this theory of p-adic arithmetic cuspidalizations [i.e., [Tsjm], §2], together with some elementary observations concerning the lengths of nodes of stable models of hyperbolic curves [cf.
Proposition 3.15], to prove that the various p-adic versions of the GrothendieckTeichmüller group that appear in the literature [cf. [Tsjm], Remark 2.1.2] in
fact coincide and are commensurably terminal in the Grothendieck-Teichmüller
group [cf. Theorem 3.16; Corollary 3.17]:
Theorem G (Equality and commensurable terminality of various p-adic
versions of the Grothendieck-Teichmüller group). Suppose that Σ =
def

Primes. Write X = P1Q \ {0, 1, ∞};
p

GT ⊆ Out(ΠX )
8

for the Grothendieck-Teichmüller group [cf. [CmbCsp], Remark 1.11.1];
GTM ⊆ GT (⊆ Out(ΠX ))
for the metrized Grothendieck-Teichmüller group [cf. [CbTpIII], Remark 3.19.2];
def

= GT ∩ Out(Πtp
GTtp
p
X ) ⊆ Out(ΠX )
[cf. the subsection in Notations and Conventions entitled “Fundamental groups”;
[Tsjm], Deﬁnition 2.1]. Then the natural inclusion
GTM ⊆ GTtp
p
of subgroups of GT is an equality. In particular, it holds that
GTM = GTp = GTG = GTtp
p
[cf. [Tsjm], Remark 2.1.2]. Moreover, GTM = GTp = GTG = GTtp
p is comM
mensurably terminal in GT, i.e., the commensurator CGT (GT ) of GTM in
GT is equal to GTM .
Note that the commensurable terminality in the ﬁnal portion of Theorem G
may be regarded as an aﬃrmative answer to the question posed in the discussion
immediately preceding Theorem E in [CbTpIII], Introduction.
Finally, we conclude with an interesting complement to the theory of p-adic
arithmetic cuspidalizations by applying Theorem C, together with the theory
of metric-admissibility developed in [CbTpIII], §3, to construct certain p-adic
arithmetic cuspidalizations of the geometric tempered fundamental group of a
hyperbolic curve over Qp equipped with certain relatively mild auxiliary data
[cf. Deﬁnition 3.19; Theorem 3.20; Remarks 3.20.1, 3.20.2].
The contents of the present paper may be summarized as follows:
In §1, we discuss in detail certain local computations — motivated by [Lpg1],
Proposition 2.4, but formulated entirely in the language of schemes and formal schemes, i.e., without resorting to the use of notions from the theory of
Berkovich spaces — concerning iterates of the p-th power morphism of the multiplicative group scheme Gm over the ring of integers of a mixed characteristic
discrete valuation ﬁeld of residue characteristic p. By restricting such morphisms to suitable formal neighborhoods, we conclude that smooth curves of
genus ≥ 1 appear in the special ﬁbers of suitable models of the domain curves
of such morphisms, i.e., as certain Artin-Schreier coverings of curves of genus 0
[cf. Proposition 1.6; Remark 1.6.2].
In §2, we begin by discussing various generalities concerning models of a
hyperbolic curve over a mixed characteristic complete discrete valuation ﬁeld
[cf. Deﬁnition 2.1; Proposition 2.3]. In particular, we discuss the deﬁnition of
the notion of Σ-RNS [cf. Deﬁnition 2.2, (vii)], together with closely related basic
properties of this notion [cf. Propositions 2.4; Corollary 2.5]. Another important
9

notion in this context is the purely combinatorial notion of VE-chains associated
to a hyperbolic curve over a mixed characteristic complete discrete valuation
ﬁeld [cf. Deﬁnition 2.2, (iii)]. This notion is closely related to the topological
Berkovich space associated to the hyperbolic curve [cf. Proposition 2.3, (vii),
(viii)]. Finally, we apply certain constructions involving p-divisible groups to
extend the Artin-Schreier coverings constructed locally in §1 to coverings of an
arbitrary hyperbolic curve over a p-adic local ﬁeld [cf. Propositions 2.12, 2.13;
Theorem 2.16]. This leads naturally to a proof of Theorem A [cf. Theorem 2.17],
hence also, by combining Theorem A with the theory of VE-chains developed in
the earlier portion of §2, together with some combinatorial anabelian geometry,
of Theorem B.
In §3, we begin by recalling the well-known classiﬁcation of the points of
the topological Berkovich space associated to a proper hyperbolic curve over a
mixed characteristic complete discrete valuation ﬁeld via the notion of type i
points, where i ∈ {1, 2, 3, 4}. Next, we introduce a certain combinatorial classiﬁcation of the VE-chains considered in §2 and observe that this classiﬁcation
of VE-chains leads naturally to a purely combinatorial characterization of the
well-known classiﬁcation via type i points mentioned above. We then apply the
theory of §2 to give a group-theoretic characterization, motivated by [but by no
means identical to] the characterization of [Lpg2], §4, of the type i points in
terms of the geometric Σ-tempered fundamental group of the hyperbolic curve.
The theory surrounding this group-theoretic characterization leads naturally
to proofs of Theorems C and F. Moreover, by combining this group-theoretic
characterization with [AbsTopII], Corollary 2.9; [HMM], Theorem A, we obtain
proofs of Theorems D and E [cf. Theorems 3.12; 3.13]. We then switch gears
to discuss metric-admissibility for p-adic hyperbolic curves. This discussion
of metric-admissibility yields, in particular, a proof of Theorem G and leads
naturally to the discussion of p-adic arithmetic cuspidalizations associated to
geometric tempered fundamental groups equipped with certain relatively mild
auxiliary data [cf. Deﬁnition 3.19; Theorem 3.20; Remarks 3.20.1, 3.20.2] mentioned above.

Acknowledgements
This research was supported by the Research Institute for Mathematical Sciences, an International Joint Usage/Research Center located in Kyoto University, as well as the International Center for Research in Next Generation Geometry.

10

Notations and Conventions
Numbers:
The notation Primes will be used to denote the set of prime numbers. The
notation N will be used to denote the set of nonnegative integers. The notation
Q≥0 will be used to denote the additive monoid of nonnegative rational numbers.
The notation Z will be used to denote the additive group or ring of integers. The
notation Q will be used to denote the ﬁeld of rational numbers. The notation
R will be used to denote the ﬁeld of real numbers. For each x ∈ R, the notation
x will be used to denote the greatest integer ≤ x. If p is a prime number,
then the notation Qp will be used to denote the ﬁeld of p-adic numbers; the
notation Zp will be used to denote the additive group or ring of p-adic integers;
the notation Qp will be used to denote an algebraic closure of Qp ; the notation
Cp will be used to denote the p-adic completion of Qp . We shall refer to a ﬁnite
extension ﬁeld of Qp as a p-adic local ﬁeld.
Monoids:
Let M be a commutative monoid. In this subsection, we regard the set
of positive integers N≥1 as a directed set via its multiplicative structure, i.e.,
def

i ≤ j ⇔ i | j. For i ∈ N≥1 , write Mi = M . For i, j ∈ N≥1 such that
i ≤ j, write φi,j : Mi → Mj for the homomorphism of monoids obtained by
multiplication by ji . Then we shall refer to the inductive limit of the inductive
system {Mi , φi,j } on the directed set N≥1 as the perfection of M .
Rings and ﬁelds:
Let R be a ring. Then we shall write R× for the multiplicative group of
units of the ring.
Let F be a perfect ﬁeld, p a prime number. Then the notation F will be
def
used to denote an algebraic closure of F ; GF = Gal(F /F ).
Suppose that F is a valuation ﬁeld, i.e., a ﬁeld equipped with a valuation
map [cf., e.g., the axioms of [EP], Eq. (2.1.2)]. Then we shall write OF for the
ring of integers of F ; mF for the maximal ideal of OF . Thus, the valuation map
on F induces an isomorphism of ordered abelian groups between F × /OF× and
the value group of the valuation ﬁeld F . In particular, any valuation map on
the ﬁeld F is determined, up to unique isomorphism [in the evident sense], by
the ring of integers ⊆ F associated to the valuation map. In the present paper,
we shall use the term valuation to refer to an isomorphism class of
valuation maps on a ﬁeld F , i.e., the collection of valuation maps
that give rise to the same ring of integers ⊆ F .
We shall refer to a speciﬁc valuation map within a given isomorphism class of
valuation maps on a ﬁeld as a normalized valuation, i.e., an isomorphism class of
valuation maps on the ﬁeld, together with a speciﬁc valuation map [belonging to
this class], which we shall refer to as a normalization. If the value group of the

11

valuation ﬁeld F is isomorphic, as an ordered abelian group, to a subgroup of
the underlying additive group of R, then we shall say that F is a real valuation
ﬁeld. If F is a mixed characteristic real valuation ﬁeld of residue characteristic
p, then the notation vp will be used to denote the normalized valuation on F
whose normalization is determined by the condition that vp (p) = 1 ∈ R. If F is
a henselian valuation ﬁeld of characteristic 0, then we shall write IF ⊆ GF for
the inertia subgroup; F ⊆ F ur (⊆ F ) for the maximal unramiﬁed extension. If
F is a real henselian valuation ﬁeld of characteristic 0, then we shall write F ur
for the completion of F ur [cf. Remark 2.2.4 for more details].
Topological groups:
Let G be a topological group; H ⊆ G a closed subgroup of G. Then we shall
write Gab for the abelianization of G; CG (H) for the commensurator of H ⊆ G,
i.e.,
def

CG (H) = {g ∈ G | H ∩ g · H · g −1 is of ﬁnite index in H and g · H · g −1 }.
We shall say that the closed subgroup H is commensurably terminal in G if
H = CG (H). Let Σ ⊆ Primes be a nonempty subset. Then we shall write GΣ
for the pro-Σ completion of G.
We shall write Aut(G) for the group of continuous automorphisms of the
topological group G, Inn(G) ⊆ Aut(G) for the subgroup of inner automorphisms
def

of G, and Out(G) = Aut(G)/Inn(G). Suppose that G is center-free. Then we
have a natural exact sequence of groups
∼

1 −→ G (→ Inn(G)) −→ Aut(G) −→ Out(G) −→ 1.
If J is a group, and ρ : J → Out(G) is a homomorphism, then we shall denote
by
out

G  J
the group obtained by pulling back the above exact sequence of groups via ρ.
Thus, we have a natural exact sequence of groups
out

1 −→ G −→ G  J −→ J −→ 1.
Suppose further that the topology of G admits a countable basis consisting of
characteristic open subgroups of G. Then one veriﬁes immediately that the
topology of G induces a natural topology on the group Aut(G), hence on the
group Out(G). In particular, one veriﬁes easily that if J is a topological group,
out

and ρ : J → Out(G) is continuous, then G  J admits a natural topological
group structure.
Let G1 , G2 be proﬁnite groups. Then we shall write
OutIsom(G1 , G2 )

12

for the set of isomorphisms of proﬁnite groups, considered up to composition
with an inner automorphism arising from an element ∈ G2 .
Semi-graphs:
Let Γ be a connected semi-graph [cf. [SemiAn], §1]. Then we shall refer to
the dimension over Q of the ﬁrst homology module of Γ [with coeﬃcients in Q]
H1 (Γ, Q) as the loop-rank of Γ. We shall say that Γ is untangled if every closed
edge of Γ abuts to two distinct vertices.
Schemes:
Let K be a ﬁeld; K ⊆ L a ﬁeld extension; X an algebraic variety [i.e., a
separated, geometrically integral scheme of ﬁnite type] over K. Then we shall
def

write XL = X ×K L. Suppose that X is a smooth proper curve [i.e., a smooth,
proper algebraic variety of dimension 1] over K. Then we shall write J(X) for
the Jacobian of X. Let p be a prime number; A a semi-abelian variety or a
p-divisible group over K. Then we shall write Tp A for the p-adic Tate module
associated to [the p-power torsion points valued in some ﬁxed algebraic closure
of K of] A. Suppose that K is a valuation ﬁeld. Let X be an OK -scheme. Then
we shall write Xs for the special ﬁber of X [i.e., the ﬁber of X over the closed
point of Spec OK ].
Let S1 , S2 be schemes. Then we shall write
Isom(S1 , S2 )
for the set of isomorphisms of schemes between S1 and S2 .
Curves:
We shall use the term “hyperbolic curve” [i.e., a family of hyperbolic curves
over the spectrum of a ﬁeld] as deﬁned in [MT], §0. We shall use the term “n-th
conﬁguration space” as deﬁned in [MT], Deﬁnition 2.1, (i).
Log schemes:
If X log is a ﬁne log scheme, then we shall write
• X for the underlying scheme of X log ;
• MX for the étale sheaf of monoids on X that deﬁnes the log structure of
X log ;
×
, which we shall refer to as the characteristic of X log [cf.
• MX = MX /OX
[MT], Deﬁnition 5.1, (i)].
def

Let K be a complete discrete valuation ﬁeld; Y a hyperbolic curve over K; Y a
def
compactiﬁed semistable model of Y over OK [cf. Deﬁnition 2.1, (ii)]. Write S =
Spec OK ; S log for the log scheme determined by the log structure associated
to the closed point of S. Then it follows immediately from [Hur], §3.7, §3.8,
13

that the multiplicative monoid of sections of OY that are invertible on [the
open subscheme of Y determined by] Y determines a natural log structure on
Y. Denote the resulting log scheme by Y log . Then one veriﬁes immediately
that the natural morphism of schemes Y → S extends to a a proper, log smooth
morphism Y log → S log of ﬁne log schemes. Let y be a geometric point of Ys .
Write Mypf for the perfection of the stalk of the characteristic MY at y. Then
one veriﬁes immediately that, if the image of y in Ys is a smooth point that is
not a cusp (respectively, a cusp; a node), then
∼

∼

∼

Mypf → Q≥0 (respectively, Mypf → Q≥0 × Q≥0 ; Mypf → Q≥0 × Q≥0 ).

Fundamental groups:
For a connected noetherian scheme S, we shall write ΠS for the étale fundamental group of S, relative to a suitable choice of basepoint. Let Σ ⊆ Primes
be a nonempty subset; K a perfect ﬁeld; X an algebraic variety over K. Then
we shall write
def

ΔX = ΠX K ;

(Σ) def

ΠX

= ΠX /Ker(ΔX  ΔΣ
X ),

Σ
where ΔX  ΔΣ
X denotes the natural surjection. We shall refer to ΔX (respec(Σ)
tively, ΠX ) as the geometric pro-Σ fundamental group (respectively, geometrically pro-Σ fundamental group) of X.
Let p be a prime number, Σ ⊆ Primes a nonempty subset. Suppose that K is
a mixed characteristic complete discrete valuation ﬁeld of residue characteristic
p. Write Ω for the p-adic completion of K. Let F be one of the [topological]
ﬁelds K, K, and Ω; X a hyperbolic curve over F . If F = Ω, then we shall write

Πtp
X
for the Σ-tempered fundamental group of X, i.e., in the terminology of [CbTpIII],
Deﬁnition 3.1, (ii), the “Σ-tempered fundamental group” of the smooth log curve
over F determined by X [where we note that one veriﬁes immediately that the
∧
ﬁeld “ K ” of loc. cit. may be taken to to be the ﬁeld F = Ω of the present
discussion, and that the discussion of loc. cit. may be applied to the situation of
the present discussion even if the X of the present discussion does not descend
to the ﬁeld “ K” of loc. cit.]. Here, we recall that, when F = Ω, it follows
immediately from [André], Proposition 4.3.1 [and the surrounding discussion],
that the universal topological coverings of ﬁnite coverings corresponding to characteristic open subgroups of Πtp
X of ﬁnite index determine a countable collection
tp
of characteristic open subgroups of Πtp
X that form a basis of the topology of ΠX ,
tp
hence determine a natural topology on Out(ΠX ). Thus, if F = K, then we
obtain a natural continuous outer action
GK

Out(Πtp
XΩ )

−→
14

and hence, since Πtp
XΩ is center-free [cf., e.g., [CbTpIII], Proposition 3.3, (i), (ii);
[MT], Proposition 1.4], a topological group
Πtp
X

def

=

out

Πtp
X Ω  GK ,

which we refer to as the geometrically Σ-tempered fundamental group of X.
Moreover, if F = K, then Πtp
X is equipped with a natural continuous surjection
tp
ΠX  GK , whose kernel [which in fact may be naturally identiﬁed with Πtp
XΩ ] we
def

= Πtp
denote by ΔΣ-tp
X
XΩ and refer to as the geometric Σ-tempered fundamental
group of X. If F = K, then, after possibly replacing K by a ﬁnite extension of
K, we may assume that X descends to a hyperbolic curve XK over K [so that
X may be naturally identiﬁed with “(XK )K ”], and we shall refer to
Πtp
X

def

=

Πtp
XΩ

as the Σ-tempered fundamental group of X. Finally, we note that, in the case
where F = K, it follows immediately from [CanLift], Proposition 2.3, (ii) [cf.
also [CbTpIII], Proposition 3.3, (i)], together with the deﬁnition of the Σtp
tempered fundamental group, that the pro-Σ completion of Πtp
X = ΠXΩ may
be naturally identiﬁed, for suitable choices of basepoints, with the geometric
pro-Σ fundamental group ΔΣ
X of X.

1

Local construction of Artin-Schreier extensions
in the special ﬁber

Let p be a prime number. In the present section, we perform various local
computations concerning iterates of the p-th power morphism of the multiplicative group scheme Gm over the ring of integers of a mixed characteristic discrete
valuation ﬁeld of residue characteristic p. As a consequence, by restricting such
morphisms to suitable formal neighborhoods, we conclude that smooth curves
of genus ≥ 1 appear in the special ﬁbers of suitable models of the domain curves
of such morphisms [cf. Proposition 1.6; Remark 1.6.2]. This observation will be
applied in §2 to prove that arbitrary hyperbolic curves over p-adic local ﬁelds admit resolution of nonsingularities. The contents of this section may be regarded
as an alternative and somewhat more detailed discussion of [Lpg1], Proposition
2.4, that is phrased entirely in the language of schemes and formal schemes and
does not resort to the use of Berkovich spaces.
First, we begin with several elementary lemmas concerning the p-adic valuations of the coeﬃcients of certain polynomials and power series [cf. Lemmas
1.1, 1.2, 1.3].

15

Lemma 1.1. Let K be a mixed characteristic discrete valuation ﬁeld of residue
characteristic p. Suppose that K contains a primitive p-th root of unity ζp ∈ K.
def

Write π = 1 − ζp ∈ K;


def
f (x) = π −p (1 + πx)p − 1 ∈ K[x],
where x denotes an indeterminate. Then it holds that
f (x) − (xp − x) ∈ mK [x] ⊆ OK [x].
def

Proof. First, write c = p + (−π)p−1 . Then since π = 1 − ζp ∈ K, it holds that
c = p + (−π)p−1 = p + (−π)p−1 + π −1 ((1 − π)p − 1).
Observe that these equalities imply that vp (c) > 1. In particular, it holds that
vp (p + (−π)p−1 ) > 1, hence that vp (p + π p−1 ) > 1.
Next, observe that, if we write

f (x) =
ai xi ∈ K[x],
1≤i≤p

then since vp (p) = 1 = vp (π p−1 ), and vp (p + π p−1 ) > 1, it holds that
a1 =

p
,
π p−1

ap = 1,

vp (a1 + 1) > 0,

vp (ai ) > 0

(∀i = 1, p).

Thus, we conclude that f (x) − (xp − x) ∈ mK [x]. This completes the proof of
Lemma 1.1.

Lemma 1.2. Let K be a mixed characteristic discrete valuation ﬁeld of residue
characteristic p; n a positive integer. Write

qi xi ∈ K[[x]]
f (x) = 1 +
i≥1

— where x denotes an indeterminate — for the n-th root of 1+x ∈ K[[x]] whose
constant term is equal to 1. Then it holds that
vp (q1 ) = −vp (n),

vp (qi ) ≥ −ivp (n) − vp (i!) ≥ −i vp (n) +

1
p−1

(∀i ≥ 2)

i
[cf. the well-known elementary fact that vp (i!) ≤ p−1
]. If, moreover, n is prime
to p, then vp (qi ) ≥ 0 for each positive integer i.
1

Proof. First, we observe, by considering the Taylor expansion of (1 + x) n at 0,
that
1
1
−k
qi =
i!
n
0≤k≤i−1

16

for each positive integer i. The equality and inequalities of the second display
of the statement of Lemma 1.2 follow immediately.
Next, suppose that n is prime to p. For each positive integer m, write
def
Qm ⊆ K for the OK -subalgebra generated by {qj }1≤j≤m−1 . Write Q0 = OK .
Then, by comparing the coeﬃcients of xm in the left- and right-hand sides of
the equality
n

1+
qi xi
= 1 + x,
i≥1

we conclude that nqm ∈ Qm−1 . In particular, since n is prime to p, it holds that
qm ∈ Qm−1 . Thus, by induction, we conclude that qi ∈ OK for each positive
integer i. This completes the proof of Lemma 1.2.

Lemma 1.3. Let K be a mixed characteristic discrete valuation ﬁeld of residue
characteristic p; n a positive integer;

ai si ∈ OK [[s]] \ {1},
g(s) = 1 +
i≥1

where s denotes an indeterminate. Write i0 for the smallest positive integer
i such that ai = 0; 0s for the OK -valued point of Spec OK [[s]] obtained by
mapping s → 0. Then the following hold:
(i) Suppose that vp (ai ) ≥ 2vp (n) for each i ≥ 1. Then g(s) admits an n-th
root

1+
bi si ∈ OK [[s]].
i≥1
1
(ii) Suppose that there exists an element x ∈ OK such that vp (x) = 3i0 (p−1)
.
Then there exist

• a positive integer j,
2
≤
• an element b ∈ OK satisfying the inequalities vp (b) ≥ 1 and 3(p−1)
1
vp (b) − vp (b) < p−1 , and
∼

• an isomorphism h : OK [[s]] → OK [[s]] of topological OK -algebras
such that h maps 0s → 0s and h(g(xj s)) = 1 + bsi0 .
(iii) Suppose that g(s) = 1+ai0 si0 , where ai0 satisﬁes the inequalities vp (ai0 ) ≥
def

1
2
1 and 3(p−1)
≤ vp (ai0 ) − vp (ai0 ) < p−1
. Write μ = vp (ai0 ) − 1 ≥ 0.
μ
Then g(s) admits a p -th root

1
ci0 i si0 i ∈ OK [[s]],
g(s) pμ = 1 +
i≥1



p
2
2
≤ vp (ci0 ) < p−1
, vp (c2i0 ) ≥ 2 1 + 3(p−1)
− 1, and
where 1 + 3(p−1)


1
vp (ci0 i ) ≥ i 1 − 3(p−1) for each positive integer i > 2.
17

(iv) In the notation of (iii), suppose that K contains a primitive p-th root of
unity ζp ∈ K and an element c ∈ K such that
c i0 =

πp
,
c i0

def

p
where we write π = 1 − ζp . [Note that since vp (ci0 ) < p−1
, it holds that
vp (c) > 0.] Write



1

di0 i si0 i = π −p (g(cs) pm − 1) ∈ K[[s]].
def

i≥1
p
, vp (d2i0 ) >
Then it holds that di0 = 1, vp (di0 ) = 0 > vp (ci0 ) − p−1
p
2i0
sup{vp (c ) − p−1 , 0}, and

vp (di0 i ) > i · sup

1−

1
p
, vp (ci0 ) −
≥0
3(p − 1)
p−1

for each positive integer i > 2. Moreover,
vp (di0 i ) > vp (ci0 i )
for each suﬃciently large positive integer i.
Proof. First, we verify assertion (i). Note that g(s) admits an n-th root

1+
bi si ∈ K[[s]].
i≥1

Thus, it suﬃces to verify that vp (bi ) ≥ 0 for each positive integer i. Note that
1
if vp (n) ≥ 1 (≥ p−1
), then
2ivp (n) − i vp (n) +

1
p−1

≥ 0.


Thus, by applying Lemma 1.2 [where we take “x” to be the element i≥1 ai si ],
together with our assumption that vp (ai ) ≥ 2vp (n) for each positive integer i,
we conclude that vp (bi ) ≥ 0 for each positive integer i. This completes the proof
of assertion (i).
Next, we verify assertion (ii). Fix an element x ∈ OK such that vp (x) =
def ij
1
3i0 (p−1) . For each pair of positive integers (i, j), write bi,j = x ai . Note that it

follows immediately from our assumption on vp (x) [i.e., by thinking of the real
1
line R modulo integral multiples of 3(p−1)
= i0 vp (x)] that there exists a positive
integer j such that
• vp (bi0 ,j ) ≥ 1,
2
1
• 3(p−1)
≤ vp (bi0 ,j ) − vp (bi0 ,j ) < p−1
, and

18

• vp (bi,j ) ≥ vp (bi0 ,j ) + 2vp (i0 ) for each positive integer i > i0 .
def

Fix such a positive integer j and write b = bi0 ,j . Then the existence of an
∼
isomorphism h : OK [[s]] → OK [[s]] of topological OK -algebras such that h
maps 0s → 0s and h(g(xj s)) = 1 + bsi0 follows immediately from Lemma 1.3,
(i), where we take “n” to be i0 and “g(s)” to be
g † (s) = b−1 s−i0 (g(xj s) − 1)
def

1

def

[so g(xj s) = 1+bsi0 g † (s)]. [That is to say, h is deﬁned by taking h(s(g † (s)) n ) =
1
s, where “(g † (s)) n ” denotes the n-th root of Lemma 1.3, (i).] This completes
the proof of assertion (ii).
Assertion (iii) follows immediately from Lemma 1.2 [applied to x = ai0 si0 ],
together with the elementary fact that vp (i!) ≤ 1 for i = 2.
Finally, we verify assertion (iv). It follows immediately from the various
deﬁnitions involved that
p(i−1)
di0 i = ci0 i c−i
.
i0 π
1
In particular, it holds that di0 = 1. Moreover, since vp (π) = p−1
, and vp (ci0 ) <
p
[cf.
Lemma
1.3,
(iii)],
it
holds
that
p−1

vp (di0 i ) = vp (ci0 i ) − ivp (ci0 ) +

p(i − 1)
p
> vp (ci0 i ) −
.
p−1
p−1

Suppose that i = 2 (respectively, i ≥ 3). Then it follows immediately from
Lemma 1.3, (iii), that
vp (ci0 i ) −

2
p
≥2 1+
p−1
3(p − 1)

−1−

p
1
=
>0
p−1
3(p − 1)

(respectively,
vp (ci0 i )−

1
1
2p − 4
p
p
p
≥ i 1−
≥ 3 1−
=
≥ 0).
−
−
p−1
3(p − 1)
p−1
3(p − 1)
p−1
p−1

Thus, we conclude that vp (d2i0 ) > 0, and
vp (di0 i ) > i 1 −

1
3(p − 1)

−

p
≥0
p−1

for each positive integer i > 2. The remainder of assertion (iv) follows immediately from the inequalities already obtained, together with the inequalities
p
1
1
p
> inf 1 −
,
+
p−1
3(p − 1) 2 · 3(p − 1) 2(p − 1)
p
2
1
=
− 1+
>
3(p − 1)
p−1
3(p − 1)
≥ vp (ci0 )
[cf. Lemma 1.3, (iii)]. This completes the proof of assertion (iv), hence of
Lemma 1.3.
19

Deﬁnition 1.4. Let K be a mixed characteristic discrete valuation ﬁeld of
residue characteristic p; c ∈ mK \ {0}. Then we shall write
φc : Bc −→ Spec OK [[t]]
— where t denotes an indeterminate — for the blow-up of Spec OK [[t]] with
center given by the closed subscheme deﬁned by the ideal (c, t); bc ∈ Bc for the
generic point of the exceptional irreducible component of the special ﬁber of Bc
[i.e., the ﬁber of Bc over the closed point of Spec OK ];
Uc = Spec OK [[t]][sc ]/(csc − t) ⊆ Bc
— where sc denotes an indeterminate, but, by a slight abuse of notation, we shall
also use the notation “sc ” to denote the element of Γ(Uc , OUc ) determined by the
indeterminate “sc ”— for the open subscheme obtained by removing the strict
transform of the special ﬁber of Spec OK [[t]]. Note that it follows immediately
from the various deﬁnitions involved that φc induces a morphism
c def
= Spec OK [[sc ]] −→ Spec OK [[t]]
φc : U
over OK that maps t to csc .

Proposition 1.5 (Local construction of Artin-Schreier extensions in
the special ﬁber I). We maintain the notation of Deﬁnition 1.4. Suppose
that K contains a primitive p-th root of unity ζp ∈ K. Write k for the residue
def

ﬁeld of K; π = 1 − ζp ∈ K;
f : Spec OK [[t]] −→ Spec OK [[t]]
for the [manifestly] ﬁnite ﬂat morphism over OK corresponding to the homomorphism of topological OK -algebras that maps t → (1+t)p −1. Then f induces
a ﬁnite morphism
f˜ : Bπ −→ Bπp
over OK that maps bπ → bπp and induces a ﬁnite ﬂat morphism Uπ → Uπp ,
whose induced morphism on special ﬁbers is the morphism induced on spectra
by the injective homomorphism
k[sπp ] −→ k[sπ ]
over k that maps sπp → spπ − sπ .
Proof. First, observe that we have inclusions of ideals in OK [[t]]
2

(π, t)p +p ⊆ (π p , (1 + t)p − 1) ⊆ (π, t).
Indeed, the inclusion (π p , (1 + t)p − 1) ⊆ (π, t) is immediate. Next, we verify the
2

def

inclusion (π, t)p +p ⊆ (π p , (1 + t)p − 1). Write t̃ = (1 + t)p − 1. Then it holds
20

2

2

2

that t̃p ∈ tp + (p2 ) ⊆ tp + (π p ). In particular, it holds that tp ∈ (t̃p , π p ) ⊆
2
(π p , t̃). Thus, we conclude that π i tp +p−i ∈ (π p , t̃) for each integer i such that
2
0 ≤ i ≤ p2 + p, hence that (π, t)p +p ⊆ (π p , (1 + t)p − 1). This completes the
proof of the observation.
The observation of the preceding paragraph, together with Lemma 1.1, implies, by the deﬁnition of the blow-up, that the morphism f functorially induces
a [proper and quasi-ﬁnite, hence] ﬁnite morphism f˜ : Bπ → Bπp over OK ,
which, in turn, induces a [manifestly] ﬁnite ﬂat morphism
Uπ −→ Uπp
over OK such that
t → (1 + t)p − 1,



sπp → π −p (1 + πsπ )p − 1

[cf. Lemma 1.1]. Indeed, it follows from Lemma 1.1 that this morphism Uπ →
Uπp determines a dominant morphism
Spec k[sπ ] −→ Spec k[sπp ]
[between open subschemes of the respective exceptional irreducible components
of the special ﬁbers of Bπ , Bπp ] that corresponds to the injective homomorphism
k[sπp ] −→ k[sπ ]
over k that maps sπp → spπ − sπ . This completes the proof of Proposition
1.5.
Remark 1.5.1. In the notation of Proposition 1.5, write Gm = Spec OK [u, u1 ] for
the multiplicative group scheme over OK , where u denotes an indeterminate;
ι : Spec OK [[t]] −→ Gm
for the morphism that corresponds to the homomorphism over OK that maps
u → 1 + t. Then we have a commutative diagram
Uπ
⏐
⏐
f˜|Uπ 

−−−−→ Spec OK [[t]] −−−−→ Gm
ι
φ π |U π
⏐
⏐
⏐
⏐
p
f

Uπp −−−−−→ Spec OK [[t]] −−−−→ Gm ,
φ π p |U π p

ι

where the right-hand vertical arrow denotes the p-th power morphism; the vertical arrows are ﬁnite ﬂat morphisms of degree p [cf. Proposition 1.5]; the second
square is cartesian; the ﬁrst square is cartesian, up to taking the normalization
of the ﬁber product that would make the ﬁrst square “truly cartesian”.

21

Proposition 1.6 (Local construction of Artin-Schreier extensions in
the special ﬁber II). We maintain the notation of Remark 1.5.1. Let

ai ti ∈ OK [[t]] \ {1}.
g(t) = 1 +
i≥1

Write i0 for the smallest positive integer i such that ai = 0;
λg : Spec OK [[t]] −→ Spec OK [[t]]
for the morphism over OK corresponding to the homomorphism of topological
OK -algebras that maps t → g(t) − 1. Then the following hold:
(i) After possibly replacing K by a suitable ﬁnite ﬁeld extension of K, there
exist a positive integer μ, elements c1 , c2 ∈ mK \ {0}, an isomorphism
∼

λh : Spec OK [[sc1 ]] → Spec OK [[sc1 ]]
over OK , and a morphism
ξg : Spec OK [[sc1 ]] −→ Gm
over OK satisfying the following conditions:
• Write 0c1 for the OK -valued point of Spec OK [[sc1 ]] obtained by mapping sc1 → 0. Then λh maps 0c1 → 0c1 , and ξg maps 0c1 to the
identity element of Gm (OK ).
• There exists a commutative diagram
Spec OK [[sc1 ]] −−−−→ Spec OK [[t]] −−−−→ Spec OK [[t]]
c
φ
1


⏐
λh ⏐ 

λg

⏐
⏐

ι

Spec OK [[sc1 ]] −−−−→
ξg

Gm

−−−μ−→
p

Gm ,

where the right-hand lower horizontal arrow denotes the pμ -th power
morphism.
• Write

∼

τ : Spec OK [[t]] → Spec OK [[sc1 ]]

for the isomorphism over OK corresponding to the isomorphism of
topological OK -algebras that maps sc1 → t;
η(sc2 ) ∈ OK [[sc2 ]]
for the image of u via the homomorphism OK [u, u1 ] → OK [[sc2 ]] induced by the composite
∼

Spec OK [[sc2 ]] −→ Spec OK [[t]] −→ Spec OK [[sc1 ]] −→ Gm .
c
φ
2

τ

22

ξg

Then it holds that η(sc2 ) − 1 ∈ mK [[c2 sc2 ]], and, moreover,
π −p (η(sc2 ) − 1) − sic02 ∈ mK [sc2 ] + mK [[c2 sc2 ]] = mK [sc2 ] + mK [[t]].
In particular, there exists a morphism
θg : Uc2 −→ Uπp
over OK that ﬁts into the following commutative diagram
∼

Uc2 −−−−−→ Spec OK [[t]] −−−−→ Spec OK [[sc1 ]]
τ
φ c 2 |U c
2
⏐
⏐
⏐
⏐
θg 
ξg 
Uπp −−−−−→ Spec OK [[t]] −−−−→
φ π p |U π p

ι

Gm .

(ii) Fix a collection of data (μ, c1 , c2 , λh , ξg ) as in (i). Write
def

Y = U c 2 × Uπ p U π
for the ﬁber product determined by the morphism θg : Uc2 → Uπp and the
morphism Uπ → Uπp induced by f˜ [cf. Proposition 1.5]. Then the natural
morphism
Ys −→ (Uc2 )s = Spec k[sc2 ]
induced by the ﬁrst projection morphism Y → Uc2 corresponds to the natural injective homomorphism
k[sc2 ] → k[sc2 , y]/(y p − y − sic02 )
over k, where y denotes an indeterminate.
Proof. First, we consider assertion (i). We begin by applying Lemma 1.3, (ii),
where we take “g(s)” to be g(t) [i.e., so the indeterminate “s” corresponds to
t], and we observe that, by replacing K by a suitable ﬁnite extension of K, we
may assume without loss of generality that there exists an “x” as in Lemma 1.3,
∼
(ii). This yields an isomorphism “h : OK [[s]] → OK [[s]]” as in Lemma 1.3, (ii),
whose induced morphism on spectra — where we interpret the indeterminate
“s” to be sc1 , and we take “xj ” to be c1 [so “xj s” corresponds to c1 sc1 = t]
— we take to be λh . Here, we recall that this isomorphism “h” of Lemma 1.3,
(ii), satisﬁes a condition “h(g(xj s)) = 1 + bsi0 ”. Next, we would like to apply
Lemma 1.3, (iii), where we take “1 + ai0 si0 ” to be the “1 + bsi0 ” of Lemma
1.3, (ii) [i.e., so the indeterminate “s” still corresponds to sc1 ]. This yields a
1
power series “g(s) pμ ” as in Lemma 1.3, (iii). We then take the “μ” of Lemma
1.3, (iii), to be μ and deﬁne ξg to be the morphism over OK corresponding
1
to the homomorphism that maps u to this power series “g(s) pμ ” [i.e., where
the indeterminate “s” still corresponds to sc1 ]. This yields a collection of data
23

(μ, c1 , λh , ξg ) that satisﬁes the ﬁrst two itemized conditions of Proposition 1.6,
(i). The third [and ﬁnal] itemized condition of Proposition 1.6, (i), now follows
by translating the various estimates of Lemma 1.3, (iv), into the notation of the
present situation, where we take the “c” of Lemma 1.3, (iv), to be c2 , and we
observe that, again by replacing K by a suitable ﬁnite extension of K, we may
assume without loss of generality that there exist “ζp ” and “c” as in Lemma
1
1.3, (iv). Also, we observe that the power series “g(cs) pμ ” of Lemma 1.3, (iv),
corresponds to η(sc2 ) [i.e., where the indeterminate “s” corresponds to sc2 ].
This completes the proof of assertion (i).
Next, we verify assertion (ii). Recall that
• the morphism θg : Uc2 → Uπp corresponds to the homomorphism of topological OK -algebras
OK [[t]][sπp ]/(π p sπp − t) −→ OK [[t]][sc2 ]/(c2 sc2 − t)
that maps

sπp → π −p (η(sc2 ) − 1),

t → η(sc2 ) − 1,

while
• the morphism Uπ → Uπp corresponds to the homomorphism of topological
OK -algebras
OK [[t]][sπp ]/(π p sπp − t) −→ OK [[t]][sπ ]/(πsπ − t)
that maps
sπp → π −p ((1 + πsπ )p − 1),
Then since
and

t → (1 + t)p − 1.

π −p ((1 + πsπ )p − 1) − (spπ − sπ ) ∈ mK [[sπ ]]
π −p (η(sc2 ) − 1) − sic02 ∈ mK [sc2 ] + mK [[t]]

[cf. Lemma 1.1; Proposition 1.6, (i)], it holds that
• the morphism (Uc2 )s → (Uπp )s corresponds to the homomorphism
k[sπp ] −→ k[sc2 ]
over k that maps sπp → sic02 , while
• the morphism (Uπ )s → (Uπp )s corresponds to the homomorphism
k[sπp ] −→ k[sπ ]
over k that maps sπp → spπ − sπ .

24

Thus, we conclude that the ﬁrst projection morphism
Ys = (Uc2 )s ×(Uπp )s (Uπ )s → (Uc2 )s = Spec k[sc2 ]
corresponds to the natural injective homomorphism
k[sc2 ] → k[sc2 , y]/(y p − y − sic02 )
over k. This completes the proof of assertion (ii), hence of Proposition 1.6.

Remark 1.6.1. In the notation of Proposition 1.6, we observe that the ﬁrst
projection morphism Y → Uc2 ﬁts into a commutative diagram
Y −−−−→ Uπ
θY
⏐
⏐
⏐
⏐
fY 
f˜|Uπ 

−−−−→ Spec OK [[t]] −−−−→ Gm
ι
φ π |U π
⏐
⏐
⏐
⏐
p
f

Uc2 −−−−→ Uπp −−−−−→ Spec OK [[t]] −−−−→ Gm ,
θg

φ π p |U π p

ι

where the ﬁrst vertical arrow fY denotes the ﬁrst projection morphism Y → Uc2 ;
the left-hand upper horizontal arrow θY denotes the second projection morphism
Y → Uπ ; the vertical arrows are ﬁnite ﬂat morphisms of degree p [cf. Proposition
1.5, Remark 1.5.1]; the ﬁrst and third squares are cartesian; the second square is
cartesian, up to taking the normalization of the ﬁber product that would make
the second square “truly cartesian”.
Remark 1.6.2. Let k be a ﬁeld of characteristic p; n a positive integer. Write C
for the Artin-Schreier curve over k deﬁned by the equation y p − y = xn , where
x and y are indeterminates; gC for the genus of C. Then it follows immediately
from Hurwitz’s formula that
gC =

(n − 1)(p − 1)
,
2

where n denotes the greatest positive integer that divides n and is prime to p.
In particular, if n is not a power of p, then gC ≥ 1. [Indeed, by considering
the Frobenius morphism, one reduces immediately to the case where n = n .
Moreover, the computation of gC is immediate when n = 1 in light of the
form of the equation y p − y = x. Thus, the computation of gC reduces to the
computation of the genus of a tamely ramiﬁed cyclic covering of the projective
line of degree n whose ramiﬁcation consists solely of p+1 totally ramiﬁed points.]

25

2

Resolution of nonsingularities for arbitrary hyperbolic curves over p-adic local ﬁelds

Let p be a prime number. In the present section, we apply certain constructions involving p-divisible groups to extend the Artin-Schreier coverings
constructed locally in §1 to coverings of an arbitrary hyperbolic curve. As a
consequence, we prove that arbitrary hyperbolic curves over p-adic local ﬁelds
satisfy RNS, i.e., “resolution of nonsingularities” [cf. Deﬁnition 2.2, (vii); Theorem 2.17]. This result may be regarded as a generalization of results obtained
by A. Tamagawa and E. Lepage [cf. [Tama2], Theorem 0.2; [Lpg1], Theorem
2.7]. Historically [cf., e.g., the discussion in the Introduction to [Tama2]], the
roots of these results of Tamagawa and Lepage may be traced back to the technique of “passing to a covering with singular reduction of a given curve with
smooth reduction over a p-adic local ﬁeld” applied in the proof of [PrfGC], Theorem 9.2 [cf. also Proposition 2.3, (xii), below]. Moreover, the techniques of
[AbsTopII], §2, may be regarded as a sort of weak, pro-p version of Tamagawa’s
RNS [cf. [AbsTopII], Remark 2.6.1]. In fact, the approach of the present section may be regarded as a sort of amalgamation of the techniques of [Lpg1]
with the techniques of [AbsTopII], §2. At any rate, from a historical point of
view, it is interesting to observe how various RNS results have been motivated
by and indeed are deeply intertwined with various results in anabelian geometry
[cf. Corollary 2.5, as well as Theorems 3.12, 3.13 in §3 below].
First, we begin by ﬁxing our conventions concerning models of hyperbolic
curves [cf. [DM], Deﬁnition 1.1; [Knud], Deﬁnition 1.1].
Deﬁnition 2.1. Let K be a valuation ﬁeld; X a hyperbolic curve over K; X a
scheme over OK . Then:
(i) We shall say that X is a compactiﬁed model of X over OK if X is a proper,
ﬂat, normal scheme of ﬁnite presentation over OK whose generic ﬁber is
the [uniquely determined, up to unique isomorphism] smooth compactiﬁcation of X over K.
(ii) Suppose that the cusps of X are K-rational. Then we shall say that X
is a compactiﬁed semistable model of X over OK if X is a compactiﬁed
model of X over OK such that the following conditions hold:
• the geometric special ﬁber of X is a semistable curve [i.e., a reduced,
connected curve each of whose nonsmooth points is an ordinary double point];
• the images of the sections Spec OK → X determined by the cusps of
X [which we shall refer to as cusps of X ] lie in the smooth locus of
X and do not intersect each other.
Suppose that X is a compactiﬁed semistable model of X over OK . Then
we shall say that X has split reduction if Xs is split [i.e., each of the
irreducible components and nodes of Xs is geometrically irreducible].
26

(iii) Suppose that X is a compactiﬁed semistable model of X over OK that has
split reduction. Let L be a ﬁnite extension of K equipped with a valuation
that extends the valuation on K; X ∗ a compactiﬁed semistable model of
XL over OL such that X ∗ has split reduction and dominates X . Then we
shall say that X ∗ is a toral compactiﬁed semistable model relative to X if
each irreducible component of Xs∗ that maps to a closed point of Xs [via
the uniquely determined morphism X ∗ → X ] is normal of genus 0 and
has precisely 2 nodes. Suppose that X ∗ is a toral compactiﬁed semistable
model relative to X . Let v be a vertex of the dual graph associated to Xs∗ .
Then we shall say that v is a toral semistable vertex of X ∗ if v corresponds
to an irreducible component of Xs∗ that maps to a closed point of X .
(iv) We shall say that X is a compactiﬁed stable model of X over OK if X is a
compactiﬁed semistable model of X over OK such that X , together with
the cusps of X , determines a pointed stable curve.
(v) We shall say that X is a semistable model of X over OK if X is obtained
by removing the cusps from a [uniquely determined, by Zariski’s Main
Theorem, up to unique isomorphism] compactiﬁed semistable model of X
over OK . Suppose that X is a semistable model of X over OK . Then we
shall say that X has split reduction if Xs is split [i.e., each of the irreducible
components and nodes of Xs is geometrically irreducible].
(vi) We shall say that X is a stable model of X over OK if X is obtained
by removing the cusps from a [uniquely determined, by Zariski’s Main
Theorem, up to unique isomorphism] compactiﬁed stable model of X over
OK .
(vii) We shall say that X has stable reduction over K if there exists a [necessarily
unique, up to unique isomorphism] stable model of X over OK . Suppose
that X is a stable model of X over OK . Then we shall say that X has
split stable reduction over K if Xs is split [i.e., each of the irreducible
components and nodes of Xs is geometrically irreducible].

Remark 2.1.1. It follows from elementary commutative algebra/scheme theory
[cf. [EGAIV2 ], Corollaire 6.1.2; [EGAIV3 ], Proposition 12.1.1.5] that any compactiﬁed model as in Deﬁnition 2.1, (i), is of dimension 2 whenever K is a
complete discrete valuation ﬁeld.
Remark 2.1.2. In the notation of Deﬁnition 2.1, suppose that X is a proper
hyperbolic curve over K. Then it follows immediately from the various deﬁnitions involved that the notion of a compactiﬁed semistable model of X over OK
coincides with the notion of a semistable model of X over OK .

27

Remark 2.1.3. In the notation of Deﬁnition 2.1, suppose that K is a complete
discrete valuation ﬁeld, and that X has split stable reduction over K. Let X
be a compactiﬁed semistable model of X over OK that has split reduction;
φ : Y → X a morphism of compactiﬁed semistable models over OK that restricts to a connected ﬁnite étale covering Y → X over K. Then one veriﬁes
immediately — by considering the map induced on irreducible components of
the respective special ﬁbers by the necessarily ﬁnite, hence surjective morphism
[induced by Y → X ] between the [two-dimensional, normal, integral] spectra of
the completions of the local rings of X , Y at the closed points under consideration — that φ always maps a smooth closed point of Y that is isolated in the
ﬁber of φ to a smooth closed point of X .
Remark 2.1.4. In the notation of Remark 2.1.3, let X ∗ be a toral compactiﬁed
semistable model relative to X ; e an edge of the dual graph associated to Xs ; b
a branch of the node e; v a toral semistable vertex of X ∗ that maps to [i.e., for
which the corresponding irreducible component maps to the node corresponding
e of the local ring of X at e is isomorphic to
to] e. Recall that the completion O
OK [[x, y]]/(xy − a), where a ∈ mK \ {0}, and x, y denote indeterminates chosen
so that the ideal (x) (⊆ OK [[x, y]]/(xy − a)) corresponds to b. Observe that
this ideal (x) is independent of the choice of x, y [cf. [Hur], §3.7, Lemma]. In
particular, we obtain a homomorphism of local rings
v
ψ : OK [[x, y]]/(xy − a) −→ O
v denotes the completion of the local ring of X ∗ at the generic point
where O
of the irreducible component of X ∗ corresponding to v. Write ordv (−) for the
v whose normalization is determined by
normalized valuation associated to O
the condition that ordv (p) = 1 ∈ R. Thus, we obtain a rational number
def

0 < ρb,v =

ordv (ψ(x))
< 1
ordv (ψ(a))

associated to b and v, which is in fact independent of the normalization of
“ordv (−)”. If, moreover, we write b for the other branch of e, then one veriﬁes
immediately that ρb,v + ρb ,v = 1. Finally, we observe that
given any rational number ρ such that 0 < ρ < 1, there exist, after
possibly replacing K by a suitable ﬁnite extension ﬁeld of K, an X ∗
and v as above such that ρb,v = ρ.
Indeed, it follows immediately from the theory of pointed stable curves, as exposed in [Knud], that, by possibly replacing K by a suitable ﬁnite extension
ﬁeld of K and X by a suitable dense open subscheme of X, we may assume that
X is the [unique, up to unique isomorphism] compactiﬁed stable model of X over
OK , and that ρ may be written as a fraction whose denominator divides the
positive integer vp (a). Then it follows again from the theory of pointed stable
curves, as exposed in [Knud], that, if we take
28

• X ∗ to be the [unique, up to unique isomorphism] compactiﬁed stable model
over OK of the hyperbolic curve obtained by removing from X a suitable
K-rational point of X with center at e [cf. the construction of the displayed
∼
r
X † ,x →)
homomorphism “(O
OK [[s, t]]/(st − πK
) → OK ” in the portion of
the proof of Proposition 2.3, (iii), below, concerning the case where “x is
a nonsmooth closed point of X † ”] and
• v to be the unique irreducible component of Xs∗ that maps to a closed point
of Xs via the natural morphism X ∗ → X [cf. the morphism “X † [x] → X † ”
in the portion of the proof of Proposition 2.3, (iii), below, concerning the
case where “x is a nonsmooth closed point of X † ”],
then ρb,v = ρ, as desired.
Remark 2.1.5. In the notation of Remark 2.1.4, we observe that, for a ﬁxed
choice of b,
the assignment
v

→

ρb,v ∈ Q

that assigns to a toral semistable vertex v of X ∗ that maps to e the
rational number ρb,v is injective.
Indeed, it follows immediately from the theory of pointed stable curves, as exposed in [Knud] — i.e., by adding ﬁnitely many suitably positioned cusps and
then considering the various contraction morphisms that arise from eliminating
cusps — that, to verify the asserted injectivity, it suﬃces to show that if v and
w are the unique toral semistable vertices of X ∗ that map to e, which implies
that there exists an edge e∗ of the dual graph associated to Xs∗ that abuts to v
and w, then ρb,v = ρb,w . To this end, we recall that X and X ∗ admit natural
log structures [determined by the respective multiplicative monoids of regular
functions invertible outside the respective special ﬁbers Xs , Xs∗ ] such that the
morphism X ∗ → X extends uniquely to a morphism of log schemes [cf., e.g., the
subsection in Notations and Conventions entitled “Log schemes”; the discussion
e∗ of the local ring of
of [Hur], §3.7, §3.8, §3.10]. Moreover, the completion O
∗
∗
∗ ∗
∗ ∗
∗
X at e is isomorphic to OK [[x , y ]]/(x y − a ), where a∗ ∈ OK , and x∗ ,
y ∗ denote indeterminates which may be chosen in such a way that the homoe → O
e∗ induced by X ∗ → X maps
morphism of topological OK -algebras O
×
∗ N
∗ M

x → (x ) · (π ) · u, for some unit u ∈ Oe∗ , some uniformizer π ∗ ∈ OK , some
positive integer N , and some nonnegative integer M . [Indeed, the fact that
N is necessarily positive follows immediately, in light of our assumptions on v
and w, from well-known considerations in intersection theory on the Q-factorial
normal schemes X ∗ and X .] Then the desired inequality ρb,v = ρb,w follows
immediately from the fact that, up to a possible permutation of the labels “v”
and “w”, it holds that x∗ is invertible at the generic point of [the irreducible
component corresponding to] v, but non-invertible at the generic point of [the
irreducible component corresponding to] w.
29

Remark 2.1.6. In the notation of Remark 2.1.3, suppose further that Y has
split reduction, and that the morphism Y → X is an isomorphism. Let X ∗ be
a toral compactiﬁed semistable model relative to X , Y → X ∗ a morphism over
X . Then observe that it follows immediately from Remark 2.1.3, together with
Zariski’s Main Theorem, that each normal irreducible component of Ys that
• maps to a closed point of Xs ,
• is of genus 0, and
• has precisely 1 node
maps to a closed point of Xs∗ . In particular, it follows immediately from an
iterated application of the above observation, together with the theory of pointed
stable curves, as exposed in [Knud] — i.e., by adding ﬁnitely many suitably
positioned cusps and then considering the various contraction morphisms that
arise from eliminating cusps — that
there exists a unique, up to unique isomorphism, toral compactiﬁed
semistable model Y ∗ relative to X , together with a uniquely determined morphism Y → Y ∗ of compactiﬁed semistable models over
X , such that the following universal property is satisﬁed: if X † is
a toral compactiﬁed semistable model relative to X such that the
morphism Y → X admits a factorization Y → X † → X , then the
morphism Y → X † admits a unique factorization Y → Y ∗ → X † .
That is to say, Y ∗ may be thought of as a sort of “universal toralization [over
X ]” of Y. In particular, it follows immediately from the existence of universal
toralizations, together with the theory of pointed stable curves, as exposed in
[Knud] — i.e., by adding ﬁnitely many suitably positioned cusps and then considering the various contraction morphisms that arise from eliminating cusps
— that the toral compactiﬁed semistable models relative to X form a directed
inverse system.
Deﬁnition 2.2. Let Σ ⊆ Primes be a nonempty subset; K a mixed characteristic complete discrete valuation ﬁeld of residue characteristic p; X a hyperbolic
curve over K. Write Ω for the p-adic completion of [some ﬁxed] K. Then:
(i) Let v be a valuation on a ﬁeld F that contains K. Write Ov for the ring of
integers determined by v; mv ⊆ Ov for the maximal ideal of Ov . Then we
shall say that v is a p-valuation [over K] if OK = Ov ∩ K [which implies
that p ∈ mv ]. Here, the phrase “over K” will be omitted in situations
where the base ﬁeld K is ﬁxed throughout the discussion. We shall say
that v is primitive if it is a p-valuation such that the only prime ideal of
Ov that contains p is mv . We shall say that v is residue-transcendental
def
if it is a p-valuation whose residue ﬁeld kv = Ov /mv is a transcendental
extension of the residue ﬁeld of K.
30

 is a universal
(ii) In the situation of (i), suppose that v is a p-valuation, that X
geometrically pro-Σ covering of X, and that F is a subﬁeld [in a fashion
Ω )
compatible with the given inclusion K → F ] of the function ﬁeld K(X

of XΩ . Then we shall say that v is point-theoretic if it arises from some

point x̃ ∈ X(Ω),
i.e., if Ov ⊆ F is equal to the subring of F consisting
Ω that are regular
of elements ∈ F that determine rational functions on X
at x̃, and whose value at x̃ is contained in OΩ ⊆ Ω. Thus, every point

x̃ ∈ X(Ω)
determines a corresponding point-theoretic valuation of F .
(iii) In the situation of (ii), let Z → X be a connected ﬁnite étale covering
 → Z → X. Let Z be a compactiﬁed
equipped with a factorization X
semistable model of Z with split reduction. Then we shall write
VE(Z)
for the ﬁnite set [equipped with the discrete topology] of vertices and
edges of the dual graph associated to Zs . Note that there is a notion of
specialization/generization among elements of VE(Z), i.e., we shall say
that
• a vertex specializes to a node, or, alternatively, that a node generizes
to a vertex, if the node abuts to the vertex;
• a vertex specializes/generizes to a vertex if the two vertices coincide;
• an edge specializes/generizes to an edge if the two edges coincide.
For c1 , c2 ∈ VE(Z), if c1 specializes to c2 , or, equivalently, c2 generizes to
c1 , then we shall write c1  c2 . By allowing Z and Z to vary, we thus
obtain a topological space
 = lim VE(Z),
VE(X)
←−
def

Z

where the transition maps in the inverse limit are induced by the corresponding scheme-theoretic morphisms of compactiﬁed semistable models
[which form a directed inverse system — cf. Proposition 2.3, (iii), below],
that is to say, by mapping a vertex [i.e., irreducible component] or edge
[i.e., node] to the smallest vertex [i.e., irreducible component] or edge [i.e.,
node] that contains its scheme-theoretic image. [Here, we recall that any
such morphism of compactiﬁed semistable models always maps a smooth
closed point that is isolated in the ﬁber of the morphism to a smooth closed
 as a VEpoint — cf. Remark 2.1.3.] We shall refer to an element of VE(X)

chain of X. Note that the notion of specialization/generization among elements of each VE(Z) determines [i.e., by considering each constituent set
in the above inverse limit] a notion of specialization/generization among
 We shall say that an element c ∈ VE(X)
 is primitive
elements of VE(X).
if every generization of c is equal to c.

31

(iv) In the situation of (iii), let zc1 , zc2 ∈ VE(Z). Then we shall write
δ(zc1 , zc2 ) ∈ Z
for the integer δ such that the set of vertices contained in a path of minimal
length between zc1 and zc2 on the dual graph of Zs is of cardinality δ + 1.
 Then we shall write
Let c1 , c2 ∈ VE(X).
def

δ(c1 , c2 ) = sup δ(wc1 , wc2 ) ∈ Z ∪ {+∞},
Z

where Z ranges over the set of compactiﬁed semistable models with split
reduction of connected ﬁnite étale coverings Z → X equipped with a
 → Z → X; wc ∈ VE(Z) denotes the element determined
factorization X
i
by ci for each i = 1, 2.
(v) In the situation of (ii), suppose further that F contains the function ﬁeld
 of X.
 Then observe that v determines, by considering the centers
K(X)
associated to v on the various “Z” in the discussion of (iii), an element
 which we shall refer to as the center-chain associated to v.
∈ VE(X),

In particular, any point x̃ ∈ X(Ω)
determines, by considering the point which we shall
theoretic valuation associated to x̃, an element ∈ VE(X),
refer to as the [point-theoretic] center-chain associated to x̃. Write x ∈

X(Ω) for the image of x̃ in X(Ω). Thus, the Gal(X/X
K )-orbit of x̃ is

completely determined by x. We shall refer to the Gal(X/X
K )-orbit of
the center-chain associated to x̃ as the [point-theoretic] orbit-center-chain
associated to x [cf. the discussion of Remark 2.2.4 below].
(vi) In the situation of (ii), let Z → X be a connected ﬁnite étale covering
 → Z → X. Let Z be a compactiﬁed
equipped with a factorization X
semistable model with split reduction of Z. In the remainder of the discussion of the present item (vi), all toral compactiﬁed semistable models
relative to Z will be assumed to have generic ﬁbers that are equipped
 → Z. Write
with the structure of a subcovering of the pro-covering X
V(Z) (respectively, E(Z))
for the set of vertices (respectively, edges) of
Zs . Thus, VE(Z) = V(Z) E(Z). For each c ∈ VE(Z), write
Vc
for the set of equivalence classes of the set of vertices of toral compactiﬁed
semistable models relative to Z that map to the closed subscheme of Zs
corresponding to c, where we apply the equivalence relation induced by
the dominant morphisms over Z of toral compactiﬁed semistable models
relative to Z. Let e ∈ E(Z). Then we shall write
Ve
for the union of Ve and the vertices of V(Z) that abut to e. Observe
that, for each toral compactiﬁed semistable model Z † relative to Z and
32

each c† ∈ VE(Z † ) that maps to the closed subscheme of Zs corresponding
to c, the set Vc† may be regarded, in a natural way [i.e., by considering
the maps induced by dominant morphisms over Z of toral compactiﬁed
semistable models relative to Z], as a subset of Vc . We shall refer to such
a subset Vc† ⊆ Vc as a basic open subset of Vc . Thus, from the point of
view of the natural bijection, determined by selecting a branch b of the
edge e, between Ve and the set of rational numbers ρ such that 0 < ρ < 1
[cf. Remarks 2.1.4, 2.1.5, 2.1.6], the basic open subsets ⊆ Ve correspond
precisely to the open intervals with rational endpoints of Ve . In particular,
it is natural to regard Vc as being equipped with the topology determined
by the open basis consisting of the basic open subsets ⊆ Vc . We shall
refer to as a quasi-basic open subset of Ve any open subset of Ve which
is a union of a countable collection of basic open subsets ⊆ Ve for which
the relation of inclusion determines a total ordering. We shall refer to as
a Dedekind cut of Ve an unordered pair {D1 , D2 } of disjoint nonempty
quasi-basic open subsets D1 , D2 ⊆ Ve such that Ve = D1 ∪ D2 . Write
De for the set of Dedekind cuts of Ve . Note that the topology of the Vw ,
where w ∈ V e \ Ve , induces, in a natural way, a topology on the set

def
T e = Ve
De
[i.e., by taking as an open basis for the topology for T e the subsets of T e
obtained as the intersections with T e of unions of an open subset U ⊆ Vw ,
where w ∈ V e \ Ve , with the set of Dedekind cuts {D1 , D2 } ∈ De such that
both D1 and D2 intersect U ]. Thus,

def
Te = Ve
De .
[with the induced topology] is homeomorphic to the open interval (0, 1) ⊆
R of the real line [cf. Remarks 2.1.4, 2.1.5, 2.1.6]. Write
def

VE(Z)tor = V(Z) ∪



Te .

e∈E(Z)

Thus, the discrete topology on V(Z), together with the topologies deﬁned
above on the T e , determine a topology on VE(Z)tor . Moreover, there exists
a noncontinuous [cf. Remark 2.2.1 below] natural surjective map
Z : VE(Z)tor −→ VE(Z)
that maps each Te to e. Finally, by allowing Z and Z to vary, we thus
obtain a topological space
 tor = lim VE(Z)tor
VE(X)
←−
def

Z

[cf. the discussion of (iii)], together with a natural [not necessarily surjective!] map
 tor −→ VE(X).

X : VE(X)
33

(vii) We shall say that X satisﬁes Σ-RNS [i.e., “Σ-resolution of nonsingularities” — cf. [Lpg1], Deﬁnition 2.1] if the following condition holds:
Let v be a discrete residue-transcendental p-valuation on the
function ﬁeld K(X) of X. Then there exists a connected geometrically pro-Σ ﬁnite étale Galois covering Y → X such that
Y has stable reduction [over its base ﬁeld], and v coincides with
the restriction [to K(X)] of a discrete valuation on the function
ﬁeld K(Y ) of Y that arises from an irreducible component of
the special ﬁber of the stable model of Y .
Remark 2.2.1. In the notation of Deﬁnition 2.2, (vi), the natural surjective map
Z is not continuous in general. Indeed, to see this, it suﬃces to observe that the
inverse image of the closed subset consisting of a single edge is an open subset
of VEtor (Z) that is not closed. Finally, we observe that one may also conclude
from this noncontinuity of Z that X is not continuous.
Remark 2.2.2. In the notation of Deﬁnition 2.2, (vii), suppose that Σ \ {p} is
nonempty, and that X satisﬁes Σ-RNS. Then, by considering a suitable admissible covering of the stable model of “Y ” as in Deﬁnition 2.2, (vii), one veriﬁes
immediately that one may assume that the normalization of the irreducible
component that appears in Deﬁnition 2.2, (vii), is of genus ≥ 2.
Remark 2.2.3. In the notation of Deﬁnition 2.2, (vii), we make the following
observations.
(i) Let L ⊆ Ω be a topological subﬁeld containing K that arises as the [topological] ﬁeld of fractions of a mixed characteristic complete discrete valuation ﬁeld of residue characteristic p. Then let us observe that
any compactiﬁed semistable model of XL over OL arises, after
possibly replacing K and L, respectively, by suitable ﬁnite extension ﬁelds of K and L, as the result of base-changing, from
OK to OL , some compactiﬁed semistable model of XK over OK .
Indeed, since every element of L admits arbitrarily close p-adic approximations by elements of ﬁnite extension ﬁelds of K contained in K, this
observation follows immediately by noting that it follows immediately from
the well-known theory of pointed stable curves, as exposed in [Knud], that,
after possibly replacing K and L, respectively, by suitable ﬁnite extension
ﬁelds of K and L and possibly replacing X by some dense open subscheme
of X, we may assume without loss of generality that the given compactiﬁed
semistable model of XL over OL is in fact the [unique, up to unique isomorphism] compactiﬁed stable model of XL , i.e., which necessarily arises
as the result of base-changing, from OK to OL , the [unique, up to unique
isomorphism] compactiﬁed stable model of XK over OK .
34

(ii) We maintain the notation of (i). Then let us observe that
X satisﬁes Σ-RNS if and only if XL satisﬁes Σ-RNS.
Indeed, this observation follows immediately, in light of the observation of
(i), from Proposition 2.3, (ii), (iii), below; Proposition 2.4, (iv), below [cf.
also Deﬁnition 2.2, (vii), as well as the discussion of the ﬁnal portion of the
subsection in Notations and Conventions entitled “Fundamental groups”].
(iii) Next, let L be a mixed characteristic complete discrete valuation ﬁeld of
residue characteristic p that contains K as a topological subﬁeld. Then
observe that it follows immediately from the well-known elementary theory
of complete discrete valuation ﬁelds that
L is isomorphic, as a topological K-algebra, to a ﬁeld “L” of
the sort discussed in (i), (ii) if and only if [the valuation on] L is
not residue-transcendental [relative to K], i.e., if and only if the
residue ﬁeld of L is an algebraic extension of the residue ﬁeld of
K.
(iv) We maintain the notation of (iii). Then let us observe that
if XL satisﬁes Σ-RNS, then the residue ﬁeld of L is an algebraic
extension of the residue ﬁeld of K.
Indeed, it suﬃces to verify this observation after replacing K by a ﬁnite
extension ﬁeld of K. In particular, we may assume without loss of generality [cf. Proposition 2.3, (iii)] that there exists a compactiﬁed semistable
model X of X over OK . Then it follows immediately from the uniqueness, up to unique isomorphism, of compactiﬁed stable models [cf. also
Deﬁnition 2.2, (vii), as well as the discussion of the ﬁnal portion of the
subsection in Notations and Conventions entitled “Fundamental groups”;
the stable reduction theorem of [DM], [Knud]], that if XL satisﬁes Σ-RNS,
then any closed point of (X ⊗OK OL )s that arises as the center of a discrete residue-transcendental p-valuation on the function ﬁeld of XL is
necessarily deﬁned over some algebraic extension of the residue ﬁeld of
K. On the other hand, this contradicts the existence of discrete residuetranscendental p-valuations on the function ﬁeld of XL that arise as the
local rings of generic points of exceptional divisors of blow-ups of smooth
closed points of (X ⊗OK OL )s that are not deﬁned over some algebraic
extension of the residue ﬁeld of K. This completes the proof of the above
observation.
(v) We maintain the notation of (iii). Then we observe further that, under
the assumption that X satisﬁes Σ-RNS, it holds that
the residue ﬁeld of L is an algebraic extension of the residue ﬁeld
of K if and only if XL satisﬁes Σ-RNS.

35

Indeed, necessity follows formally from the observations of (ii), (iii), while
suﬃciency follows formally from the observation of (iv).

Remark 2.2.4. In the context of Deﬁnition 2.2, we recall from the general theory
of valuations the following well-known basic facts. Let L be a ﬁeld equipped
with a valuation v, M a ﬁnite normal extension ﬁeld of L. Write Ov for the ring
of integers of L with respect to v, mv ⊆ Ov for the maximal ideal of Ov , OM
for the integral closure of Ov in M , vM/L for the set of valuations on M that
extend v, and Aut(M/L) for the group of automorphisms of M that restrict to
the identity on L. If w ∈ vM/L , then we shall write Ow for the ring of integers of
def

M with respect to w, mw ⊆ Ow for the maximal ideal of Ow , pw = OM ∩ mw .
Then the set vM/L is nonempty [cf. [EP], Theorem 3.1.1], and the natural action
of Aut(M/L) on vM/L is transitive [cf. [EP], Theorem 3.2.14]. Moreover,
OM



=

Ow

w∈vM/L

[cf. [EP], Theorem 3.1.3, (2)]; the assignment vM/L  w → pw determines a
bijective correspondence between vM/L and the set of prime ideals of OM that
lie over mv , and, for w ∈ vM/L , Ow = (OM )pw [cf. [EP], Theorem 3.1.1; [EP],
Theorem 3.2.13]. In this situation, if we assume further that v is real, and
that L is complete with respect to v, then vM/L is of cardinality 1 [cf. [Neu],
Chapter II, Theorem 4.8]. [Here, we recall that if v is not real, then Ov does
not, in general, satisfy Hensel’s Lemma, i.e., even if L is complete with respect
to v [cf. [EP], Remark 2.4.6].] More generally, if v is real, then L admits a
 [cf. [EP], Theorem 1.1.4], which is a henselian ﬁeld [cf.
natural completion L
[Neu], Chapter II, Theorem 4.8; the discussion preceding [EP], Lemma 4.1.1]
and contains, up to natural isomorphism, the henselization Lh of L [cf. [EP],
the discussion preceding Theorem 5.2.2] as a subﬁeld, i.e.,

Lh ⊆ L
[cf. [EP], Corollary 4.1.5; [EP], Corollary 5.2.3; the discussion of Case 2 in the
proof of [EP], Theorem 6.3.1].
The various basic properties stated in the following Proposition 2.3 consist
of elementary results that are essentially well-known or implicit in the literature
[cf. Remarks 2.3.2, 2.3.3 below], but we give [essentially] self-contained statements and proofs here in the language of the present discussion for the sake of
completeness.
Proposition 2.3 (Basic properties of models of hyperbolic curves). Let
K be a mixed characteristic complete discrete valuation ﬁeld of residue characteristic p; X a hyperbolic curve over K. Write K(X) for the function ﬁeld of
X. Then the following hold:
36

(i) Let R ⊆ K(X) be a ﬁnitely generated normal OK -subalgebra whose ﬁeld of
fractions coincides with K(X). Then Spec R arises as an open subscheme
of a compactiﬁed model of X over OK .
(ii) Let v be a discrete residue-transcendental [cf. Remark 2.3.1 below] pvaluation on K(X). Then v arises as the discrete valuation associated to
an irreducible component of the special ﬁber of a compactiﬁed model of X
over OK .
(iii) Let X be a compactiﬁed model of X over OK equipped with the action of
a ﬁnite group G by OK -linear automorphisms [which thus restrict to Klinear automorphisms of X]. Then, after possibly replacing K by a ﬁnite
ﬁeld extension of K, there exists a compactiﬁed semistable model of X
over OK that dominates X and is stabilized by the action of G on X.
(iv) Let Y → X be a [connected] ﬁnite étale Galois covering of hyperbolic
curves over K, Y sst a compactiﬁed semistable model of Y over OK that
def
is stabilized by G = Gal(Y /X). Write X for the quotient of Y sst by the
natural action of G on Y sst . Then X is a compactiﬁed semistable model
of X over OK , and the images of smooth points of Yssst via the natural
morphism Yssst → Xs are smooth points of Xs . Moreover, the image of a
node of Yssst via the natural morphism Yssst → Xs is a node of Xs if and
only if G does not permute the branches of the node. In particular,
• the dual graph of Xs may be reconstructed from the dual graph of Yssst ,
together with the action of G on the dual graph of Yssst .
Finally,
• this reconstruction procedure is functorial, with respect to maps of
vertices/edges to vertices/edges [i.e., as in the discussion of Deﬁnition 2.2, (iii)], on the category of [connected] ﬁnite étale Galois
coverings of X over K.
(v) Suppose that we are in the situation of Deﬁnition 2.2, (ii), (iii), (iv), (v).
 to its associated
Then the assignment that maps a p-valuation on K(X)
center-chain determines bijections as follows:

p-valuations on K(X)

∼


→ VE(X),


primitive p-valuations on K(X)

∼
 prim ,
→ VE(X)

∼
 pt-th ,

→ VE(X)
X(Ω)
∼
 pt-th /Gal(X/X

X(Ω) → VE(X)
K ),

 prim ⊆ VE(X)
 denotes the subset of primitive VE-chains,
where VE(X)
pt-th


and VE(X)
⊆ VE(X) denotes the subset of point-theoretic centerchains.
37

 Write Rc ⊆
(vi) Suppose that we are in the situation of (v). Let c ∈ VE(X).

K(X) for the valuation ring of the p-valuation associated to c [cf. (v)].
Then it holds that
Rc = lim OZ,zc ,
−→
Z

where the direct limit ranges over the set of compactiﬁed semistable models
with split reduction Z of the domain curves of connected ﬁnite étale cov → Z → X; zc denotes the
erings Z → X equipped with a factorization X
center on Z determined by Rc ; the transition maps in the direct limit are
induced by the corresponding scheme-theoretic morphisms of compactiﬁed
semistable models [cf. the discussion of Deﬁnition 2.2, (iii)].
(vii) Suppose that we are in the situation of (v). Suppose, moreover, that X is
 is primitive if and only if it is either
proper. Then a p-valuation of K(X)
real or point-theoretic. Equivalently,
 consists of the disjoint
• the set of primitive p-valuations of K(X)
 and the
union of the non-point-theoretic real p-valuations of K(X)

point-theoretic p-valuations of K(X).
 an for the topological pro-Berkovich space asIn particular, if we write X
sociated to [i.e., the inverse limit of the underlying topological spaces of
 then
the Berkovich spaces associated to the ﬁnite subcoverings of ] X,
 may be naturally identiﬁed
• the set of primitive p-valuations of K(X)
an

with the underlying set of X .
(viii) Suppose that we are in the situation of (vii). Then there exists a natural
commutative diagram of maps of sets
 an
X
⏐
⏐


∼

 tor
−−−−→ VE(X)
θX

⏐
⏐

X

 prim −−−−→ VE(X),

VE(X)
ιX


where the upper horizontal arrow θX is a homeomorphism [cf. Remark
2.3.3 below]; the lower horizontal arrow ιX denotes the natural inclusion; the left-hand vertical arrow denotes the bijection obtained by forming the composite of the natural identiﬁcation that appears in the statement of (vi) with the second bijection in the display of (v); the righthand vertical arrow X denotes the natural morphism [cf. Deﬁnition 2.2,
(vi)]. In particular, X is injective and in fact admits a natural split → VE(X)
 tor [i.e., such that τ  ◦   is the identity on
ting τX : VE(X)
X
X
 tor ]. On the other hand, neither ι  nor   is surjective [cf. Remark
VE(X)
X
X
2.3.4 below].

38

 be distinct
(ix) Suppose that we are in the situation of (v). Let c1 , c2 ∈ VE(X)
elements. Then one of the following conditions holds:
• δ(c1 , c2 ) = +∞.
 such
• δ(c1 , c2 ) = 0, and there exists a unique element c3 ∈ VE(X)
that c3  c1 and c3  c2 .
In particular, if c1 and c2 are distinct primitive elements, then it holds
that δ(c1 , c2 ) = +∞.
 Then the
(x) Suppose that we are in the situation of (v). Let c ∈ VE(X).
cardinality of the set
 \ {c} | c  c}
{c ∈ VE(X)
is at most 1.
(xi) Suppose that we are in the situation of (v). Let Σ ⊆ Primes be a subset;
l ∈ Σ \ {p}; H ⊆ GK a closed subgroup such that the restriction to H of
the l-adic cyclotomic character of K has open image, and, moreover,
the intersection H ∩ IK of H with the inertia subgroup IK of GK admits
(Σ)
a surjection to [the proﬁnite group] Zl ; s : H → ΠX a section of the
(Σ)
restriction to H of the natural surjection ΠX  GK . Then there exists
 prim that is ﬁxed by the restriction, via s, to H of
an element c ∈ VE(X)
(Σ)
 prim ⊆ VE(X).
 In particular, if X is
the natural action of ΠX on VE(X)
an
an

proper, then there exists an element c ∈ X [cf. (vii)] that is ﬁxed by
(Σ)
the restriction, via s, to H of the natural action of ΠX on the topological
 an .
pro-Berkovich space X
(xii) Let Σ ⊆ Primes be a subset of cardinality ≥ 2 that contains p. Then
there exists a connected geometrically pro-Σ ﬁnite étale Galois covering
X † → X satisfying the following conditions:
• X † has split stable reduction.
• Write X † for the [unique, up to unique isomorphism] stable model of
X † . Then Xs† is singular, and every irreducible component of Xs† is
a smooth curve of genus ≥ 2.
Proof. First, we verify assertion (i). Since R is a ﬁnitely generated algebra
over OK (⊆ R), it follows that Spec R admits an embedding over OK into
†
N
N -dimensional aﬃne space AN
OK for some positive integer N . Write Z ⊆ POK
N
N
for the scheme-theoretic closure of the image of Spec R in POK (⊇ AOK ); Z for
the normalization of Z † . Thus, the structure sheaf OZ is p-torsion-free, hence
ﬂat over OK . Since, moreover, Z † is [of ﬁnite type over the complete discrete
valuation ring OK , hence] excellent, it follows that Z is a proper, ﬂat scheme
of ﬁnite type over OK , whose generic ﬁber may be identiﬁed with the [uniquely

39

determined, up to unique isomorphism] smooth compactiﬁcation of X over K.
This completes the proof of assertion (i).
Next, we verify assertion (ii). Write A ⊆ K(X) for the discrete valuation
ring associated to v. Note that A may be written as the direct limit [i.e., in
fact, union] of a direct system of ﬁnitely generated subalgebras {Ai ⊆ A}i∈I
over OK . Moreover, since the ﬁeld extension K ⊆ K(X) is ﬁnitely generated,
and each Ai is [ﬁnitely generated over the complete discrete valuation ring OK ,
hence] excellent, we may assume without loss of generality, i.e., by replacing
Ai by its normalization in K(X), that each Ai is normal with ﬁeld of fractions
equal to K(X). Write pi ⊆ Ai for the prime ideal determined by the maximal
ideal of A. Thus, since v is a p-valuation [over K], it follows immediately that
each of the natural inclusions OK → (Ai )pi → A is a homomorphism of local
rings. Next, let us observe that since the residue ﬁeld extension determined by
the natural inclusion OK ⊆ A of local rings is assumed to be transcendental,
it follows that there exists an element i ∈ I such that the residue ﬁeld k(pi )
of pi is a transcendental extension of the residue ﬁeld of OK . Let Z be a
compactiﬁed model of X over OK that contains Spec Ai as an open subscheme
[cf. Proposition 2.3, (i)]. Then since Z is of dimension 2 [cf. Remark 2.1.1], it
follows that the height of pi is equal to 1 or 2. On the other hand, if pi is of
height 2, then it follows that pi corresponds to a closed point of Zs , hence that
k(pi ) is a ﬁnite extension of the residue ﬁeld of OK , i.e., in contradiction to our
assumption of transcendality. Thus, we conclude that pi is of height 1, hence
that (Ai )pi is a discrete valuation ring whose ﬁeld of fractions is equal to K(X).
But this implies that (Ai )pi = A. This completes the proof of assertion (ii).
Next, we verify assertion (iii). First, we observe that, after possibly replacing K by a suitable ﬁnite extension ﬁeld of K, there exists a G-equivariant
ﬁnite morphism X → P1OK to the projective line over OK [equipped with the
trivial action by G]. Indeed, since OK is a complete discrete valuation ring, by
deforming any [suitably large positive power of a] very ample line bundle on the
projective curve Xs , we obtain a very ample line bundle L on X , hence, after
possibly replacing K by a suitable ﬁnite extension ﬁeld of K, a pair of global
sections σ1 , σ2 of the line bundle L such that the G-orbit of the zero locus of
σ1 is disjoint from the G-orbit of the zero locus of σ2 . Thus, for i = 1, 2, the
product σiG of the G-translates of σi determines a global section of the [still very
ample!] tensor product LG of G-translates of L such that σ1G and σ2G still have
disjoint zero loci, hence determine a G-equivariant ﬁnite morphism X → P1OK
over OK , as desired. Fix such a ﬁnite morphism, and write f ∈ K(X) for the
rational function on X determined by the standard coordinate function on P1OK .
Next, we recall that it follows from the stable reduction theorem [cf. [DM],
[Knud]] that, after possibly replacing K by a suitable ﬁnite extension ﬁeld of K,
we may assume without loss of generality that every closed point in the support
Supp(f ) [in the smooth compactiﬁcation of X] of the principal divisor associated to f is K-rational, and that X has stable reduction over K. Moreover, by
replacing X by a suitable G-stable open subscheme of X, we may assume without loss of generality that Supp(f ) is contained in the set of cusps of X. Write
X † for the compactiﬁed stable model of X over OK ; E ⊆ X † for the reduced
40

closed subscheme determined by the set of closed points where an irreducible
component of the zero divisor of f on X † intersects an irreducible component
of the divisor of poles of f on X † . Thus, the action of G on X extends to X † .
X † ,x for the completion of the local ring of X † at x. Fix a
Let x ∈ E. Write O
uniformizer πK ∈ OK .
Next, suppose that x is a smooth closed point of X † . Then there exist
nonzero integers a, b of opposite sign and a unit u ∈ (OK [[t]])× [where t denotes
an indeterminate], together with an isomorphism of topological OK -algebras
∼
∼
X † ,x (→
X † ,x →
OK [[t]], such that the image of f in the ﬁeld of fractions of O
O
b
OK [[t]]) is of the form u·ta ·πK
. Next, observe that, by replacing K by a suitable
ﬁnite extension ﬁeld of K [so it may no longer be the case that the element “πK ”
is a uniformizer of OK !], we may assume without loss of generality that there
−b
exists an element γ ∈ OK such that γ a = πK
. Write xη for the K-valued point
of the smooth compactiﬁcation of X determined by the section of the structure
morphism X † → Spec OK corresponding to the homomorphism of topological
OK -algebras
∼
X † ,x →)
(O
OK [[t]] −→ OK
that maps t → γ ∈ OK ; xη for the K-valued point of the smooth compactiﬁcation of X determined by the section of the structure morphism X † → Spec OK
corresponding to the homomorphism of topological OK -algebras
∼

X † ,x →) OK [[t]] −→ OK
(O
that maps t → 0 ∈ OK ; X † [x] for the compactiﬁed stable model of X \ {xη , xη }
over OK . Thus, it follows immediately from the theory of pointed stable curves,
as exposed in [Knud], that the natural inclusion X \ {xη , xη } → X determines
a natural birational, dominant morphism X † [x] → X † . Finally, we observe that
it follows immediately from the various deﬁnitions involved that the rational
function f is a unit [at xη , hence] at the generic point of the unique irreducible
component of (X † [x])s that maps to a closed point of Xs† ; in particular, the
zero divisor of f does not intersect the divisor of poles of f in some Zariski
neighborhood of this irreducible component.
Next, suppose that x is a nonsmooth closed point of X † . Then since the
X † ,x )s are Q-Cartier divisors, it follows
two irreducible components of (Spec O
r
that there exist positive integers a, b, r and a unit u ∈ (OK [[s, t]]/(st − πK
))×
[where s, t denote indeterminates], together with an isomorphism of topological
∼
r
X † ,x →
OK -algebras O
OK [[s, t]]/(st−πK
), such that the image of some positive
∼
r

power of f in the ﬁeld of fractions of OX † ,x (→ OK [[s, t]]/(st − πK
)) is of the
a −b
form u·s ·t . Next, observe that, by replacing K by a suitable ﬁnite extension
ﬁeld of K [so it may no longer be the case that the element “πK ” is a uniformizer
of OK !], we may assume without loss of generality that there exists an element
γ ∈ OK such that γ a+b = πK . Write xη for the K-valued point of the smooth
compactiﬁcation of X corresponding to the section of the structure morphism
X † → Spec OK induced by the homomorphism of topological OK -algebras
∼

X † ,x →) OK [[s, t]]/(st − π r ) −→ OK
(O
K
41

def

that maps s → γ br ∈ OK , t → γ ar ∈ OK ; xη = xη ; X † [x] for the compactiﬁed
stable model of X \ {xη , xη } = X \ {xη } over OK . Thus, it follows immediately
from the theory of pointed stable curves, as exposed in [Knud], that the natural
inclusion X \ {xη , xη } = X \ {xη } → X determines a natural birational, dominant morphism X † [x] → X † . Finally, we observe that it follows immediately
from the various deﬁnitions involved that the rational function f is a unit [at xη ,
hence] at the generic point of the unique irreducible component of (X † [x])s that
maps to a closed point of Xs† ; in particular, the zero divisor of f does not intersect the divisor of poles of f in some Zariski neighborhood of this irreducible
component.
Next, observe that the underlying set of E is ﬁnite. Thus, by replacing X
by a suitable G-stable open subscheme of X, we may assume without loss of
generality that for each x ∈ E, the K-valued points xη , xη constructed above
are contained in the set of cusps of X. Then it follows immediately from the
above discussion that the zero divisor of f on X † does not intersect the divisor
of poles of f on X † . But this implies that f determines a G-equivariant dominant morphism X † → P1OK over OK whose restriction to the respective generic
ﬁbers coincides with the restriction to the respective generic ﬁbers of the ﬁnite
morphism X → P1OK over OK constructed above. Thus, since X † is normal, we
conclude that the morphism X † → P1OK admits a factorization X † → X → P1OK ,
as desired. This completes the proof of assertion (iii).
Next, we verify assertion (iv). First, we observe that since the operation of
forming the quotient of Y sst by G commutes with ﬂat base-change, one veriﬁes
immediately that it suﬃces to verify assertion (iv) after performing any ﬁnite,
faithfully ﬂat base-change from OK to the ring of integers in a ﬁnite extension
ﬁeld of K. In particular, by replacing K by a suitable ﬁnite extension ﬁeld of K,
we may assume without loss of generality that the cusps of X are K-rational,
and that X has stable reduction over K [cf. [DM], [Knud]]. [In fact, these
conditions are satisﬁed even if one does not pass to a ﬁnite extension ﬁeld of
the original given K, but we omit a proof of this fact since it is not logically
necessary for the present discussion.] Write X st for the compactiﬁed stable
model of X over OK .
Next, let us observe that, after possibly replacing K by a suitable ﬁnite
extension ﬁeld of K, one may regard Y sst as the compactiﬁed stable model
associated to the hyperbolic curve Y  obtained by removing from Y a collection
of G-orbits of K-rational points of Y such that the cardinality of the set of
G-orbits of closed points of Yssst contained in the intersection of any irreducible
component of Yssst with the image of the corresponding collection of OK -rational
points of Y sst is ≥ 3. In particular, one veriﬁes immediately that, by replacing
Y by Y  , we may assume without loss of generality that the cardinality of the
set of closed points of each irreducible component of Xs that lie in the image of
the cusps of Y sst is ≥ 3.
Next, let us observe that it follows immediately from the deﬁnition of the
natural quotient morphism Y sst → X that the natural morphism Y sst → X st
over OK induced by the morphism Y → X [cf. [ExtFam], Theorem A] admits

42

a factorization
Y sst −→ X −→ X st ,
where we note that it follows immediately from the deﬁnition of X that X is a
compactiﬁed model of X over OK .
Thus, it follows immediately from the above discussion of Y sst , together with
the theory of pointed stable curves, as exposed in [Knud], that the morphism
X → X st is birational and quasi-ﬁnite, hence, by Zariski’s Main Theorem, an
isomorphism. In particular, we conclude that X is a compactiﬁed semistable
model of X over OK . Moreover, it follows immediately from Remark 2.1.3 that
the natural morphism Yssst → Xs maps smooth points of Yssst to smooth points
of Xs .
Next, let eY ∈ Yssst be a node. Write eX ∈ Xs for the image of eY via the
natural morphism Yssst → Xs ; GeY ⊆ G for the stabilizer of eY in G; Yesst
for the
Y
spectrum of the completion of the local ring of Y sst at eY ; XeX for the spectrum
of the completion of the local ring of X at eX . Thus, GeY acts naturally on
Yesst
; XeX may be identiﬁed with the quotient of Yesst
by the action of GeY ; the
Y
Y
set BY of irrreducible components of (Yesst
) may be identiﬁed with the set [of
Y s
cardinality 2] of branches of eY ; the set BX of irrreducible components of (XeX )s
is of cardinality 1 if and only if eX is a smooth point of Xs and may be identiﬁed
with the set [of cardinality 2] of branches of eX whenever eX is a node. On the
other hand, it follows immediately from elementary commutative algebra that
the set BX may be naturally identiﬁed with the set of GeY -orbits of BY . The
remaining portion of assertion (iv) now follows formally. This completes the
proof of assertion (iv).
 Write
Next, we verify assertions (v) and (vi). Let c ∈ VE(X).
def

Rc = lim OZ,zc ,
−→
Z

where
• Z ranges over the compactiﬁed semistable models with split reduction of
the domain curves of connected ﬁnite étale coverings Z → X equipped
 → Z → X;
with a factorization X
• cZ denotes the irreducible component or node of Zs determined by c;
• zc denotes the generic point of the intersection of the [closed irreducible]
images in Zs of the cZ † associated to compactiﬁed semistable models
with split reduction of domain curves of connected ﬁnite étale coverings
 → Z † → Z → X such that the
Z † → X equipped with a factorization X
†
morphism Z → Z extends to a morphism Z † → Z;
• the transition maps in the direct limit are the homomorphisms of local
rings induced by the corresponding scheme-theoretic morphisms of compactiﬁed semistable models [which form a directed inverse system — cf.
Proposition 2.3, (iii)].
43

Then it follows immediately from the various deﬁnitions involved that the ﬁeld
 that OK ⊆ Rc , and that Rc is a local
of fractions of Rc coincides with K(X),
c ⊆ K(X)
 be a valuation
domain whose maximal ideal mRc contains p. Let R
c for the
ring that dominates Rc [cf., e.g., [EP], Theorem 3.1.1]. Write mRc ⊆ R
c . Thus, since OK ⊆ O ⊆ Rc ⊆ R
c and p ∈ mR ⊆ m  , we
maximal ideal of R
c

K

Rc

c , i.e., that the valuation determined by the valuation
conclude that OK = K ∩ R
c is a p-valuation.
ring R
c may be written as the direct limit [i.e., in fact, union] of a direct
Note that R
c }i∈I over OK . Moreover,
system of ﬁnitely generated subalgebras {Ri ⊆ R
since Ri is [ﬁnitely generated over the complete discrete valuation ring OK ,

hence] excellent, by replacing Ri by its normalization in the subﬁeld of K(X)
generated by the ﬁeld of fractions of Ri and some suitable ﬁnite extension ﬁeld
of K, we may assume without loss of generality that Ri is normal, and that
there exists a compactiﬁed semistable model with split reduction Zi of the
domain curve of a connected ﬁnite étale covering Zi → X equipped with a
 → Zi → X such that Spec Ri arises as an open subscheme of
factorization X
def
Zi [cf. Proposition 2.3, (i), (iii)]. Write pi = mRc ∩ Ri ⊆ Ri . Thus, if we write
zi for the point of Zi that corresponds to pi , then it holds that
c = lim OZ ,z .
R
i i
−→
i∈I

On the other hand, observe that, since mRc ∩ Rc = mRc , it follows immediately
from the various deﬁnitions involved that each “OZi ,zi (= (Ri )pi )” of the above
direct limit appears as one of the “OZ,zc ” in the direct limit used to deﬁne Rc .
c , hence that Rc = R
c , i.e., that Rc
 c ⊆ Rc ⊆ R
In particular, we conclude that R
is the valuation ring associated to a p-valuation. Thus, in summary, we obtain
a natural map
 −→ p-valuations on K(X)

VE(X)
  c → Rc . Moreover, one veriﬁes immediately that this map
that maps VE(X)
deﬁnes an inverse to the natural map

p-valuations on K(X)


−→ VE(X)

in the statement of assertion (v), hence that both of these maps are bijective.
Since both of these maps are manifestly compatible with specialization/generization,
we thus conclude that these induce a bijection

primitive p-valuations on K(X)

∼

 prim
→ VE(X)

as in the statement of assertion (v).
Thus, to complete the proof of assertion (v), it suﬃces to verify that the
natural map


X(Ω)
−→ p-valuations on K(X)
44


[i.e., that assigns to an element of X(Ω)
the associated point-theoretic valuation


on K(X)] is injective. To this end, let x̃ ∈ X(Ω).
Write v for the point-theoretic

valuation on K(X) associated to x̃. Then observe that x̃ is deﬁned over K if and
 is strict. If this inclusion is strict, then the
only if the inclusion Ov · K ⊆ K(X)
 is the valuation ring determined [i.e., in the usual sense
subring Ov · K ⊆ K(X)
of the classical theory of one-dimensional function ﬁelds over algebraically closed
 is strict, the
ﬁelds] by x̃. In particular, whenever the inclusion Ov · K ⊆ K(X)


point x̃ ∈ X(K) (⊆ X(Ω)) is completely determined by v. Thus, it remains to
 In this case, the valuation v is real, and
consider the case where Ov ·K = K(X).
 induces, by passing to the respective completions, an
the inclusion K ⊆ K(X)
 with respect to v. In particular,
isomorphism of Ω with the completion of K(X)

we obtain a natural homomorphism K(X) → Ω, which completely determines

the point x̃ ∈ X(Ω).
This completes the proof of assertion (v). Assertion (vi)
follows immediately from the proof of assertion (v).

Next, we verify assertion (vii). Let x ∈ X(Ω).
Write v for the point-theoretic

valuation on K(X) associated to x; φx : Ov → OΩ for the homomorphism
obtained by evaluating rational functions at x. Let q ⊆ Ov be a prime ideal
that contains p. Then observe that it follows immediately from the construction
of v that p1 ·Ker(φx ) ⊆ Ker(φx ). Since p ∈ q, we thus conclude that Ker(φx ) ⊆ q.
On the other hand, observe that [it follows immediately from the construction
of v that] this inclusion implies that q contains [hence coincides with] the radical
of the ideal (p, Ker(φx )) ⊆ Ov , which is easily seen to be equal to the maximal
ideal mv of Ov . Thus, we conclude that v is primitive.
 Let a ∈ mv . Then since v is real,
Next, let v be a real p-valuation on K(X).
there exists a positive integer N such that aN ∈ (p). In particular, any prime
ideal that contains p contains [hence coincides with] mv . Thus, we conclude that
v is primitive.
 For each z ∈ Ov , write
Next, let v be a primitive p-valuation on K(X).
 for the Ov -subalgebra generated by 1 . Thus, if (K ⊆) (Ov )p =
(Ov )z ⊆ K(X)
z
 then it follows immediately from the classical theory of one-dimensional
K(X),
function ﬁelds over algebraically closed ﬁelds that v is a point-theoretic valuation.
 Note
Therefore, we may assume without loss of generality that (Ov )p = K(X).
that this implies that for each x ∈ Ov \ {0}, there exist a positive integer N and
y ∈ Ov such that pN = xy. Moreover, in this situation, it holds that
mK Ov = mv .
Indeed, since v is a p-valuation, the inclusion mK Ov ⊆ mv is immediate. Now
suppose that there exists an element x ∈ mv \ mK Ov . Then it follows that
1
p ∈ (Ov )x , hence that there exists a prime ideal pv of Ov such that x ∈ pv , and
p ∈ pv . On the other hand, since v is primitive, we conclude that x ∈ mv = pv ,
a contradiction. This completes the proof of the equality in the above display.
Note that this equality implies that for each x ∈ mv \ {0}, there exist a positive
integer N and y ∈ Ov such that xN = py. In particular, it follows immediately
from the various deﬁnitions involved that v coincides with the real valuation
45

determined by the assignment
Ov \ {0}  x → sup{ ∈ Q | x ∈ p · Ov } = inf{ ∈ Q | x−1 ∈ p− · Ov } ∈ R.
This completes the proof of assertion (vii).
Next, we verify assertion (viii). First, let us observe that it follows immediately from the ﬁnal portion of Proposition 2.3, (vii), that the natural map

 an −→ VE(X)
X
 the center-chain associated to the
— i.e., that assigns to a valuation on K(X)
valuation — admits a factorization
∼
 an →
 prim −→ VE(X),

X
VE(X)
ιX


where the ﬁrst arrow is a bijection, and the second arrow ιX denotes the natural
inclusion. On the other hand, it follows immediately from the discussion of the
 tor ” in Deﬁnition
ratios “ρb,v ” in Remark 2.1.4 and the construction of “VE(X)
 also admits a factorization
 an → VE(X)
2.2, (vi), that this natural map X
 tor −→ VE(X),

 an −→ VE(X)
X
θX



X

where the ﬁrst map θX is deﬁned by considering ratios “ρb,v ” as in Remark 2.1.4
 tor ” in Deﬁnition 2.2, (vi)], and the second
[cf. also the construction of “VE(X)
arrow X is the natural map discussed in the ﬁnal portion of Deﬁnition 2.2, (vi).
In particular, we obtain a commutative diagram of maps of sets
 an
X
⏐
⏐


 tor
−−−−→ VE(X)
θX

⏐
⏐

X

 prim −−−−→ VE(X).

VE(X)
ιX


Note that the commutativity of the diagram already implies that θX is injective.
Moreover, one veriﬁes immediately — i.e., by considering suitable “v” as in
Remark 2.1.4 — that each composite map θZ
 tor −→ VE(Z)tor
 an −→ VE(X)
X
θX


— where the second arrow is the natural projection arising from the inverse limit
 tor [cf. Deﬁnition 2.2, (vi)] — has dense image. Thus,
in the deﬁnition of VE(X)
 an [cf. [Brk], Theorem 1.2.1], together
it follows from the compactness of X
with the easily veriﬁed fact [cf. the construction of Deﬁnition 2.2, (vi)] that
VE(Z)tor is Hausdorﬀ, that to verify that θX is a homeomorphism, it suﬃces to
verify that each map θZ is continuous. Moreover, once one knows that θX is a
homeomorphism, one may construct a natural splitting τX as in the statement
46

of Proposition 2.3, (viii), by constructing a natural splitting of the natural
 → VE(X)
 prim
inclusion ιX . On the other hand, such a natural splitting VE(X)
of ιX is implicit in the content of Proposition 2.2, (x) [which will be veriﬁed
below, independently of the present assertion (viii)], i.e., one assigns to each
 the unique generization ∈ VE(X)
 prim of c.
nonprimitive element c ∈ VE(X)
Thus, in summary, to complete the proof of assertion (viii), it suﬃces to
verify that each map
 an −→ VE(Z)tor
θZ : X
as in the above discussion is continuous. Let Z † be a toral compactiﬁed semistable
model relative to Z. Then we shall refer to an open subscheme U of Zs† as a
componentwise open of Z † if U is an open subscheme of Zs† whose underlying
open subset is the complement of a node or an irreducible component of Zs† .
Observe that it follows immediately from the construction of VE(Z)tor given in
Deﬁnition 2.2, (vi), that each componentwise open of each toral compactiﬁed
semistable model relative to Z determines, in a natural way, a closed subset of
VE(Z)tor . We shall refer to the closed subsets of VE(Z)tor obtained in this way
as componentwise closed subsets of VE(Z)tor . Note that it follows immediately
from the construction of VE(Z)tor given in Deﬁnition 2.2, (vi), that the complements of the componentwise closed subsets of VE(Z)tor form an open basis
of the topology of VE(Z)tor . Thus, to complete the proof of the contininuity
of θZ , it suﬃces to verify that the inverse image via θZ of any componentwise
 an . But this follows immediately from
closed subset of VE(Z)tor is closed in X
the deﬁnition of the topology of the Berkovich spaces [cf. the discussion of [Brk],
 an ” in the
§1.1, §1.2] that appear in the inverse limit that is used to deﬁne “X
statement of Proposition 2.3, (vii). This completes the proof of assertion (viii).
Next, we verify assertion (ix). In the following, we assume that δ(c1 , c2 ) =
+∞.
Let us ﬁrst consider the case where δ(c1 , c2 ) ≥ 1. Then it follows immediately
from the deﬁnition of δ(−, −) that there exists a compactiﬁed semistable model
Z with split reduction of a connected ﬁnite étale covering Z → X equipped
 → Z → X such that δ(zc , zc ) ≥ 1 [cf. the notation
with a factorization X
1
2
of Proposition 2.3, (vi)]. In particular, there exists a node e of Zs that does
not coincide with zc1 or zc2 , and whose corresponding edge lies on a path of
minimal length between zc1 and zc2 . On the other hand, by considering suitable
torally compactiﬁed semistable models relative to Z at e, we conclude that
δ(c1 , c2 ) = +∞, in contradiction to our assumption that δ(c1 , c2 ) = +∞.
Thus, to complete the proof of assertion (ix), it suﬃces to consider the case
where δ(c1 , c2 ) = 0. Let us ﬁrst observe that the condition that δ(c1 , c2 ) = 0
 such that c3  c1 and c3  c2 .
implies the existence of an element c3 ∈ VE(X)

Finally, we verify the uniqueness of such an element c3 ∈ VE(X).
Let c4 ∈

VE(X) be such that c3 = c4 , c4  c1 , and c4  c2 . Then since δ(c3 , c4 ) < +∞,
it follows immediately from the above discussion that there exists an element
 such that c5  c3 , and c5  c4 . Moreover, since c1 = c2 , and
c5 ∈ VE(X)
c3 = c4 , by permuting {c3 , c4 } or {c1 , c2 } if necessary, we may assume without
loss of generality that c5 = c3 , and c3 = c1 . On the other hand, the resulting
47

nontriviality of the specialization relations c5  c3  c1 then contradicts the
1-dimensionality of the special ﬁbers of the compactiﬁed semistable models “Z”
 This completes the proof of assertion
that appear in the deﬁnition of VE(X).
(ix).
def

Next, we verify assertion (x). Write c1 = c. Suppose that c2  c1 , c2  c1
 \ {c1 }. Then it follows that δ(c2 , c ) <
for distinct elements c2 , c2 ∈ VE(X)
2
+∞. Thus, we conclude from Proposition 2.3, (ix), that there exists an element
 such that c3  c2 , and c3  c . In particular, by permuting
c3 ∈ VE(X)
2
{c2 , c2 } if necessary, we may assume without loss of generality that c3 = c2 ,
and c2 = c1 . On the other hand, the resulting nontriviality of the specialization
relations c3  c2  c1 then contradicts the uniqueness portion of Proposition
2.3, (ix). This completes the proof of assertion (x).
Next, we verify assertion (xi). Let Z → X be a [connected] ﬁnite étale Ga → Z → X such that Z has split
lois covering equipped with a factorization X
∗
stable reduction over K; Z a compactiﬁed semistable model with split reduction of Z over OK that is stabilized by the natural action of Gal(Z/X). [Note
that it follows immediately from Proposition 2.3, (iii), that such compactiﬁed
semistable models form a directed inverse system that is coﬁnal in the directed

inverse system that appears in the deﬁnition of VE(X).]
Write Z for the compactiﬁed stable model with split reduction of Z over OK ; Γ for the dual graph
of Zs ; Γ∗ for the dual graph of Zs∗ . Observe that the natural action of s(H) on
Γ∗ factors through a ﬁnite quotient of s(H). Thus, it follows immediately from
[CbTpIV], Corollary 1.15, (iii), that the natural action of s(H) on Γ has a ﬁxed
point c ∈ Γ. On the other hand, it follows immediately from the well-known
theory of stable and semistable models [i.e., which may be reduced, by adding
ﬁnitely many suitably positioned cusps, to the theory of pointed stable curves
and contraction morphisms that arise from eliminating cusps, as exposed in
[Knud]] that the inverse image of [the node or interior of an irreducible component in Zs∗ corresponding to] c via the dominant morphism Z ∗ → Z determines
a tree inside Γ∗ . Moreover, we recall that any action of a ﬁnite group on a tree
has a ﬁxed point [cf., e.g., [SemiAn], Lemma 1.8, (ii)]. Thus, we conclude that
the natural action of s(H) on Γ∗ has a ﬁxed point. Since any inverse limit of
nonempty ﬁnite sets is nonempty, we thus conclude that the natural action of
 has a ﬁxed point ∈ VE(X),
 hence from Proposition 2.3, (x),
s(H) on VE(X)

 prim .
that the natural action of s(H) on VE(X)prim has a ﬁxed point ∈ VE(X)
This completes the proof of assertion (xi).
Next, we verify assertion (xii). Fix a prime number l ∈ Σ\{p}. Then observe
that it follows from the stable reduction theorem [cf. [DM], [Knud]] that, after
possibly replacing K by a suitable ﬁnite extension ﬁeld of K, we may assume
without loss of generality that Σ = {p, l}, and that X has stable reduction over
K. Write X for the [unique, up to unique isomorphism] compactiﬁed stable
model of X over OK .
Next, observe that it follows immediately from Hurwitz’s formula, together
with the well-known structure of geometric fundamental groups of hyperbolic
curves over ﬁelds of characteristic zero [cf., e.g., [CmbGC], Remark 1.1.3], that,
48

after possibly replacing K by a suitable ﬁnite extension ﬁeld of K, there exists a
connected geometrically pro-p ﬁnite étale covering Y → X of hyperbolic curves
with split stable reduction over K that satisﬁes the condition that Y is of genus
gY ≥ 2. Write Y † for the smooth compactiﬁcation of Y over K; Y † for the
[unique, up to unique isomorphism] compactiﬁed stable model of Y † over OK .
Then observe that, if Y † is smooth over OK , then it follows immediately from
the non-injectivity of the natural surjective homomorphism
ab
Πab
Y † ⊗ Z/pZ  ΠY † ⊗ Z/pZ
s

[where we recall that, since Y † is of genus gY † ≥ 2, the domain of this homomorphism is of cardinality p2gY † , while the codomain of this homomorphism is
of cardinality ≤ pgY † ], together with Hurwitz’s formula [cf. also Zariski-Nagata
purity; [ExtFam], Theorem A], that, after possibly replacing K by a suitable
ﬁnite extension ﬁeld of K, there exists a [connected] ﬁnite étale cyclic covering
Y ‡ → Y † of hyperbolic curves over K that is of degree p and, moreover, satisﬁes
the property that Y ‡ has bad reduction. In particular, by replacing Y ‡ ×Y † Y by
Y , we may assume without loss of generality that Y has bad reduction. Moreover, by replacing the connected geometrically pro-p ﬁnite étale covering Y → X
by its Galois closure, we may assume without loss of generality that Y → X is
a [connected] geometrically pro-p ﬁnite étale Galois covering [cf. Remark 2.1.3;
Hurwitz’s formula].
Next, observe that it follows immediately from the theory of admissible coverings [cf., e.g., [Hur], §3], together with Hurwitz’s formula [and the well-known
structure of geometric pro-l fundamental groups of hyperbolic curves over ﬁelds
of characteristic p = l — cf., e.g., [CmbGC], Remark 1.1.3], that, after possibly
replacing K by a suitable ﬁnite extension ﬁeld of K, there exists a [connected]
geometrically pro-l ﬁnite étale Galois covering Z → Y of hyperbolic curves with
split stable reduction over K that satisﬁes the condition that every irreducible
component of the special ﬁber of the [unique, up to unique isomorphism] stable model of Z is a smooth curve of genus ≥ 2. Here, note that, by replacing
Z → Y by the composite of the Gal(Y /X)-conjugates of the admissible covering
Z → Y , we may assume without loss of generality that the composite covering
def
Z → Y → X is Galois. Thus, by taking X † = Z, we obtain a [connected]
geometrically pro-Σ ﬁnite étale Galois covering X † → X of hyperbolic curves
satisfying the conditions in the statement of assertion (xii), as desired. This
completes the proof of assertion (xii), hence of Proposition 2.3.

Remark 2.3.1. We maintain the notation of Proposition 2.3. Then we observe
that the statement of Proposition 2.3, (ii), becomes false if one omits the condition that the p-valuation v is residue-transcendental. Indeed, it suﬃces to
construct an example of a discrete p-valuation on K(X) whose residue ﬁeld is
algebraic over the residue ﬁeld of OK . Suppose that no ﬁnite extension ﬁeld of
the residue ﬁeld of OK is separably closed [a condition that is satisﬁed if, for
instance, the residue ﬁeld of OK is ﬁnite]. Then one veriﬁes immediately that
49

 ur ) \ X(K) = ∅, and that for any x ∈ X(K
 ur ) \ X(K), the point-theoretic
X(K
valuation associated to x on K(X) satisﬁes the desired properties.
Remark 2.3.2. An alternative proof of Proposition 2.3, (iv), may be found in
[Ray2], Proposition 5. The proof of Proposition 2.3, (iv), given in the present
paper is of interest in that it involves techniques that are closer to the overall
approach of the present paper.
∼
 an →
 tor of Proposition 2.3, (viii),
Remark 2.3.3. The homeomorphism X
VE(X)
is essentially the same as the homeomorphism of [Lpg1], Proposition 1.1, but
we give [essentially] self-contained statements and proofs here in the language
of the present discussion for the sake of completeness.

Remark 2.3.4. We maintain the notation of Proposition 2.3. Let X be a compactiﬁed semistable model of X over OK ; x ∈ X a smooth closed point. Write
η for the generic point of the unique irreducible component of Xs that contains
x. Then one may construct a p-valuation v on K(X) associated to x by taking
the ring of integers Ov to consist of the elements ∈ K(X) that are integral with
respect to the discrete valuation on K(X) associated to η and, moreover, map
to an element in the residue ﬁeld k(η) of X at η that is integral with respect to
the discrete valuation on k(η) determined by x. Note that η determines a prime
ideal of Ov that contains p. In particular, v is nonprimitive.
Proposition 2.4 (First properties of resolution of nonsingularities). Let
Σ ⊆ Primes be a nonempty subset; K a mixed characteristic complete discrete
valuation ﬁeld of residue characteristic p; X a hyperbolic curve over K. Then:
(i) Let U ⊆ X be an open subscheme [so U is a hyperbolic curve over K].
Suppose that X satisﬁes Σ-RNS. Then it holds that U satisﬁes Σ-RNS.
(ii) Let f : Y → X be a connected geometrically pro-Σ ﬁnite étale covering
over K [so Y is a hyperbolic curve over a ﬁnite extension ﬁeld of K].
Then it holds that X satisﬁes Σ-RNS if and only if Y satisﬁes Σ-RNS.
(iii) Suppose that X satisﬁes the following condition:
Let X be a compactiﬁed model of X over OK ; x ∈ Xs a closed
point. Then, after possibly replacing K by a suitable ﬁnite extension ﬁeld of K, there exist
• a connected geometrically pro-Σ ﬁnite étale Galois covering
Y → X of hyperbolic curves over K,
• a compactiﬁed semistable model Y of Y over OK ,
• a morphism Y → X of compactiﬁed models over OK that
restricts to the ﬁnite étale Galois covering Y → X,
50

• an irreducible component D of Ys whose normalization is
of genus ≥ 1, and whose image in Xs is x ∈ Xs .
Then X satisﬁes Σ-RNS.
(iv) Suppose that X satisﬁes Σ-RNS. Let X be a compactiﬁed model of X over
OK . Then, after possibly replacing K by a suitable ﬁnite extension ﬁeld of
K, there exists a connected geometrically pro-Σ ﬁnite étale Galois covering
Y → X over K, together with a compactiﬁed stable model Y of Y over
OK , such that the covering Y → X extends to a morphism Y → X .
(v) Suppose that we are in the situation of Proposition 2.3, (v), and that X
satisﬁes Σ-RNS. Write
 st ,
VE(X)

 st,tor ,
VE(X)

 st,prim ,
VE(X)

 st,pt-th
VE(X)

 VE(X)
 tor , VE(X)
 prim , VE(X)
 pt-th
for the modiﬁed versions of VE(X),
obtained by requiring that the compactiﬁed semistable models “Z” that
appear in the inverse limits used to deﬁne these sets be compactiﬁed
stable models. [Here, we observe that, in light of (iv), the various toral
compactiﬁed semistable models “Z † ” relative to “Z” that appear in the
construction of “VE(Z)tor ” in Deﬁnition 2.2, (vi), may be understood as
being obtained as the result of contracting suitable irreducible components
in the special ﬁbers [cf. Remark 2.1.6] of suitable quotients of compactiﬁed
stable models as in Proposition 2.3, (iv).] Then the natural maps
 −→ VE(X)
 st
VE(X)
 tor −→ VE(X)
 st,tor
VE(X)
 prim −→ VE(X)
 st,prim
VE(X)
 pt-th −→ VE(X)
 st,pt-th
VE(X)
are bijective.
(vi) Suppose that we are in the situation of Proposition 2.3, (v). Then X
 it holds that
satisﬁes Σ-RNS if and only if for each c ∈ VE(X),
Rc = lim OZ st ,zc ,
−→
st
Z

 denotes the valuation ring of the p-valuation associwhere Rc ⊆ K(X)
ated to c [cf. Proposition 2.3, (v)]; the direct limit ranges over the set of
compactiﬁed stable models with split reduction Z st of the domain curves
of connected ﬁnite étale coverings Z → X equipped with a factorization
 → Z → X; zc denotes the center on Z st determined by Rc ; the tranX
sition maps in the direct limit are induced by the corresponding schemetheoretic morphisms of compactiﬁed stable models [which, in light of (iv),
form a directed inverse system].
51

(vii) Suppose that we are in the situation of Proposition 2.3, (v), and that
X satisﬁes Σ-RNS. Let l ∈ Σ \ {p}; H ⊆ GK a closed subgroup such
that the intersection H ∩ IK of H with the inertia subgroup IK of GK
(Σ)
admits a surjection to [the proﬁnite group] Zl ; s : H → ΠX a section
(Σ)
of the restriction to H of the natural surjection ΠX  GK . Then there
 prim that is ﬁxed by the restriction,
exists at most one element c ∈ VE(X)
(Σ)
 prim ⊆ VE(X);
 if,
via s, to H of the natural action of ΠX on VE(X)
moreover, the restriction to H of the l-adic cyclotomic character of K
 prim . In
has open image, then there exists a unique such element c ∈ VE(X)
 an
particular, if X is proper, then there exists at most one element can ∈ X
[cf. Proposition 2.3, (vii)] that is ﬁxed by the restriction, via s, to H of
(Σ)
 an ; if,
the natural action of ΠX on the topological pro-Berkovich space X
moreover, the restriction to H of the l-adic cyclotomic character of
 an .
K has open image, then there exists a unique such element can ∈ X
Proof. Assertions (i), (ii) follow immediately from the various deﬁnitions involved. Next, we verify assertion (iii). Let v be a discrete residue-transcendental
p-valuation on K(X). Then it follows immediately from Proposition 2.3, (ii),
(iii), that, after possibly replacing K by a suitable ﬁnite extension ﬁeld of K,
there exists a compactiﬁed semistable model X of X over OK such that v
arises from an irreducible component of Xs . Let {x1 , . . . , xN } ⊆ Xs be a ﬁnite set of distinct closed points in the smooth locus of Xs such that every
irreducible component of Xs whose normalization is of genus 0 contains three
points ∈ {x1 , . . . , xN }. Then it follows immediately from our assumption on
X that, after possibly replacing K by a suitable ﬁnite extension ﬁeld of K, for
each positive integer i ≤ N , there exist
• a connected geometrically pro-Σ ﬁnite étale Galois covering Yi → X over
K,
• a morphism fi : Yi → X of compactiﬁed semistable models over OK that
restricts to the ﬁnite étale Galois covering Yi → X,
• an irreducible component Di of (Yi )s whose normalization is of genus ≥ 1,
and whose image in Xs is xi .
Write fη : Y → X for the connected geometrically pro-Σ ﬁnite étale Galois
covering over K obtained by forming the composite of the ﬁnite étale Galois
coverings {Yi → X}1≤i≤N over K. Then it follows immediately from Proposition 2.3, (iii), that, after possibly replacing K by a suitable ﬁnite extension
ﬁeld of K, there exists a compactiﬁed semistable model Y † of Y over OK that
dominates the respective normalizations of the semistable models {Yi }1≤i≤N in
the function ﬁeld of Y . In particular, for each positive integer i ≤ N , there
exists an irreducible component Di† of (Y † )s whose normalization is of genus
≥ 1, and whose image in Xs is xi .
Next, let us observe that it follows immediately from the theory of pointed
stable curves, as exposed in [Knud], that, after possibly replacing K by a suitable ﬁnite extension ﬁeld of K, we may regard Y † as the compactiﬁed stable
52

model associated to the hyperbolic curve Y † obtained by removing from Y a
collection of K-rational points of Y . In a similar vein, it follows immediately
from the theory of pointed stable curves, as exposed in [Knud], that, after possibly replacing K by a suitable ﬁnite extension ﬁeld of K and replacing Y † by a
suitable Gal(Y /X)-stable dense open subscheme of Y † , we may assume without
loss of generality that Y † is stabilized by the action of Gal(Y /X).
Write
f † : Y† → X
for the natural dominant morphism that restricts to the ﬁnite étale Galois covering fη : Y → X;
κ† : Y † → Y st
for the natural dominant morphism to a compactiﬁed stable model Y st of Y
over OK [cf. [ExtFam], Theorem A]. Thus, for each positive integer i ≤ N ,
f † (Di† ) = xi ∈ Xs . In particular, since the covering fη : Y → X is Galois,
and Y † is stabilized by the action of Gal(Y /X), it follows immediately from
Zariski’s Main Theorem that, for each positive integer i ≤ N , the inverse image
(f † )−1 (xi ) ⊆ Ys† is a closed subscheme that contains Di† and is pure of dimension
1. Here, we recall that Di† is an irreducible component of Ys† whose normalization
is of genus ≥ 1, hence necessarily maps birationally, via κ† , to an irreducible
component of Y st . In particular, we conclude that each connected component of
(f † )−1 (xi ) ⊆ Ys† contains an irreducible component of Ys† that maps birationally,
via κ† , to an irreducible component of Y st .
Next, let D† ⊆ Ys† be an irreducible component of Ys† that maps to a closed
point κ† (D† ) of Ysst via κ† : Y † → Y st , but dominates an irreducible component
def

E = f † (D† ) of Xs . Note that these assumptions imply that the normalization
of D† is of genus 0, and hence that E is an irreducible component of Xs whose
normalization is of genus 0. Thus, we conclude [cf. the condition imposed on
the subset {x1 , . . . , xN } ⊆ Xs ] that E contains three points ∈ {x1 , . . . , xN },
i.e., [since (f † )−1 (xi ) is pure of dimension 1] that D† contains at least 3 nodes
[that map to three distinct “xi ”]. On the other hand, this [together with the
birationality of κ† ] implies that the closed point κ† (D† ) of Ysst intersects three
distinct irreducible components of Ysst [i.e., the images of suitable irreducible
components of (f † )−1 (xi ) ⊆ Ys† , for three distinct “i”], that is to say, in contradiction to the deﬁnition of the notion of a compactiﬁed stable model [cf.
Deﬁnition 2.1, (iv)]. Thus, we conclude that there do not exist any such “D† ”
[i.e., that map to a closed point of Ysst , but dominate an irreducible component
of Xs ], and hence, by Zariski’s Main Theorem, that the morphism f † : Y † → X
factors as the composite of κ† with a morphism f st : Y st → X . In particular,
it follows from the existence of the morphism f st : Y st → X that Ysst contains
an irreducible component whose corresponding valuation induces the given valuation v on K(X), i.e., that X satisﬁes Σ-RNS. This completes the proof of
assertion (iii).
Next, we verify assertion (iv). In light of Proposition 2.3, (iii), after possibly
replacing K by a suitable ﬁnite extension ﬁeld of K, we may assume without loss

53

of generality that X is a compactiﬁed semistable model with split reduction of X
over OK . Write {v1 , . . . , vN } for the set of discrete valuations on K(X) that arise
from the irreducible components of Xs . Then since X satisﬁes Σ-RNS, for each
positive integer i ≤ N , there exists a connected geometrically pro-Σ ﬁnite étale
Galois covering Yi → X such that vi coincides with the restriction of a discrete
valuation on the function ﬁeld of Yi that arises from an irreducible component
of the special ﬁber of a compactiﬁed stable model of Yi . Write Y → X for
the composite covering of the connected geometrically pro-Σ ﬁnite étale Galois
coverings {Yi → X}1≤i≤N . Then it follows immediately from Zariski’s Main
Theorem [cf. also [ExtFam], Theorem A] that, after possibly replacing K by a
suitable ﬁnite extension ﬁeld of K, there exists a compactiﬁed stable model Y
of Y over OK that dominates X . This completes the proof of assertion (iv).
Assertion (v) and the necessity portion of assertion (vi) follow immediately
from Proposition 2.4, (iv), together with Proposition 2.3, (iv), (vi). Next, we
 be an element
consider the suﬃciency portion of assertion (vi). Let c ∈ VE(X)
 that extends
that corresponds [cf. Proposition 2.3, (v)] to a valuation v on K(X)
a discrete residue-transcendental p-valuation on X. [Note that in this situation,
v itself is necessarily residue-transcendental.] Then it suﬃces to show that there
exists a “zc ” as in the statement of Proposition 2.4, (vi), that is a generic point
of “Zsst ”. To this end, we observe that the nonexistence of such a “zc ” would
imply that all of the “zc ” are closed points of “Zsst ”, hence have residue ﬁelds
that are algebraic over the residue ﬁeld of OK . On the other hand, this would
imply that the residue ﬁeld of Rc = Ov is algebraic over the residue ﬁeld of OK ,
in contradiction to the residue-transcendentality of v. This completes the proof
of assertion (vi).
Finally, we verify assertion (vii). The portion of assertion (vii) concerning
 prim as in the statement of Proposition
the existence of an element c ∈ VE(X)
2.4, (vii), follows from Proposition 2.3, (xi). To verify the portion of assertion
 prim , it suﬃces
(vii) concerning the uniqueness of such an element c ∈ VE(X)
 prim that satisfy the
to show the equality of any two elements c1 , c2 ∈ VE(X)
condition imposed on element “c” in the statement of Proposition 2.4, (vii).
 st,prim . Then it follows from
Write c1 , c2 for the images of c1 , c2 in VE(X)
Proposition 2.4, (iv); [CbTpIV], Corollary 1.15, (iv) [applied to c1 , c2 ], that
δ(c1 , c2 ) < +∞, hence from Proposition 2.3, (ix), that c1 = c2 , as desired. This
completes the proof of assertion (vii), hence of Proposition 2.4.

Corollary 2.5 (Constructions associated to geometric tempered fundamental groups). Let Σ ⊆ Primes be a subset of cardinality ≥ 2 such that
p ∈ Σ; K † , K ‡ mixed characteristic complete discrete valuation ﬁelds of residue
†
‡
characteristic p; X † , X ‡ hyperbolic curves over K , K , respectively. Write Ω† ,
†
‡
Ω‡ for the p-adic completions of K , K , respectively. For any hyperbolic curve
†
‡
Z over K , K , Ω† , or Ω‡ , write Πtp
Z for the Σ-tempered fundamental group
of Z, relative to a suitable choice of basepoint [cf. the subsection in Notations

54

 † → X †, X
‡ → X‡
and Conventions entitled “Fundamental groups”]. Write X
tp
for the universal geometrically pro-Σ coverings corresponding to ΠX † , Πtp
, reX‡
spectively. Suppose that X † and X ‡ satisfy Σ-RNS. Then the following hold [cf.
Remark 2.5.1 below]:
∼

(i) Let σ : Πtp
→ Πtp
be an isomorphism of topological groups. Then σ
X†
X‡
induces homeomorphisms
∼
 ‡ ),
 †) →
VE(X
VE(X
∼
 † )tor →
 ‡ )tor ,
VE(X
VE(X
∼

 † )prim → VE(X
 ‡ )prim ,
VE(X
that are compatible with the respective natural actions of Πtp
, Πtp
. If,
X†
X‡
†
‡
moreover, X and X are proper, then σ induces a homeomorphism
∼
 ‡ )an
 † )an →
(X
(X

that is compatible with the respective natural actions of Πtp
, Πtp
.
X†
X‡
†

def

‡

def

(ii) Suppose that K = K † = K ‡ , K = K = K , hence that Ω = Ω† = Ω‡ .
Let x† ∈ X † (Ω), x‡ ∈ X ‡ (Ω). Write Xx†† (respectively, Xx‡‡ ) for the
∼
 : Πtp† →
hyperbolic curve XΩ† \{x† } (respectively, XΩ‡ \{x‡ }) over Ω. Let σ

X †
x
tp
Π ‡ be an isomorphism of topological groups that ﬁts into a commutative
X ‡
x

diagram

∼

Πtp† −−−−→ Πtp‡
X †
X ‡
σ

⏐x
⏐x
⏐
⏐


∼

Πtp
−−−−→ Πtp
,
X†
X‡
σ

where the vertical arrows are the natural surjections [determined up to
composition with an inner automorphism] induced by the natural open
immersions Xx†† → XΩ† , Xx‡‡ → XΩ‡ of hyperbolic curves; the lower horizontal arrow σ is the isomorphism of topological groups [determined up to
composition with an inner automorphism] induced by a(n) [uniquely de∼
termined — cf., e.g., [DM], Lemma 1.14] isomorphism σX : X † → X ‡ of
schemes over K. Then x‡ = σX (x† ).
Proof. First, we verify assertion (i). We begin by recalling that [SemiAn], Corollary 3.11, may be generalized/applied to hyperbolic curves over an arbitrary
mixed characteristic complete discrete valuation ﬁeld [cf. [AbsTopII], Remark
2.11.1, (i)]. Thus, by applying this generalized version of [SemiAn], Corollary
∼
 ‡ )st .
 † )st →
VE(X
3.11, we conclude that σ induces a homeomorphism VE(X
†
‡
On the other hand, it follows from our assumption that X and X satisfy
∼
 →
 st ” and
Σ-RNS that we may apply the homeomorphisms “VE(X)
VE(X)
55

∼
 tor →
 st,tor ” of Proposition 2.4, (v). In particular, we conclude
“VE(X)
VE(X)
that σ induces a homeomorphism
∼
 ‡ )tor
 † )tor →
VE(X
VE(X

that is manifestly compatible with the respective natural actions of Πtp
, Πtp
,
X†
X‡
as well as a homeomorphism
∼

 ‡)
 † ) → VE(X
VE(X
, Πtp
that is manifestly compatible with the respective natural actions of Πtp
X†
X‡
and preserves specialization/generization relations, hence induces a homeomorphism
∼
 † )prim →
 ‡ )prim
VE(X
VE(X
that is compatible with the respective natural actions of Πtp
, Πtp
. Finally, if,
X†
X‡
†
‡
moreover, X and X are proper, then we may apply the homeomorphism “θX ”
of Proposition 2.3, (viii), to conclude that σ induces a homeomorphism
∼
 † )an →
 ‡ )an
(X
(X

that is compatible with the respective natural actions of Πtp
, Πtp
. This comX†
X‡
pletes the proof of assertion (i).
Next, we verify assertion (ii). We begin by observing that it follows from
the generalized version of [SemiAn], Corollary 3.11, discussed above, together
with Corollary 2.5, (i), that σ
 induces a bijection
∼
 †) →
 ‡)
VE(X
VE(X

that maps the point-theoretic orbit-center-chain associated to x† to the pointtheoretic orbit-center-chain associated to x‡ . Since σ arises from σX , we thus
∼
 pt-th /Gal(X/X

conclude from the bijection “X(Ω) → VE(X)
K )” of Proposition
†
‡
2.3, (v), that σX (x ) = x . This completes the proof of assertion (ii), hence of
Corollary 2.5.
∼
 † )an →
 ‡ )an ” of Corollary 2.5, (i),
Remark 2.5.1. The homeomorphism “(X
(X
is essentially similar to the homeomorphisms of [Lpg1], Theorem 3.10, but is
formulated and proven according to the approach of the present paper. On
the other hand, Corollary 2.5, (ii), may be regarded, when taken together with
Theorem 2.17 below, as a generalization of [Tsjm], Theorem 2.2; its proof may
be regarded as a more sophisticated version of the argument applied in the proof
of [Tsjm], Theorem 2.2.

Proposition 2.6 (Existence of new ordinary parts of certain coverings after Raynaud-Tamagawa). Let l be a prime number = p; K a mixed
characteristic complete discrete valuation ﬁeld of residue characteristic p; X a
56

proper hyperbolic curve over K. Suppose that X has split stable reduction over
K. Write X st for the [unique, up to unique isomorphism] stable model of X
over OK . Suppose, moreover, that every irreducible component of the special
ﬁber of X st is a smooth curve of genus ≥ 2. Write eX (respectively, vX ) for the
cardinality of the set of nodes (respectively, the set of irreducible components)
of the stable curve Xsst . Then:
(i) For each suﬃciently large positive integer m, if we replace K by a ﬁnite
unramiﬁed extension ﬁeld of K, then there exists a ﬁnite étale cyclic covering
Y st −→ X st
over OK of degree lm satisfying the following conditions:
(a) Write (Y st →) Z st → X st for the ﬁnite étale cyclic subcovering over
OK of degree lm−1 ; Y , Z for the generic ﬁbers of Y st , Z st , respectively. Then Y and Z have split stable reduction over K. Moreover,
Y st , Z st are the stable models of Y , Z, respectively.
(b) The ﬁnite étale covering Ysst → Xsst determined by the ﬁnite étale
cyclic covering Y st → X st induces a bijection between the respective
sets of irreducible components.
(c) Write A for the abelian variety over K obtained by forming the cokernel of the natural morphism J(Z) → J(Y ) induced by the ﬁnite étale
cyclic covering Y → Z [of degree l]. Then there exists an abelian variety B over K with good ordinary reduction such that Tp A ﬁts into
exact sequences of GK -modules [cf. the theory of [FC], especially,
[FC], Chapter III, Corollary 7.3]
0 −→ Tgd −→ Tp A −→ Tcb −→ 0
0 −→ Ttor −→ Tgd −→ Tp B −→ 0
0 −→ Hom(Tp Bs , Zp (1)) −→ Tp B −→ Tp Bs −→ 0,
where “(1)” denotes the Tate twist; the natural action of GK on the
“combinatorial quotient” Tcb [i.e., the inverse limit of the quotients
“Y /nY ” of [FC], Chapter III, Corollary 7.3, as n ranges over the
positive integral powers of p] of Tp A is trivial; Ttor is isomorphic as
a GK -module to the direct sum of a collection of copies of Zp (1); B
denotes the abelian scheme over OK whose generic ﬁber is equal to
B.
(ii) Fix a ﬁnite étale cyclic covering Y st → X st as in (i). Write
Tcb,Y ,

Tcb,Z

for the “combinatorial quotients” [i.e., the inverse limit of the quotients
“Y /nY ” of [FC], Chapter III, Corollary 7.3, as n ranges over the positive
integral powers of p] of Tp J(Y ), Tp J(Z), respectively; hY , hZ for the
57

respective loop-ranks of the dual graphs associated to the stable curves Ysst ,
Zsst . Then it holds that
hY = 1 + l m e X − v X ,

hZ = 1 + lm−1 eX − vX .

Moreover,
rankZp Tcb,Y = hY ;

rankZp Tcb,Z = hZ ;

rankZp Ttor = rankZp Tcb = hY − hZ = (lm − lm−1 )eX .
Proof. First, we verify assertion (i). Write {Ci }1≤i≤vX for the set of irreducible
components of Xsst . Let m be a positive integer such that, for each positive
integer i ≤ vX , it holds that
lm >

l2gCi − l2gCi −1
(p − 1)gCi ,
l2gCi − 1

where g(−) denotes the genus of (−). Then, in light of [Tama1], Lemma 1.9
[i.e., a generalization of [Ray1], Théorème 4.3.1], by replacing K by a ﬁnite
unramiﬁed extension ﬁeld of K, one may construct ﬁnite étale cyclic coverings
{Di → Ci }1≤i≤vX of degree lm [of proper hyperbolic curves over the residue
ﬁeld of K] satisfying the following conditions:
• For each positive integer i ≤ vX , write (Di →) Ei → Ci for the ﬁnite
étale cyclic subcovering of degree lm−1 [of proper hyperbolic curves over
the residue ﬁeld of K]. Then the abelian variety obtained by forming the
cokernel of the natural morphism J(Ei ) → J(Di ) induced by the ﬁnite
étale cyclic covering Di → Ei of degree l is ordinary.
• The cardinality of the set of closed points of Di that lie over the closed
points of Ci determined by the nodes of Xsst is equal to lm .
Next, one veriﬁes immediately that there exists a ﬁnite étale cyclic covering
D → Xsst of degree lm obtained by gluing together the ﬁnite étale cyclic coverings {Di → Ci }1≤i≤vX . Write Y st → X st for the ﬁnite étale cyclic covering
obtained by deforming the ﬁnite étale cyclic covering D → Xsst . Then it follows
immediately from the various deﬁnitions involved that conditions (a), (b) hold.
Moreover, in light of the theory of Raynaud extensions [cf. [FC], Chapter II,
§1; [FC], Chapter III, Corollary 7.3], together with Remark 2.6.1, (i), (ii), below
[cf. also [BLR], §9.2, Example 8], one concludes that condition (c) holds. This
completes the proof of assertion (i).
Next, we verify assertion (ii). Write eY , eZ for the respective cardinalities
of the sets of nodes of the stable curves Ysst , Zsst ; vY , vZ for the respective
cardinalities of the sets of irreducible components of the stable curves Ysst , Zsst .
Then it follows immediately from conditions (a), (b), that
eY = l m eX ,

eZ = lm−1 eX ,

58

v Y = vZ = vX .

Thus, we conclude from the well-known computation of the ﬁrst homology group
of a ﬁnite graph that
hY = 1 + e Y − v Y = 1 + l m e X − v X ,

hZ = 1 + eZ − vZ = 1 + lm−1 eX − vX .

Therefore, to complete the proof of assertion (ii), it suﬃces to prove that
rankZp Tcb,Y = hY , rankZp Tcb,Z = hZ , and rankZp Ttor = rankZp Tcb = hY −hZ .
Recall that the loop-ranks hY , hZ coincide with the toric ranks of the Jacobians
of the stable curves Ysst , Zsst , respectively [cf., e.g, [BLR], §9.2, Example 8]. On
the other hand, in light of the theory of duality for torsion subgroups of abelian
varieties, it holds that these toric ranks coincide with the ranks of the respective
corresponding combinatorial quotients [cf. [FC], Chapter III, Corollary 7.4]. In
particular, it follows immediately [cf. Remark 2.6.1, (ii), below; [FC], Chapter III, Corollary 7.4] that rankZp Tcb,Y = hY , rankZp Tcb,Z = hZ , hence that
rankZp Ttor = rankZp Tcb = rankZp Tcb,Y − rankZp Tcb,Z = hY − hZ . This
completes the proof of assertion (ii), hence of Proposition 2.6.
Remark 2.6.1. We maintain the notation of Proposition 2.6.
(i) Write A for the identity component of the Néron model of A over OK [cf.
[BLR], §1.3, Corollary 2]. Then the universal property of the Néron model
implies the existence of a surjective homomorphism
f : Pic0Y st /OK  A
that extends the natural quotient homomorphism J(Y )  A [cf. [BLR],
§1.2, Deﬁnition 1; [BLR], §9.4, Theorem 1]. Thus, since Pic0Y st /OK is
a semi-abelian scheme over OK [cf. [BLR], §9.4, Theorem 1], it follows
immediately from the existence of the surjective homomorphism f that A
is also a semi-abelian scheme over OK .
(ii) Recall that the composite homomorphism J(Z) → J(Y ) → J(Z) of the
norm map J(Y ) → J(Z) with the natural homomorphism J(Z) → J(Y )
coincides with the morphism given by multiplication by l. In particular,
the abelian variety J(Y ) is isogenous over K to the product abelian variety
J(Z) ×K A. Thus, we conclude from [BLR], §7.3, Proposition 6, that the
semi-abelian schemes Pic0Y st /OK and Pic0Z st /OK ×OK A over OK [cf. [BLR],
§9.4, Theorem 1] are isogenous over OK .
Deﬁnition 2.7. In the notation of Remark 2.6.1, let Z be a semistable model
of Z over OK that has split reduction. Note that Z st satisﬁes this property, and
that, by pulling-back the ﬁnite étale cyclic covering Y st → Z st via the unique
morphism Z → Z st that extends the identity morphism Z → Z [cf. [ExtFam],
Theorem A], we obtain a ﬁnite étale cyclic covering
Y −→ Z
over OK of degree l that extends the ﬁnite étale cyclic covering Y → Z over K.
Suppose that
59

• Xsst is a singular curve, and that
• m is suﬃciently large that hY ≥ hZ ≥ 1 [cf. Proposition 2.6, (ii)].
(i) Let yη ∈ Y (K). Write zη ∈ Z(K) for the image of yη via the natural
map Y (K) → Z(K). Then yη and zη determine embeddings Y → J(Y ),
Z → J(Z) that allow one to regard J(Y ), J(Z) as the respective Albanese
varieties of Y , Z [cf. [AbsTopI], Appendix, Deﬁnition A.1, (ii); [Milne],
Proposition 6.1]. In particular, we obtain a commutative diagram
ΔY −−−−→ Tp J(Y ) −−−−→ Tcb,Y
⏐
⏐
⏐
⏐
⏐
⏐



ΔZ −−−−→ Tp J(Z) −−−−→ Tcb,Z ,
where the left-hand vertical arrow denotes the open injection induced by
the ﬁnite étale cyclic covering Y → Z; the left-hand horizontal arrows
denote the natural surjections determined by the Albanese embeddings
Y → J(Y ), Z → J(Z) [cf. [AbsTopI], Appendix, Proposition A.6, (iv)];
the right-hand horizontal arrows denote the natural surjections; the middle and right-hand vertical arrows are surjections [cf. the fact that the
ﬁnite étale cyclic covering Y → Z is of degree l = p]; the ﬁrst square
of the diagram commutes in light of the functoriality of the étale fundamental group; the second square of the diagram commutes in light of the
functoriality of Raynaud extensions.
(ii) Fix a quotient
Tcb,Z  Zp
[cf. our assumption that hZ ≥ 1; Proposition 2.6, (ii)]. For each nonnegative integer n, write
Zn −→ Z
for the ﬁnite étale cyclic [“combinatorial”] covering of degree pn over OK
induced by the natural quotient
(ΔZ  Tp J(Z) ) Tcb,Z  Zp  Z/pn Z;
Yn −→ Y
for the ﬁnite étale cyclic [“combinatorial”] covering of degree pn over OK
induced by the natural quotient
(ΔY  Tp J(Y ) ) Tcb,Y  Tcb,Z  Zp  Z/pn Z.
Thus, the commutative diagram in (i) induces a cartesian commutative
diagram
Yn −−−−→ Y
⏐
⏐
⏐
⏐


Zn −−−−→ Z,
60

where the vertical arrows are ﬁnite étale cyclic coverings of degree l over
OK ; the horizontal arrows are ﬁnite étale cyclic [“combinatorial”] coverings of degree pn over OK . Moreover:
(a) Write Yn , Zn for the generic ﬁbers of Yn , Zn , respectively. Then the
ﬁnite étale covering (Yn )s → (Zn )s determined by the ﬁnite étale
cyclic covering Yn → Zn induces a bijection between the sets of
irreducible components that arise from the respective stable models
of Yn and Zn [cf. Proposition 2.6, (i), (b)].
(b) Write An for the abelian variety over K obtained by forming the
cokernel of the natural morphism J(Zn ) → J(Yn ) induced by the
ﬁnite étale cyclic covering Yn → Zn of degree l [of proper hyperbolic
curves over K]. Then there exists an abelian variety Bn over K with
good ordinary reduction such that Tp An ﬁts into exact sequences of
GK -modules [cf. the theory of [FC], especially, [FC], Chapter III,
Corollary 7.3; the proof of Proposition 2.6, (i), (c)]
0 −→ Tgd,n −→ Tp An −→ Tcb,n −→ 0
0 −→ Ttor,n −→ Tgd,n −→ Tp Bn −→ 0
0 −→ Hom(Tp (Bn )s , Zp (1)) −→ Tp Bn −→ Tp (Bn )s −→ 0,
where “(1)” denotes the Tate twist; the natural action of GK on the
“combinatorial quotient” Tcb,n of Tp An is trivial; Ttor,n is isomorphic
as a GK -module to the direct sum of a collection of copies of Zp (1);
Bn denotes the abelian scheme over OK whose generic ﬁber is equal
to Bn .
(iii) Write
An
for the identity component of the Néron model of An over OK [cf. [BLR],
§1.3, Corollary 2]. Then the universal property of the Néron model implies
the existence of a surjective homomorphism
def

fn : Jn = Pic0Yn /OK  An
that extends the natural quotient homomorphism J(Yn )  An [cf. [BLR],
§1.2, Deﬁnition 1; [BLR], §9.4, Theorem 1]. Thus, since Jn = Pic0Yn /OK
is a semi-abelian scheme over OK [cf. [BLR], §9.4, Theorem 1], it follows
immediately from the existence of the surjective homomorphism fn that
An is also a semi-abelian scheme over OK [cf. Remark 2.6.1, (i)].
(iv) For each nonnegative integer n, write
hY n ,

61

h Zn

for the loop-ranks of the dual graphs associated to the semistable curves
(Yn )s , (Zn )s , respectively;
g Yn
for the [arithmetic] genus of the semistable model Yn over OK . Then a
similar argument to the argument applied in Remark 2.6.1, (ii), implies
that the semi-abelian schemes Pic0Yn /OK and Pic0Zn /OK ×OK An over OK
are isogenous over OK . In particular, we obtain equalities
rankZp Ttor,n = rankZp Tcb,n = hYn − hZn
[cf. the proof of Proposition 2.6, (ii)].

Proposition 2.8 (Explicit computations of toric rank and genus). We
maintain the notation of Deﬁnition 2.7. Then the following hold:
(i) It holds that
h Y n = 1 + p n l m e X − pn v X ,

hZn = 1 + pn lm−1 eX − pn vX ,

hence, in particular, that
rankZp Ttor,n = rankZp Tcb,n = hYn − hZn = pn (lm − lm−1 )eX
[cf. the ﬁnal display of Deﬁnition 2.7, (iv)].
(ii) It holds that
gYn = pn (gY0 − 1) + 1.
Proof. First, recall from the well-known theory of stable and semistable models
that hYn , hZn , rankZp Ttor,n , rankZp Tcb,n , and gYn are independent of the choice
of the semistable model Z of Z over OK . [Indeed, by passing to a suitable ﬁnite
unramiﬁed extension of K and adding ﬁnitely many suitably positioned cusps,
one may, in eﬀect, reduce this “well-known theory of stable and semistable
models” to the theory of pointed stable curves and contraction morphisms that
arise from eliminating cusps, as exposed in [Knud].] In particular, we may
assume without loss of generality that Z is the stable model of Z over OK .
Assertion (i) then follows immediately from a similar argument to the argument
applied in the proof of Proposition 2.6, (ii). Assertion (ii) follows immediately
from Hurwitz’s formula. This completes the proof of Proposition 2.8.

Deﬁnition 2.9. We maintain the notation of Deﬁnition 2.7. Then we shall
write
Tcnn,n

62

for the connected p-divisible group over OK that arises as the connected part
of the p-divisible group [cf. the discussion preceding [Tate], §2.2, Proposition 2]
associated to the Raynaud extension [cf. [FC], Chapter II, §1] of An ;
Ttor,n
for the connected p-divisible group over OK associated to the torus that appears
in the Raynaud extension of An ;
Tcnn,n ,

Ttor,n

for the respective generic ﬁbers of Tcnn,n , Ttor,n ;
def
Tcnn,n = Tp (Tcnn,n ),

def
Ttor,n = Tp (Ttor,n )

for the respective p-adic Tate modules of Tcnn,n , Ttor,n [cf. the subsection in
Notations and Conventions entitled “Schemes”]. Note that Tcnn,n and Ttor,n
may be regarded as Zp -submodules of Tp An in a natural way. Moreover, we
shall write
def
Tét,n = Tp An /Tcnn,n .
Note that GK acts naturally on the Zp -modules Tcnn,n , Ttor,n , Tét,n , and Tcb,n
[cf. Deﬁnition 2.7, (ii), (b)]. We shall write
Tcnn,n  Tqtr,n
for the maximal torsion-free GK -stable quotient Zp -module among the torsionfree GK -stable quotient Zp -modules Tcnn,n  T such that some open subgroup
of GK acts on T via the p-adic cyclotomic character;
Tqcb,n ⊆ Tét,n
for the maximal GK -stable Zp -submodule among the GK -stable Zp -submodules
T ⊆ Tét,n such that some open subgroup of GK acts trivially on T . Finally, we
observe that [one veriﬁes immediately that] we obtain natural exact sequences
of GK -modules [cf. Deﬁnition 2.7, (ii), (b)]
0 −→ Ttor,n −→ Tcnn,n −→ Hom(Tp (Bn )s , Zp (1)) −→ 0
0 −→ Tp (Bn )s −→ Tét,n −→ Tcb,n −→ 0
0 −→ Tcnn,n −→ Tp An −→ Tét,n −→ 0.

Lemma 2.10. We maintain the notation of Deﬁnition 2.9. Then:
(i) The natural action of GK on Tp An induces the trivial action of IK on
Tét,n .
63

(ii) There exist natural compatible GK -equivariant isomorphisms
∼

Tét,n → Hom(Tcnn,n , Zp (1)),

∼

Tcb,n → Hom(Ttor,n , Zp (1)),

∼

Tqcb,n → Hom(Tqtr,n , Zp (1)).
(iii) Suppose that K is a p-adic local ﬁeld. Then the set of eigenvalues of the
Zp -linear automorphism of Tp (Bn )s induced by the Frobenius element of
GK /IK [cf. (i); the second exact sequence of Deﬁnition 2.9] does not
contain any roots of unity.
Proof. First, we verify assertion (i). Recall that the quotient of a p-divisible
group by its connected part is étale [cf., e.g., the discussion preceding [Tate],
§2.2, Proposition 2]. Thus, we conclude [cf. the triviality of the action of GK
on Tcb,n observed in Deﬁnition 2.7, (ii), (b); the second exact sequence of the
ﬁnal display of Deﬁnition 2.9] from [the second sentence of] [FC], Chapter III,
Corollary 7.3, that the natural action of IK on Tét,n is trivial, as desired. This
completes the proof of assertion (i). Assertion (ii) follows immediately from the
theory of duality for torsion subgroups of abelian varieties [cf. [FC], Chapter
III, Corollary 7.4], together with the ﬁrst and second exact sequences of the ﬁnal
display of Deﬁnition 2.9. Assertion (iii) follows immediately from the ﬁniteness
of the set of rational points of (Bn )s over any ﬁnite extension ﬁeld of the [ﬁnite!]
residue ﬁeld of K. This completes the proof of Lemma 2.10.

Proposition 2.11 (Toral quotient of the connected part). In the notation
of Deﬁnition 2.9, write
χn : Tcnn,n  Tqtr,n
for the natural surjection of GK -modules. Then the following hold:
(i) Suppose that the residue ﬁeld of K is separably closed. Then
Tcnn,n = Tqtr,n = {0},

Tqcb,n = Tét,n = {0}.

(ii) Suppose that K is a p-adic local ﬁeld. Then the restriction of χn to Ttor,n ⊆
Tcnn,n induces an injection Ttor,n → Tqtr,n with ﬁnite cokernel.
Proof. First, we verify assertion (i). Note that since the residue ﬁeld of K is
separably closed, GK = IK . Thus, it follows immediately from Lemma 2.10,
(i), together with the various deﬁnitions involved, that Tqcb,n = Tét,n . On the
other hand, it follows immediately from Proposition 2.8, (i) [cf. also Proposition
2.6; Deﬁnition 2.7; the second exact sequence of the ﬁnal display of Deﬁnition
2.9], that Tét,n = {0}. Thus, we conclude from Lemma 2.10, (ii), that Tcnn,n =
Tqtr,n = {0}. This completes the proof of assertion (i).
def

Next, we verify assertion (ii). Write N = rankZp Tqtr,n . Note that, in
light of the maximality of Tqtr,n , it suﬃces to verify that there exists a unique
torsion-free GK -stable quotient Zp -module
Tcnn,n  T
64

whose restriction to Ttor,n ⊆ Tcnn,n induces an injection Ttor,n → T with ﬁnite
cokernel, and that rankZp T ≥ N . Let Qp be an algebraic closure of Qp equipped
with the trivial action of GK . Then observe that it follows from a routine
argument involving Galois descent from Qp to Qp that it suﬃces to verify that
there exists a unique GK -stable quotient Qp -vector space
Tcnn,n ⊗Zp Qp −→ V
whose restriction to Ttor,n ⊗Zp Qp ⊆ Tcnn,n ⊗Zp Qp induces an isomorphism
∼
Ttor,n ⊗Zp Qp → V , and that dimQp V ≥ N . Write k for the ﬁnite residue ﬁeld
of the p-adic local ﬁeld K [so GK /IK may be identiﬁed with the absolute Galois
group Gk of k]. Then, by applying Lemma 2.10, (i), (ii), we conclude that it
suﬃces to verify that there exists a unique Gk -stable Qp -subspace V ∗ ⊆ Tét,n ⊗Zp
Qp whose composite with the natural surjection Tét,n ⊗Zp Qp  Tcb,n ⊗Zp Qp
∼
induces an isomorphism V ∗ → Tcb,n ⊗Zp Qp , and that dimQp V ∗ ≥ N . On the
other hand, in light of the eigenspace decomposition associated to the natural
action of the Frobenius element ∈ Gk , the existence and uniqueness of such a
subspace, together with the inequality dimQp V ∗ ≥ N (= rankZp Tqcb,n ) [cf.
Lemma 2.10, (ii)], follows immediately from Lemma 2.10, (iii) [cf. also the
triviality of the action of GK on Tcb,n observed in Deﬁnition 2.7, (ii), (b)]. This
completes the proof of assertion (ii), hence of Proposition 2.11.

Proposition 2.12 (Construction of a certain morphism of formal schemes
to the quasi-toral quotient). In the notation of Proposition 2.11, let yn ∈
Yn (OK ) be an OK -rational point that maps the closed point of Spec OK to a
smooth point (yn )s of the semistable curve (Yn )s . Write yn,η ∈ Yn (K) for the
K-valued point of Yn determined by yn ∈ Yn (OK ); C ⊆ (Yn )s for the unique
irreducible component that contains (yn )s ; F ⊆ Yn for the closed subset obtained
by forming the union of the irreducible components = C of (Yn )s ; Uyn ⊆ Yn for
the open subscheme obtained by forming the complement of F ⊆ Yn ;
hn,η : Yn −→ J(Yn )
for the Albanese map that maps yn,η to the origin [cf. [AbsTopI], Appendix,
Deﬁnition A.1, (ii); [Milne], Proposition 6.1]. Recall that Jn is a semi-abelian
scheme over OK [cf. Deﬁnition 2.7, (iii)] whose generic ﬁber is J(Yn ). In
particular, Jn is isomorphic to the identity component of the Néron model over
OK of J(Yn ) [cf. [BLR], §7.4, Proposition 3]. Thus, since Uyn is a connected
smooth scheme over OK whose generic ﬁber is Yn , the universal property of the
Néron model implies the existence of a unique morphism
hn : Uyn −→ Jn
that extends hn,η . Next, write Jn , An for the formal completions at the origin of
Y ,y , O
U ,y for the completions
the semi-abelian schemes Jn , An over OK ; O
n n
yn n
65

at yn of OYn ,(yn )s , OUyn ,(yn )s . Then the natural composite map
Y ,y = Spf O
U ,y −→ Jn −→ An
Spf O
n n
yn n
induced by hn and the surjective homomorphism fn : Jn  An [cf. Deﬁnition
2.7, (iii)] determines a morphism of formal OK -schemes
Y ,y −→ Tcnn,n ,
Spf O
n n
where we regard the connected p-divisible group Tcnn,n as a formal group over OK
[cf. [Tate], §2.2, Proposition 1]. In particular, by forming the composite with the
morphism of formal OK -schemes induced by χn [cf. [Tate], §2.2, Proposition 1;
[Tate], §4.2, Corollary 1], we obtain a morphism of formal OK -schemes
Y ,y −→ Tqtr,n ,
Spf O
n n
where Tqtr,n denotes the formal group over OK determined by the connected pdivisible group associated to the GK -module Tqtr,n [cf. [Tate], §2.2, Proposition
1; [Tate], §4.2, Corollary 1].
Proof. Proposition 2.12 follows immediately from the various references quoted
in the statement of Proposition 2.12.

Proposition 2.13 (Coverings associated to characters). We maintain the
notation of Proposition 2.12. Then the following hold:
 m for the formal completion at the origin of the multiplicative
(i) Write G
 m ) for the Zp -module of
group scheme Gm over OK ; HomOK (Tqtr,n , G


homomorphisms over OK from Tqtr,n to Gm ; HomGK (Tqtr,n , Zp (1)) for
the Zp -module of GK -equivariant homomorphisms of Zp -modules Tqtr,n →
Zp (1). Then the natural homomorphism
 m ) −→ HomG (Tqtr,n , Zp (1))
HomOK (Tqtr,n , G
K
is bijective.
 m ). Consider the com(ii) Let a be a positive integer; f ∈ HomOK (Tqtr,n , G
posite
∼
m
Y ,y −→ G
(Spf OK [[t]] →) Spf O
n n
[where t is an indeterminate, and we regard OK [[t]] as being equipped with
the t-adic topology] of the morphism in the ﬁnal display of Proposition 2.12
with f . By a slight abuse of notation, we shall also write f ∈ OK [[t]]×
 m via the homomorphism
for the image of the canonical coordinate U of G
of rings induced by the above composite morphism. Then the covering of
Spf OK [[t]] obtained by extracting a pa -th root of f is dominated by the
covering of Spf OK [[t]] obtained by restricting the covering determined by
multiplication by pa on An .
66

Proof. Assertion (i) follows immediately from [Tate], §2.2, Proposition 1; [Tate],
§4.2, Corollary 1. Assertion (ii) follows immediately from the various deﬁnitions
involved. This completes the proof of Proposition 2.13.

Lemma 2.14. Let X be a smooth proper curve of genus gX over a ﬁeld K; x ∈
X(K) a K-valued point of X; dx a nonnegative integer such that dx ≥ 2gX − 1.
Then the natural composite map
H 0 (X, ΩX ) → ΩX,x  ΩX,x /mdxx ΩX,x
is injective.
Proof. First, observe that since dx ≥ 2gX − 1 > 2gX − 2 [which implies that the
degree of the line bundle ΩX (−dx ·x) is negative], it follows that H 0 (X, ΩX (−dx ·
x)) = 0. Thus, the desired injectivity follows immediately by applying the [left
exact] functor H 0 (X, −) to the short exact sequence
0 −→ ΩX (−dx ) −→ ΩX −→ ΩX,x /mdxx ΩX,x −→ 0.
This completes the proof of Lemma 2.14.

Lemma 2.15. Let a, b be positive integers; K a p-adic local ﬁeld of degree
def
dK = [K : Qp ] over Qp ; W ⊆ K[T ]/(T b+1 ) a Qp -vector subspace of dimension
a. For each nonzero element

hi T i ∈ K[T ]/(T b+1 ),
h=
0≤i≤b
def

write ord(h) (≤ b) for the smallest integer i such that hi = 0. Set ord(0) = +∞.
Suppose that
def

W \{0} ⊆ F = {h ∈ K[T ]/(T b+1 ) | ord(h) = pj −1 for some nonnegative integer j}.
Then it holds that
a ≤ dK (logp (b + 1) + 1)




 dK (b + 1) = dimQp K[T ]/(T b+1 ) .

Proof. For each nonnegative integer j, write
def

Fj = W ∩ {h ∈ K[T ]/(T b+1 ) | ord(h) ≥ pj − 1}
[so Fj is a Qp -vector space, and Fj+1 ⊆ Fj ]. Then it follows immediately from
our assumption that W \ {0} ⊆ F that for each nonnegative integer j,
dimQp (Fj /Fj+1 ) ≤ dimQp (K) = dK .
67

On the other hand, since Fj = {0} for any nonnegative integer j such that
pj > pj − 1 ≥ b + 1, we thus conclude that
a = dimQp (W ) =

+∞


dimQp (Fj /Fj+1 ) ≤ dK (logp (b + 1) + 1),

j=0

as desired. This completes the proof of Lemma 2.15.

Theorem 2.16 (Existence of suitable coverings). In the notation of Proposition 2.13, suppose further that K is a p-adic local ﬁeld. Then there exists a
def
def
real number CgY ,dK that depends only on gY = gY0 and dK = [K : Qp ] such
that for any positive integer n ≥ CgY ,dK , after possibly replacing K by a ﬁnite
extension ﬁeld of K, there exist
• a [connected] ﬁnite étale Galois covering Wn → Yn of proper hyperbolic
curves over K of degree a power of p,
• a semistable model Wn of Wn over OK ,
• a morphism ψ : Wn → Yn of semistable models over OK that restricts to
the ﬁnite étale Galois covering Wn → Yn ,
• an irreducible component D of (Wn )s whose normalization is of genus ≥ 1
such that ψ(D) = (yn )s ∈ (Yn )s .
Proof. Fix a positive integer n. First, we consider the natural homomorphisms
of Zp -modules


∼ 

HomGK (Tqtr,n , Zp (1)) ←

 m ) → H 0 (Tqtr,n , Ω 
HomOK (Tqtr,n , G
inv
Tqtr,n )
0
(Tcnn,n , ΩTcnn,n )
→ Hinv
∼

← H 0 (An , ΩAn )
→ H 0 (Uyn , ΩYn )
Y ,y
→ ΩYn ,yn ⊗OYn ,yn O
n n
2g

Yn
→ ΩYn ,yn,η /myn,η
ΩYn ,yn,η

 ∼
2gYn
→ K[t]/(t
) dt ,

where
• the ﬁrst arrow denotes the natural bijective homomorphism of Proposition
2.13, (i);

68

0
• “Hinv
(−)” denotes the OK -submodule of “H 0 (−)” that consists of the
invariant diﬀerentials on the p-divisible group in the ﬁrst argument of
“H 0 (−)”;

• the second arrow denotes the injection obtained by pulling back the indef

variant diﬀerential d log(U ) = dU
U on Gm ;
• the third arrow denotes the injection induced by χn [cf. Proposition 2.11;
[Tate], §2.2, Proposition 1; [Tate], §4.2, Corollary 1];
• the fourth arrow denotes the natural isomorphism;
• the ﬁfth arrow denotes the homomorphism of OK -modules obtained by
pulling back the diﬀerentials via the composite map Uyn → Jn  An
that maps yn to the origin [cf. Deﬁnition 2.7, (ii), (b); Deﬁnition 2.7, (iii);
Proposition 2.12];
• the sixth arrow denotes the natural injection;
• the seventh arrow denotes the natural restriction morphism;
• myn,η denotes the maximal ideal of OYn ,yn,η ;
• the ﬁnal arrow denotes the natural isomorphism determined by choosing
a “local coordinate” t, i.e., an element of the maximal ideal mYn ,yn of
OYn ,yn such that t and mK generate mYn ,yn .
Write

 m ) −→ OK [[t]]×
Ψ : HomOK (Tqtr,n , G

for the assignment discussed in Proposition 2.13, (ii) [i.e., relative to the local
coordinate t chosen above];

 ∼
Yn
 m ) → ΩY ,y /m2g
→ K[t]/(t2gYn ) dt
Ξ : HomOK (Tqtr,n , G
yn,η ΩYn ,yn,η
n n,η
for the injective [by Lemma 2.14] composite of the second to the seventh arrows
in the ﬁrst display of the present proof. Thus, Ξ may be understood as the
result of composing Ψ with the operation of taking the logarithmic derivative
with respect to t and then truncating the terms of degree ≥ 2gYn .
Observe that so far we have not applied the assumption that K is a p-adic
local ﬁeld. Now we proceed to apply this assumption. Recall from Proposition
2.8, (i), (ii); Proposition 2.11, (ii) [cf. also the initial portions of Proposition 2.6
and Deﬁnition 2.7], that
rankZp Tqtr,n = rankZp Ttor,n = pn (lm − lm−1 )eX ;
2gYn = 2(pn (gY0 − 1) + 1),
where eX ≥ 1. Thus, one veriﬁes immediately that there exists a real number
CgY ,dK that depends only on gY = gY0 and dK = [K : Qp ] such that for any
positive integer n ≥ CgY ,dK , it holds that
pn (lm − lm−1 )eX > dK (logp (2(pn (gY0 − 1) + 1)) + 1).
69

In particular, we conclude from Lemma 2.15 that there exists a homomorphism
 m ) such that Ξ(f ) = 0, and ord(Ξ(f )) + 1 is not a [nonf ∈ HomOK (Tqtr,n , G
negative integral] power of p. Fix such a homomorphism f . Then note that it
follows from our choice of f that we may write

ai ti ∈ OK [[t]]×
Ψ(f ) = 1 +
i≥1

[cf. Proposition 2.13, (ii)], where, if we write i0 for the smallest positive integer
i such that ai = 0, then i0 is not a [nonnegative integral] power of p.
In the following, we shall apply Proposition 1.6, where we take “g(t)” to be
Ψ(f ) and apply the isomorphism of topological OK -algebras
∼

Y ,y
OK [[t]] → O
n n
def

determined by t, to complete the proof of Theorem 2.16. Write N = μ + 1,
where μ is the “μ” that results from applying Proposition 1.6, (i);
ψη : Wn −→ Yn
for the [connected] ﬁnite étale Galois covering over K obtained by pulling-back
the morphism induced by multiplication by pN on An via the composite morphism Yn → Uyn → Jn  An [cf. Proposition 2.12].
Next, let us observe that it follows immediately from the various deﬁnitions
of the morphisms involved that the composite morphism
φc ◦ λh ◦ τ ◦ φc |U : Uc → Spec OK [[t]]
1

2

c2

2

[cf. the two commutative diagrams of Proposition 1.6, (i)], together with the
∼ 

isomorphism OK [[t]] → O
Yn ,yn , allow one to regard the p-adic completion RY of
Γ(OUc2 , Uc2 ) at the generic point of (Uc2 )s as the p-adic completion of the ring
of integers RY of a certain discrete residue-transcendental p-valuation on the
function ﬁeld of Yn . Write RW/Y for the normalization of RY in the function
ﬁeld of Wn . Thus, since RY is [a localization of a ring of ﬁnite type over the
complete discrete valuation ring OK , hence] excellent, it follows that RW/Y is
ﬁnite over RY .
Next, let us observe that it follows from the relations
ι ◦ λg ◦ φc ◦ λh = (pμ ) ◦ ξg ,
1

ξg ◦ τ ◦ (φc2 |Uc2 ) = ι ◦ (φπp |Uπp ) ◦ θg ,
ι ◦ (φπp |Uπp ) ◦ θg ◦ fY = (p) ◦ ι ◦ (φπ |Uπ ) ◦ θY
in the ﬁrst and second commutative diagrams of Proposition 1.6, (i), and the
commutative diagram of Remark 1.6.1 that we obtain relations
ι ◦ λg ◦ φc ◦ λh ◦ τ ◦ (φc |U ) ◦ fY = (pμ ) ◦ ξg ◦ τ ◦ (φc |U ) ◦ fY
1

2

c2

2

c2

= (p ) ◦ ι ◦ (φπp |Uπp ) ◦ θg ◦ fY
μ

= (pμ ) ◦ (p) ◦ ι ◦ (φπ |Uπ ) ◦ θY ,
where
70

• the composite of the ﬁrst and second equalities implies that, after possibly replacing K by a ﬁnite extension ﬁeld of K [which in fact may be
 Y )K taken to be unramiﬁed — cf. Lemma 2.10, (i)], the tautological (R
def
 Y )K = R
Y ⊗O K, lifts to an
valued point yR of Yn , where we write (R
K
∗

(RY )K -valued point yR of a certain intermediate covering Wn → Yn∗ of
Wn → Yn that corresponds to multiplication by pμ on the codomain of
 m ), while
the homomorphism f ∈ HomOK (Tqtr,n , G
• the third equality implies [cf. also the “essentially cartesian” nature of
∗
the squares in the commutative diagram of Remark 1.6.1] that yR
lifts
def
 W )K = R
W ⊗O K,
W )K -valued point wR of Wn , where (R
to an (R
K

and RW denotes the p-adic completion of some localization RW of RW/Y
W admits a
at a maximal ideal of RW/Y such that the spectrum of R

tautological isomorphism over RY to the spectrum of the p-adic completion
of “Γ(OY , Y )” at the generic point of “Ys ” [i.e., where the quotation marks
refer to the notation of Proposition 1.6, (ii)].
In particular, since i0 is not a [nonnegative integral] power of p, it follows from
W , hence also
Proposition 1.6, (ii), and Remark 1.6.2 that the residue ﬁeld of R
the residue ﬁeld of RW , is the function ﬁeld of a curve over the residue ﬁeld of
OK of genus ≥ 1. Thus, we conclude from Proposition 2.3, (ii), (iii), that, after
possibly replacing K by a ﬁnite extension ﬁeld of K, there exist a compactiﬁed
semistable model Wn of Wn over OK , together with a dominant morphism
ψ : Wn −→ Yn
over OK , such that
• ψ restricts to the ﬁnite étale Galois covering ψη : Wn → Yn ;
• RW is the local ring of Wn at the generic point of an irreducible component
D of (Wn )s whose normalization is of genus ≥ 1;
• ψ(D) = (yn )s ∈ (Yn )s .
This completes the proof of Theorem 2.16.

Theorem 2.17 (Resolution of nonsingularities for arbitrary hyperbolic
curves over p-adic local ﬁelds). Let Σ ⊆ Primes be a subset of cardinality
≥ 2; K a p-adic local ﬁeld, for some p ∈ Σ; X a hyperbolic curve over K; L a
mixed characteristic complete discrete valuation ﬁeld of residue characteristic p
that contains K as a topological subﬁeld. Then XL satisﬁes Σ-RNS if and only
if the residue ﬁeld of L is algebraic over the ﬁnite ﬁeld of cardinality p.
Proof. First, we observe that it follows formally from Remark 2.2.3, (v), that
it suﬃces to verify that X satisﬁes Σ-RNS. Next, we observe that it follows
71

immediately from the various deﬁnitions involved that we may assume without
loss of generality that X has stable reduction over K. Write X for the [unique,
up to unique isomorphism] compactiﬁed stable model of X over OK . Then,
in light of Propositions 2.3, (xii); 2.4, (i), (ii), by replacing X by the [unique,
up to unique isomorphism] smooth compactiﬁcation of a suitable connected
geometrically pro-Σ ﬁnite étale covering of X, we may assume without loss of
generality that:
• X is a proper hyperbolic curve over K,
• Xs is split,
• Xs is singular, and
• every irreducible component of Xs is a smooth curve of genus ≥ 2.
In particular, X now satisﬁes the assumptions imposed in the respective initial
portions of Proposition 2.6 and Deﬁnition 2.7. Next, observe that since the
covering Yn → Y is combinatorial [cf. Deﬁnition 2.7, (ii)], it follows immediately
that this covering induces a surjection Yn (K)  Y (K) on K-rational points.
Thus, it follows immediately from Proposition 2.4, (iii), and Theorem 2.16 that
X satisﬁes Σ-RNS. This completes the proof of Theorem 2.17.

3

Point-theoreticity, metric-admissibility, and arithmetic cuspidalization

Let p be a prime number. In the present section, we ﬁrst recall the wellknown classiﬁcation of the points of the topological Berkovich space associated
to a proper hyperbolic curve over a mixed characteristic complete discrete valuation ﬁeld via the notion of type i points, where i ∈ {1, 2, 3, 4} [cf. Deﬁnition 3.1]. Next, we introduce a certain combinatorial classiﬁcation of the
VE-chains considered in §2 [cf. Deﬁnition 3.2] and observe that this classiﬁcation of VE-chains leads naturally to a purely combinatorial characterization of
the well-known classiﬁcation via type i points mentioned above [cf. Propositions 3.3, 3.4]. This combinatorial classiﬁcation/characterization [cf. also the
approach of Propositions 3.7, 3.8] was motivated by the argument applied in
the proof of [CbTpIV], Theorem A.7. We then apply the theory of §2 to give
a group-theoretic characterization, motivated by [but by no means identical to]
the characterization of [Lpg2], §4, of the type i points in terms of the geometric
Σ-tempered fundamental group of the hyperbolic curve [cf. Propositions 3.5,
3.9]. Then, by combining this group-theoretic characterization with [AbsTopII],
Corollary 2.9, we prove an absolute version of the Grothendieck Conjecture for
hyperbolic curves over p-adic local ﬁelds [cf. Theorem 3.12]. This settles one of
the major open questions in anabelian geometry. As a corollary of this absolute
version of the Grothendieck Conjecture for hyperbolic curves over p-adic local
72

ﬁelds, together with [HMM], Theorem A, we also obtain an absolute version
of the Grothendieck Conjecture for conﬁguration spaces associated to hyperbolic curves over p-adic local ﬁelds [cf. Theorem 3.13]. We then switch gears
to discuss metric-admissibility for p-adic hyperbolic curves. This discussion of
metric-admissibility leads to a proof that all of the various p-adic versions of
the Grothendieck-Teichmüller group that appear in the literature in fact coincide [cf. Theorem 3.16]. Moreover, as an application of Corollary 2.5, (i), and
the theory developed in the present section, together with the theory of metricadmissibility developed in [CbTpIII], §3, we obtain a construction of a certain
type of arithmetic cuspidalization of the [Primes-] tempered fundamental group
of a hyperbolic curve over Qp [cf. Theorem 3.20].
Deﬁnition 3.1. Let Σ ⊆ Primes be a nonempty subset; K a mixed characteristic complete discrete valuation ﬁeld of residue characteristic p; X a proper
 → X a universal geometrically pro-Σ covering of X.
hyperbolic curve over K; X
Write Ω for the p-adic completion of [some ﬁxed] K; (−)an for the topological
 an [cf.
Berkovich space associated to (−). Let x ∈ X an be an element; x̃ ∈ X
Proposition 2.3, (vii), (viii)] a lifting of x. Then:
(i) We shall say that x̃ is of type 1 if x̃ is determined by a point-theoretic
 of X
 associated to some point
p-valuation on the function ﬁeld K(X)

∈ X(Ω) [cf. Deﬁnition 2.2, (ii)].
(ii) We shall say that x̃ is of type 2 if x̃ is determined by an inverse system
of discrete residue-transcendental p-valuations associated to irreducible
components of the special ﬁbers of [compactiﬁed] semistable models with
split reduction of the domain curves of connected ﬁnite étale coverings
 → Z → X [cf. Proposition 2.3,
Z → X equipped with a factorization X
(ii), (iii)].
(iii) We shall say that x̃ is of type 3 if there exist a ﬁnite extension ﬁeld L of
K, a [compactiﬁed] semistable model with split reduction X of XL over
OL , and a node e of Xs such that x̃ arises as the inverse image of a lifting
 tor of some element ∈ De ⊆ VE(X )tor [cf. Deﬁnition 2.2, (vi)]
∈ VE(X)
∼
 an →
 tor [cf. Proposition 2.3, (viii)].
via the homeomorphism X
VE(X)
(iv) We shall say that x̃ is of type 4 if, for each i ∈ {1, 2, 3}, x̃ is not of type i.
(v) For each i ∈ {1, 2, 3, 4}, we shall say that x is of type i if x̃ is of type
i. [One veriﬁes immediately that, for each i ∈ {1, 2, 3, 4}, the condition
that x is of type i is independent of the choices of Σ and x̃.] For each
 an [i] ⊆ X
 an )
i ∈ {1, 2, 3, 4}, we shall write X an [i] ⊆ X an (respectively, X
 an ).
for the subset of points of type i of X an (respectively, X

73

Remark 3.1.1. In the notation of Deﬁnition 3.1, we observe that
 an = X
 an [1] ∪ X
 an [2] ∪ X
 an [3] ∪ X
 an [4];
X
X an = X an [1] ∪ X an [2] ∪ X an [3] ∪ X an [4],
and, moreover, for each pair of distinct i, j ∈ {1, 2, 3, 4},
 an [j] = ∅;
 an [i] ∩ X
X

X an [i] ∩ X an [j] = ∅.

 an [j] = ∅. First, by considering
 an [i] ∩ X
Indeed, it suﬃces to verify that X
the residue ﬁelds of the valuation rings under consideration, we conclude that
 an [2] = ∅. Next, we observe that it follows immediately from the
 an [1] ∩ X
X
discussion of the construction of “VE(Z)tor ” in Deﬁnition 2.2, (vi), that, for
 an [i] ∩ X
 an [3] = ∅. Finally, we observe that it is a tautology
each i ∈ {1, 2}, X
 an [i] ∩ X
 an [4] = ∅. This completes the proof of
that, for each i ∈ {1, 2, 3}, X
relations in the above display.
Deﬁnition 3.2. We maintain the notation of Deﬁnition 3.1. Let c = (cZ )Z∈S ∈
 where S denotes the directed set of [compactiﬁed] semistable models
VE(X),
 [cf. Deﬁnition 2.2, (iii)]. Write Vc ⊆ S
that appear in the deﬁnition of VE(X)
(respectively, Ec ⊆ S) for the subset of [compactiﬁed] semistable models Z such
that cZ is a vertex (respectively, an edge). Then:
(i) We shall say that c is asymptotically verticial (respectively, asymptotically
edge-like) if the subset Vc ⊆ S (respectively, Ec ⊆ S) forms a coﬁnal
subset of S. [In particular, if c is asymptotically verticial (respectively,
asymptotically edge-like), then Vc (respectively, Ec ) may be regarded as a
directed set in a natural way.]
(ii) Suppose that c is asymptotically verticial. Then we shall say that c is
strongly verticial if there exists a coﬁnal subset Sc ⊆ Vc satisfying the
following condition:
Let Z1 , Z2 ∈ Sc be distinct elements such that Z2 dominates
Z1 . Then the generic point of the irreducible component of
(Z2 )s that corresponds to cZ2 maps to the generic point of the
irreducible component of (Z1 )s that corresponds to cZ1 via the
dominant morphism Z2 → Z1 .
(iii) Suppose that c is asymptotically verticial. Then we shall say that c is
weakly verticial if there exists a coﬁnal subset Sc ⊆ Vc satisfying the
following condition:
Let Z1 , Z2 ∈ Sc be distinct elements such that Z2 dominates
Z1 . Then the generic point of the irreducible component of
(Z2 )s that corresponds to cZ2 maps to a closed point in the
interior of the irreducible component of (Z1 )s that corresponds
to cZ1 via the dominant morphism Z2 → Z1 .
74

(iv) Suppose that c is asymptotically edge-like. Then we shall say that c is
weakly edge-like if there exists a coﬁnal subset Sc ⊆ Ec satisfying the
following condition:
Let Z1 , Z2 ∈ Sc be distinct elements such that Z2 dominates
Z1 . Then there exists a toral compactiﬁed semistable model
Z1∗ relative to Z1 such that the dominant morphism Z2 → Z1
admits a factorization Z2 → Z1∗ → Z1 , and the node of (Z2 )s
that corresponds to cZ2 maps to a closed point in the interior
of an irreducible component of (Z1∗ )s [that necessarily lies over
the node of (Z1 )s that corresponds to cZ1 ] via the dominant
morphism Z2 → Z1∗ .
(v) Suppose that c is asymptotically edge-like. Then we shall say that c is
strongly edge-like if there exists a coﬁnal subset Sc ⊆ Ec satisfying the
following condition:
Let Z1 , Z2 ∈ Sc be distinct elements such that Z2 dominates Z1 .
Then, for each toral compactiﬁed semistable model Z1∗ relative
to Z1 that admits a factorization Z2 → Z1∗ → Z1 , the node of
(Z2 )s that corresponds to cZ2 maps to a node of (Z1∗ )s [that
necessarily lies over the node of (Z1 )s that corresponds to cZ1 ]
via the dominant morphism Z2 → Z1∗ .
(vi) We shall write

 vtc ⊆ VE(X);
VE(X)

 edg ⊆ VE(X);

VE(X)

 str-vtc ⊆ VE(X);

VE(X)

 wk-vtc ⊆ VE(X);

VE(X)

 str-edg ⊆ VE(X);

VE(X)

 wk-edg ⊆ VE(X),

VE(X)

respectively, for the subsets of asymptotically verticial VE-chains, asymptotically edge-like VE-chains, strongly verticial VE-chains, weakly verticial VE-chains, strongly edge-like VE-chains, and weakly edge-like VEchains. Also, for each  ∈ {vtc, edg, str-vtc, wk-vtc, str-edg, wk-edg}, we
shall write
 prim, = VE(X)
 prim ∩ VE(X)
 
VE(X)
def


(⊆ VE(X)).

(vii) Let Z ∈ S. Then in the notation of Deﬁnition 2.2, (vi), we shall write
def

VE(Z)tor,rat =



Vw

(⊆ VE(Z)tor );

De

(⊆ VE(Z)tor ).

w∈V(Z)
def

VE(Z)tor,irr =


e∈E(Z)

75

Note that one veriﬁes immediately that
VE(Z)tor = VE(Z)tor,rat



VE(Z)tor,irr ,

and that, for any Z1 , Z2 ∈ S such that Z2 dominates Z1 , the natural map
VE(Z2 )tor → VE(Z1 )tor induces a map
VE(Z2 )tor,rat → VE(Z1 )tor,rat
[cf. the discussion of Deﬁnition 2.2, (vi)].

Remark 3.2.1. In the notation of Deﬁnition 3.2, we observe that it follows immediately from the various deﬁnitions involved [cf. also Remarks 2.1.4, 2.1.5;
Deﬁnition 2.2, (vi)] that:
 str-vtc ∩ VE(X)
 wk-vtc = ∅;
VE(X)

 str-edg ∩ VE(X)
 wk-edg = ∅;
VE(X)

 vtc = VE(X)
 str-vtc ∪ VE(X)
 wk-vtc ;
VE(X)
 edg = VE(X)
 str-edg ∪ VE(X)
 wk-edg ;
VE(X)
 = VE(X)
 vtc ∪ VE(X)
 edg .
VE(X)

Proposition 3.3 (Elementary properties of the combinatorial classiﬁcation of VE-chains). In the notation of Deﬁnition 3.2, by forming the inductive limit of the natural log structures on the [compactiﬁed] semistable models
Z ∈ S, we obtain an ind-log structure on the pro-scheme limZ∈S Z. Then the
←−
following hold:

(i) Let c ∈ VE(X).
Write z̃c for the center on limZ∈S Z of the valuation
←−
ring Rc associated to c [cf. Proposition 2.3, (vi)]; Mcpf for the perfection
of the inductive limit monoid obtained by forming the stalk at z̃c of the
characteristic of the ind-log structure on the pro-scheme limZ∈S Z. Then,
←−
 str-edg ), then M pf is isomorphic
 vtc (respectively, c ∈ VE(X)
if c ∈ VE(X)
c
to Q≥0 (respectively, Q≥0 × Q≥0 ).
(ii) The following relations hold:
 str-vtc ∩ VE(X)
 str-edg = ∅;
VE(X)
 str-vtc ∩ VE(X)
 wk-vtc = ∅;
VE(X)

 wk-vtc ∩ VE(X)
 str-edg = ∅;
VE(X)
 wk-edg ⊆ VE(X)
 wk-vtc ;
VE(X)

 = VE(X)
 str-vtc ∪ VE(X)
 wk-vtc ∪ VE(X)
 str-edg .
VE(X)

76

Proof. Assertion (i) follows immediately from the well-known log structure of
Mcpf [cf. also the discussion of the subsection in Notations and Conventions entitled “Log schemes”], together with the various deﬁnitions involved. Assertion
(ii) follows immediately from assertion (i), together with the various deﬁnitions involved [cf. also Remark 3.2.1]. This completes the proof of Proposition
3.3.

Proposition 3.4 (Characterization of points of type 2 and 3 via the
combinatorial classiﬁcation of VE-chains). We maintain the notation of
Deﬁnition 3.2. Then the following hold:
 \ VE(X)
 prim . Then
 nonprim def
= VE(X)
(i) Write VE(X)
 nonprim ∪ VE(X)
 prim,str-edg .
 str-edg = VE(X)
VE(X)
Moreover, the unique nontrivial generization of a nonprimitive VE-chain
[cf. Proposition 2.3, (x)] is strongly verticial.
(ii) For Z ∈ S, write
τX

str-edg
 str-edg ⊆ VE(X)
 −→
 tor −→ VE(Z)tor
: VE(X)
VE(X)
τX,Z


for the natural composite map [cf. Proposition 2.3, (viii)]. Then for any
str-edg
induces a map
Z ∈ S, τX,Z

 nonprim → VE(Z)tor,rat
VE(X)
 prim,str-edg , there exists an element
[cf. (i)]. Moreover, for each c ∈ VE(X)
Zc ∈ S such that for every Z ∈ S that dominates Zc ,
str-edg
(c) ∈ VE(Z)tor,irr
τX,Z


[cf. (i)]. Finally, Zc ∈ S may be taken to be a [compactiﬁed] semistable
model with split reduction of XL over OL for some ﬁnite extension ﬁeld
L of K.
∼  an
 prim →
X [cf. Proposition 2.3, (viii)] determines
(iii) The bijection VE(X)
bijections
∼

 an [2];
 prim,str-vtc → X
VE(X)

∼

 prim,str-edg → X
 an [3].
VE(X)

(iv) Let Y be a proper hyperbolic curve over K; f : Y → X a dominant
def

morphism over K; y ∈ Y an . Write x = f (y) ∈ X an . Then, for each
i ∈ {1, 2, 3, 4}, y is of type i if and only if x is of type i.

77

Proof. Assertion (i) follows immediately from the various deﬁnitions involved.
 str-edg . First, suppose that
Next, we verify assertion (ii). Let c ∈ VE(X)
nonprim

prim,str-vtc


c ∈ VE(X)
. Write c ∈ VE(X)
for the unique nontrivial generization of c [cf. assertion (i)]. Then it follows immediately from the deﬁnition of
τX in the proof of Proposition 2.3, (viii), that τX (c) = τX (c ). In particular, it
 prim,str-vtc that τ  (c ) maps to
follows immediately from the fact that c ∈ VE(X)
X
str-edg
(c)
∈
VE(Z)tor,rat ,
an element of VE(Z)tor,rat for any Z ∈ S, hence that τX,Z

 prim,str-edg . Let Zc ∈ Sc for some
as desired. Next, suppose that c ∈ VE(X)
“Sc ” as in Deﬁnition 3.2, (v). Let Z ∈ S be an element that dominates Zc .
Then one veriﬁes immediately [cf. also the ﬁnal portion of Deﬁnition 3.2, (vii)]
str-edg
(c) ∈ VE(Z)tor,rat implies a contradiction to the condithat any relation τX


str-edg
tion of Deﬁnition 3.2, (v). Thus, we conclude that τX,Z
(c) ∈ VE(Z)tor,irr , as

desired. The fact that Zc ∈ S may be taken to be a [compactiﬁed] semistable
model with split reduction of XL over OL for some ﬁnite extension ﬁeld L of K
follows immediately from Proposition 2.3, (iii), (iv). This completes the proof
of assertion (ii). Assertion (iii) follows immediately from assertion (ii), together
with the various deﬁnitions involved [cf. also the ﬁnal portion of Deﬁnition 3.2,
(vii); Proposition 3.3, (ii)]. Finally, we consider assertion (iv). First, we observe
that the asserted equivalence follows immediately from the various deﬁnitions
involved [cf. also Proposition 2.3, (ii), (iii), in the case where i = 2] when
i ∈ {1, 2}. Thus, it suﬃces to verify the asserted equivalence when i = 3. When
i = 3, suﬃciency follows immediately, in light of assertion (iii) and Proposition
3.3, (ii), from Deﬁnition 3.1, (iii) [cf. also the discussion of Deﬁnition 2.2, (vi)].
On the other hand, it follows immediately, by replacing Y by the normalization
of Y in the Galois closure of the ﬁnite extension of function ﬁelds determined
by f and applying the suﬃciency that has already been veriﬁed, that to verify
necessity when i = 3, we may assume without loss of generality that the ﬁnite
extension of function ﬁelds determined by f is Galois. But then the desired
necessity follows immediately from the ﬁnal portion of assertion (ii), together
with Proposition 2.3, (iii), (iv) [cf. also the discussion of Deﬁnition 2.2, (vi)].
This completes the proof of Proposition 3.4.

Proposition 3.5 (Types of points and geometrically pro-l decomposition groups). In the notation of Deﬁnition 3.2, let l ∈ Σ \ {p}. Suppose that
X satisﬁes Σ-RNS. Then the following hold:
(i) Let
 wk-vtc ; c ∈ VE(X)
 str-edg ).
 str-vtc (respectively, c ∈ VE(X)
c ∈ VE(X)
 →) Z →
For each connected geometrically pro-Σ ﬁnite étale covering (X
def

{l}

X, write DZ,c ⊆ ΔlZ = ΔZ for the decomposition subgroup associated
to c of the geometric pro-l fundamental group of Z [cf. the subsection in
78

Notations and Conventions entitled “Fundamental groups”]. Then there
 →) Y → X
exists a connected geometrically pro-Σ ﬁnite étale covering (X
of X such that, for each connected geometrically pro-Σ ﬁnite étale covering
 →) Z → Y of Y , DZ,c is isomorphic to a [nonabelian] pro-l surface
(X
group [cf. [MT], Deﬁnition 1.2] (respectively, the trivial group; Zl ).
 an and the subset X
 an [i] ⊆ X
 an may
(ii) Let i ∈ {2, 3}. Then the set X
be reconstructed, functorially with respect to isomorphisms of topological
groups, from the underlying topological group of the geometric Σ-tempered
fundamental group of X [cf. the subsection in Notations and Conventions
entitled “Fundamental groups”].
(iii) Let Y , Z be [not necessarily proper!] hyperbolic curves over K that satisfy
Σ-RNS; Y → Y , Z → Z universal geometrically pro-Σ coverings of Y , Z,
respectively; f : Y → Z a dominant morphism over K; H ⊆ GK a closed
subgroup such that the restriction to H of the l-adic cyclotomic character of K has open image, and, moreover, the intersection H ∩IK of H with
the inertia subgroup IK of GK admits a surjection to [the proﬁnite group]
(Σ) def
(Σ) def

= Gal(Y /Y ), sZ : H → Π
= Gal(X/X)
sections
Zl ; sY : H → Π
Y

Z

(Σ)

of the restrictions to H of the respective natural surjections ΠY  GK ,
(Σ)
(Σ)
ΠZ  GK such that sY is mapped, up to ΠZ -conjugation, by f to
sZ via the map induced by f on geometrically pro-Σ fundamental groups.
Write ΩH ⊆ Ω for the subﬁeld of Ω ﬁxed by H. Then sY arises from a(n)
[necessarily unique] ΩH -rational point ∈ Y (ΩH ) if and only if sZ arises
from a(n) [necessarily unique] ΩH -rational point ∈ Z(ΩH ).
Proof. Since X satisﬁes Σ-RNS [cf. Deﬁnition 2.2, (vii)], assertion (i) follows
immediately from the well-known structure of the maximal pro-l quotient of the
admissible fundamental group of a stable curve over a separably closed ﬁeld of
characteristic p [cf. e.g., [SemiAn], Example 2.10], together with the various definitions involved. Assertion (ii) follows immediately from assertion (i), together
with Corollary 2.5, (i); Proposition 3.4, (iii) [cf. also Proposition 3.3, (ii)]. Finally, we consider assertion (iii). First, we observe that it follows immediately
(Σ)
from the proﬁnite nature of the topological group ΠY that, by replacing Y and
Z by the smooth compactiﬁcations of the various ﬁnite étale coverings of Y and
Z corresponding, respectively, to suitable open neighborhoods of the image of
(Σ)
(Σ)
sY in ΠY ×GK H and the image of sZ in ΠZ ×GK H, we may assume without
loss of generality that Y and Z are proper. Next, we observe that the various
uniqueness assertions in the statement of Proposition 3.5, (iii), follow immediately from the ﬁnal portion of Proposition 2.4, (vii), and that necessity follows
immediately from the various deﬁnitions involved. Thus, it suﬃces to verify
suﬃciency. On the other hand, suﬃciency follows, in light of the equivalences
of Proposition 3.4, (iv), formally from the ﬁnal portion of Proposition 2.4, (vii).
This completes the proof of Proposition 3.5.

79

Deﬁnition 3.6. Let K be a mixed characteristic complete discrete valuation
ﬁeld of residue characteristic p; X a proper hyperbolic curve over K. Write
K(XK ) for the function ﬁeld of XK . Let v be a p-valuation on K(XK ). Write
(OK ⊆) Ov ⊆ K(XK ) for the valuation ring associated to v. [Note that it
follows immediately from the well-known theory of one-dimensional function
def
ﬁelds that (Ov )K = Ov · K ⊆ K(XK ) is equal either to K(XK ) or to the
discrete valuation ring associated to a closed point of XK .] Then:
(i) Let M be an Ov -module. Then we shall say that M is bounded if the image
def

of M via the natural morphism M → MK = M ⊗OK K is contained in a
ﬁnitely generated Ov -submodule of MK . We shall say that M is unbounded
if M is not bounded.
(ii) We shall say that the p-valuation v is diﬀerentially bounded (respectively,
diﬀerentially unbounded) if the Ov -module of relative diﬀerentials ΩOv /OK
is bounded (respectively, unbounded).

Proposition 3.7 (Approximation of closed points of the generic ﬁber
via generic points of special ﬁbers). Let K be a mixed characteristic complete discrete valuation ﬁeld of residue characteristic p;
K = K0 ⊆ K 1 ⊆ · · · ⊆ K i ⊆ · · ·
an ascending chain of ﬁnite extension ﬁelds of K contained in K and indexed
by N. Write Ω for the p-adic completion of K. Let X be a hyperbolic curve over
K. For each i ∈ N, let
Xi
be a compactiﬁed semistable model with split reduction of XKi over OKi ;
φi+1 : Xi+1 −→ Xi ×OKi OKi+1
a dominant morphism over OKi+1 that induces the identity automorphism on
the generic ﬁber; vi an irreducible component of (Xi )s . Suppose that, for each
i ∈ N, the projection to Xi of φi+1 (vi+1 ) is a closed point xi ∈ (Xi )s ⊆ Xi of
(Xi )s that lies in the smooth locus of vi . Then the following hold:
(i) For each i ∈ N, let ψi : Spec OKi → Xi be a section whose image contains
def

xi . Then there exists a collection {ti , γi+1 , πi+1 }i∈N of elements ti ∈ Ai =
OXi ,xi and γi+1 , πi+1 ∈ mKi+1 such that, for each i ∈ N, ti ∈ Ai is a
generator of the ideal that deﬁnes the scheme-theoretic image of ψi , and
ti = γi+1 + πi+1 ti+1 ,
where we regard Ai as a subring of Ai+1 via the injection Ai → Ai+1
induced by the composite Xi+1 → Xi [which maps xi+1 → xi ] of φi+1 with
the projection to Xi .
80

def

(ii) We maintain the notation of (i). For each positive integer i, write li =
vp (πi ). Suppose that the equality

li = +∞
i≥1

holds. Then there exists a closed point xΩ of XΩ such that, for each
i ∈ N, the center on Xi of the closed point xΩ of XΩ , hence also of the
point-theoretic p-valuation on the function ﬁeld of XKi determined by the
closed point xΩ of XΩ , coincides with xi .
Proof. First, we verify assertion (i). We construct elements ti ∈ Ai and γi+1 , πi+1
∈ mKi+1 , for i ∈ N, by induction on i ∈ N. Let t0 ∈ A0 be a generator of
the ideal that deﬁnes the scheme-theoretic image of ψ0 ; i ∈ N. Suppose that
the elements tj+1 , γj+1 , and πj+1 have been constructed for j ∈ N such that
j < i. Write γi+1 ∈ mKi+1 for the image of ti via the composite homomorphism Ai ⊆ Ai+1 → OKi+1 induced by ψi+1 . Next, observe that the image in
Ai+1 ⊗OKi+1 Ki+1 of ti − γi+1 is a generator of the maximal ideal associated
to the closed point of XKi+1 determined by ψi+1 . Thus, since xi+1 lies in the
smooth locus of (Xi+1 )s , and Ai+1 is a regular local ring, hence a unique factorization domain, we conclude that there exists an element πi+1 ∈ mKi+1 such
that ti −γi+1 = πi+1 ti+1 for some generator ti+1 ∈ Ai+1 of the ideal that deﬁnes
the scheme-theoretic image of ψi+1 . This completes
 the proof of assertion (i).
Next, we verify assertion (ii). Suppose that i≥1 li = +∞. For each i ∈ N,
ﬁx elements ti ∈ Ai and γi+1 , πi+1 ∈ mKi+1 as in the statement of assertion (i).
For each positive integer j, write
def

sj = γj ·

πi .
1≤i≤j−1

it follows immediately from our assumpThen since
OΩ is p-adically complete,

tion that i≥1 li = +∞ that j≥1 sj converges to an element γ ∈ mΩ . Write
xΩ for the closed point of XΩ determined by the homomorphism ψΩ : A0 → OΩ
over OK0 that maps t0 → γ. Now observe that it follows immediately from the
deﬁnition of γ that, for each i ∈ N, ψΩ extends uniquely to a homomorphism
Ai → OΩ over OKi . On the other hand, the existence of such unique extensions implies that the center on Xi of the closed point xΩ of XΩ , hence also of
the point-theoretic p-valuation on the function ﬁeld of XKi determined by the
closed point xΩ of XΩ , coincides with xi . This completes the proof of assertion
(ii), hence of Proposition 3.7.
Proposition 3.8 (Characterization of points of type 1 via diﬀerentially
unboundedness). In the notation of Deﬁnition 3.6 [cf. also the notation of
 (⊇ K(X )) that restricts
Proposition 2.3, (viii)], let v be a p-valuation of K(X)
K
to v on K(XK ) [cf. Remark 2.2.4]. Suppose that v is primitive. Then the point
 an associated to v [cf. Proposition 2.3, (viii)] is of type 1 if and only if
xv ∈ X
v is diﬀerentially unbounded.
81

 an . Note that, in
Proof. Write xv ∈ X an for the point determined by xv ∈ X
light of Remark 3.1.1, it suﬃces to verify that if xv is of type 1 (respectively, of
type i ∈ {2, 3, 4}), then v is diﬀerentially unbounded (respectively, diﬀerentially
bounded).
First, we verify that if xv is of type 1, then v is diﬀerentially unbounded.
Suppose that xv is of type 1. Write Ω for the p-adic completion of K; ev :
Ov → OΩ for the natural evaluation homomorphism over OK associated to
xv. Next, observe that, since Ov ⊗OK K is a valuation ring [contained in the
function ﬁeld K(XK ) of the hyperbolic curve XK over K] that contains K, and
whose ﬁeld of fractions coincides with K(XK ) [cf. Deﬁnition 2.2, (ii)], it follows
immediately from the well-known theory of one-dimensional function ﬁelds over
an algebraically closed ﬁeld that ΩOv /OK ⊗OK K is a rank one free module over
Ov ⊗OK K. In particular, there exists an element t ∈ Ov such that ev(t) ∈ mΩ ,
and dt is a free generator of ΩOv /OK ⊗OK K over Ov ⊗OK K. Next, we observe
that, for any positive integer N , there exists an element aN ∈ mK such that
ev(t − aN ) = ev(t) − aN ∈ pN OΩ .
N
∈ Ov . On the other hand, it
Note that the above equation implies that t−a
pN
follows immediately from the deﬁnition of the module of relative diﬀerentials
that
N
dt = d(t − aN ) = pN · d( t−a
) ∈ ΩOv /OK .
pN

In particular, we conclude that dt is a nonzero p-divisible element of ΩOv /OK .
Thus, since dt is a free generator of ΩOv /OK ⊗OK K over Ov ⊗OK K, the differential boundedness of v would imply that arbitrary negative integral powers
of p are contained in Ov , i.e., in contradiction to our assumption that v is a
p-valuation. Hence we conclude that v is diﬀerentially unbounded, as desired.
Next, we verify that, if xv is of type 2, then v is diﬀerentially bounded.
Suppose that xv is of type 2. Then it follows immediately from Proposition 3.4,
(iii), that there exist a ﬁnite extension ﬁeld L of K, a compactiﬁed semistable
∼
model X of XL over OL , and a generic point x of Xs such that Ov → OX ,x ⊗OL
OK . In particular, to verify that v is diﬀerentially bounded, it suﬃces to verify
that ΩOX ,x /OL is a ﬁnitely generated OX ,x -module. On the other hand, this
follows immediately from the fact that OX ,x is essentially of ﬁnite type over
OL .
Next, we verify that, if xv is of type 3, then v is diﬀerentially bounded.
Suppose that xv is of type 3. Then it follows from Proposition 3.4, (iii), that
the VE-chain associated to the p-valuation v is strongly edge-like. Thus, it
follows immediately from Proposition 2.3, (iii), (iv) [cf. also Deﬁnition 3.2, (v),
[the ﬁnal portion of] (vii); Proposition 3.4, (ii)] that there exist
• an ascending chain
K = K0 ⊆ K 1 ⊆ · · · ⊆ K i ⊆ · · ·
of ﬁnite extension ﬁelds of K contained in K and indexed by N

82

and, for each i ∈ N,
• a compactiﬁed semistable model
Xi
with split reduction of XKi over OKi ,
• a dominant morphism
φi+1 : Xi+1 −→ Xi ×OKi OKi+1
over OKi+1 that induces the identity automorphism on the generic ﬁber,
• a node ei of (Xi )s
satisfying the following conditions:
• For each i ∈ N, the projection to Xi of φi+1 (ei+1 ) coincides with the node
ei ∈ (Xi )s ⊆ Xi .
• The equality

Ov = lim Ai ⊗OKi OK
−→
i∈N

def

— where, for each i ∈ N, we write Ai = OXi ,ei ; the transition map is the
homomorphism Ai ⊗OKi OK → Ai+1 ⊗OKi+1 OK induced by the composite
Xi+1 → Xi [which maps ei+1 → ei ] of φi+1 with the projection to Xi —
holds [cf. Proposition 2.3, (vi)].
def

For each i ∈ N, write Si = Spec OKi ; Silog for the log scheme determined by the
log structure on Si associated to the closed point of Si ; Xilog for the log scheme
over Silog determined by the natural log structure on Xi [i.e., the multiplicative
monoid of sections of OXi that are invertible on the open subscheme of Xi
determined by XKi ]; ωX log /S log ,ei for the stalk at ei of the sheaf of relative
i

i

logarithmic diﬀerentials associated to the proper, log smooth morphism Xilog →
Silog [cf. the subsection in Notations and Conventions entitled “Log schemes”].
Then it follows immediately from the deﬁnitions of the various log structures
involved that the morphism φi+1 : Xi+1 → Xi ×OKi OKi+1 = Xi ×Si Si+1 extends
to a log étale morphism of log schemes
log
log
−→ Xilog ×S log Si+1
,
Xi+1
i

which induces a natural isomorphism
∼

ωX log /S log ,ei ⊗Ai Ai+1 → ωX log /S log ,ei+1
i

i

i+1

i+1

of Ai+1 -modules, hence a natural homomorphism
φ : ΩOv /OK = lim ΩAi ⊗OK OK /OK −→ ωX log /S log ,e0 ⊗A0 Ov
−→
0
0
i
i∈N

83

of Ov -modules. Here, we note that φ induces a natural isomorphism
∼

ΩOv /OK ⊗OK K → ωX log /S log ,e0 ⊗A0 Ov ⊗OK K
0

0

of free Ov ⊗OK K-modules of rank 1. Thus, since ωX log /S log ,e0 is a ﬁnitely
0
0
generated A0 -module, we conclude that v is diﬀerentially bounded, as desired.
Finally, we verify that, if xv is of type 4, then v is diﬀerentially bounded.
Suppose that xv is of type 4. Then it follows from Proposition 3.3, (ii); Proposition 3.4, (iii) [cf. also Remark 3.1.1], that the VE-chain associated to the
p-valuation v [cf. Proposition 2.3, (viii)] is weakly verticial. Thus, it follows
immediately from Proposition 2.3, (iii), (iv) [cf. also Deﬁnition 3.2, (iii); the
ﬁnal portion of Remark 2.1.4] that there exist
• an ascending chain
K = K0 ⊆ K1 ⊆ · · · ⊆ Ki ⊆ · · ·
of ﬁnite extension ﬁelds of K contained in K and indexed by N
and, for each i ∈ N,
• a compactiﬁed semistable model
Xi
with split reduction of XKi over OKi ,
• a dominant morphism
φi+1 : Xi+1 −→ Xi ×OKi OKi+1
over OKi+1 that induces the identity automorphism on the generic ﬁber,
• an irreducible component vi of (Xi )s
satisfying the following conditions:
• For each i ∈ N, the projection to Xi of φi+1 (vi+1 ) is a closed point xi ∈
(Xi )s ⊆ Xi of (Xi )s that lies in the smooth locus of vi .
• For each i ∈ N, there exists a section ψi : Spec OKi → Xi whose image
contains xi .
• The equality

Ov = lim Ai ⊗OKi OK
−→
i∈N

def

— where, for each i ∈ N, we write Ai = OXi ,xi ; the transition map is the
homomorphism Ai ⊗OKi OK → Ai+1 ⊗OKi+1 OK induced by the composite
Xi+1 → Xi [which maps xi+1 → xi ] of φi+1 with the projection to Xi —
holds [cf. Proposition 2.3, (vi)].
84

Thus, we are in the situation of Proposition 3.7, (i). In particular, there exists
a collection {ti , γi+1 , πi+1 }i∈N of elements ti ∈ Ai and γi+1 , πi+1 ∈ mKi+1 as in
Proposition 3.7, (i), such that ti = γi+1 + πi+1 ti+1 . Next, observe that since xi
lies in the smooth locus of (Xi )s , it follows that ΩAi /OKi is a free Ai -module of
rank 1 generated by dti . In particular, since ti = γi+1 + πi+1 ti+1 , we conclude
that
1
ΩAi+1 /OKi+1 =
· ΩAi /OKi ⊗Ai Ai+1 .
πi+1
Thus, it follows immediately from the equality Ov = limi∈N Ai ⊗OKi OK that
−→
1
· ΩA0 /OK0 ⊗A0 Ov .
ΩOv /OK = lim 
−→
1≤j≤i+1 πj
i∈N

Now suppose that v is diﬀerentially unbounded. For each positive integer i,
def
write li = vp (πi ). Then since v is diﬀerentially unbounded, we conclude that
the equality

li = +∞
i≥1

holds. Next, we observe that it follows immediately from Proposition 3.7, (ii)
[cf. also the equality Ov = limi∈N Ai ⊗OKi OK ], that v determines a closed
−→
point xΩ of XΩ such that the valuation ring of the point-theoretic p-valuation
on K(XK ) associated to xΩ dominates Ov , hence coincides with Ov . Thus, we
conclude that xv is the point ∈ X an determined by xΩ , hence that xv is of type
1, in contradiction to our assumption that xv is of type 4. This completes the
proof of Proposition 3.8.

Proposition 3.9 (Characterization of points of type 1 via geometric
Σ-tempered decomposition groups). In the notation of Deﬁnition 3.2, suppose that p ∈ Σ. Let x ∈ X an be an element; l ∈ Σ \ {p}; Dx a decomposition
of X associated to
group in the geometric Σ-tempered fundamental group ΔΣ-tp
X
x. Then the following hold:
(i) Suppose that x is of type 1. Then Dx is trivial.
(ii) Suppose that x is of type 4. Then there exists an open subgroup of Dx that
admits a continuous surjective homomorphism to Zp . In particular, Dx is
nontrivial.
(iii) Suppose that x is of type i ∈ {2, 3}, and that X satisﬁes Σ-RNS. Then
there exists an open subgroup of Dx that admits a continuous surjective
homomorphism to Zl . In particular, Dx is nontrivial.
(iv) Suppose that X satisﬁes Σ-RNS. Then x is of type 1 if and only if Dx is
trivial.

85

 an be a lifting of x. First, we observe that assertion (i) follows
Proof. Let x
∈X
immediately from the various deﬁnitions involved. Next, we verify assertion (iii).
Suppose that x [or, equivalently, x
] is of type i ∈ {2, 3}, and that X satisﬁes
Σ-RNS. Then it follows immediately from Proposition 3.4, (iii); Proposition 3.5,
(i), that there exists an open subgroup of Dx that admits a continuous surjective
homomorphism to Zl . This completes the proof of assertion (iii). Assertion (iv)
follows immediately from assertions (i), (ii), (iii) [cf. also Remark 3.1.1].
Thus, to complete the proof of Proposition 3.9, it suﬃces to verify assertion
(ii). To verify assertion (ii), by replacing K by a suitable extension ﬁeld of
K contained in Ω, we may assume without loss of generality [cf. Proposition
3.4, (iii)] that the residue ﬁeld of K is separably closed. Suppose that x [or,
equivalently, x
] is of type 4, and that no open subgroup of Dx admits a continuous

surjective homomorphism to Zp . Write v for the primitive p-valuation on K(X)
associated to x
 [cf. Proposition 2.3, (viii)]; v for the p-valuation obtained by
restricting v to K(XK ). Then since x is of type 4, it follows from Proposition
3.8 that ΩOv /OK is bounded. In particular, by replacing K by a ﬁnite extension
ﬁeld of K, if necessary, we observe that there exist
• a positive integer N and
• a compactiﬁed semistable model with split reduction X of X over OK
such that the center z on X of the VE-chain associated to v lies in the smooth
locus of Xs ⊆ X , arises from a point of X valued in the residue ﬁeld of OK , and
satisﬁes the following condition [cf. the portion of the proof of Proposition 3.8
concerning points of type 4]:
(ΩOX ,z /OK ⊆) ΩOX ,z /OK ⊗OX ,z Ov ⊆ ΩOv /OK ⊆

1
· ΩOX ,z /OK ⊗OX ,z Ov
pN

— where by a slight abuse of notation, we use the notation “⊆” to denote the
various natural inclusions, and we note that since ΩOX ,z /OK is a free OX ,z module of rank 1, the Ov -module ΩOX ,z /OK ⊗OX ,z Ov is a free Ov -module of
rank 1. In particular, it follows immediately that the second and third inclusions
of the above display induce the injections on the respective p-adic completions
[cf. the discussion of Remark 2.2.4].
In the remainder of the proof of assertion (ii), we suppose that we are in
the situation of Proposition 2.12. Moreover, by replacing X by a suitable geometrically pro-Σ connected ﬁnite étale covering of X [cf. Proposition 2.3, (xii);
Deﬁnition 2.7], we may assume without loss of generality that
X = Yn ,

X = Yn ,

z = (yn )s ,

X ,z = O
Y ,y ,
O
n n

X ,z denotes the completion of the local ring OX ,z . Write
where O
 m ) −→ O
×
Ψ : HomOK (Tqtr,n , G
X ,z
 m)
for the assignment discussed in Proposition 2.13, (ii). Let f ∈ HomOK (Tqtr,n , G
be a nontrivial element [which exists by Propositions 2.11, (i); 2.13, (i)]. Thus,
86

the logarithmic diﬀerential
def

def

)
θ = dΨ(f
X ,z /OK = lim Ω(OX ,z /mm
Ψ(f ) ∈ ΩO
z )/OK
←−
m≥1

— where mz denotes the maximal ideal of OX ,z ; m ranges over the positive
× is = 0 [cf. the ﬁrst display, as well as the discussion
integers — of Ψ(f ) ∈ O
X ,z
following this ﬁrst display, in the proof of Theorem 2.16, where we observe that
this portion of the proof of Theorem 2.16 may be applied even in the case of
the “K” — i.e., with separably closed residue ﬁeld — of the present discussion].
 v for the ﬁeld of fractions of
v for the p-adic completion of Ov ; K
Next, write O
v . Since v is a real valuation [cf. Proposition 2.3, (vii); Remark 3.1.1], it follows
O
immediately from the ﬁnal portion of Remark 2.2.4 that the henselization of Ov
v . Write H ⊆ ΔΣ-tp for the closed subgroup
may be regarded as a subring of O
X
obtained by forming the intersection of the kernels of the continuous surjective
 H , K(X)
 Dx ⊆ K(X)
 for the subﬁelds ﬁxed
homomorphisms ΔΣ-tp
 Zp ; K(X)
X
by H and Dx , respectively. Then since there does not exist any continuous
surjective homomorphism Dx  Zp , we thus conclude that Dx ⊆ H, hence that
 H ⊆ K(X)
 Dx ⊆ K
v .
K(X)
On the other hand, it follows immediately from the deﬁnition of the center z
on X that there exists a natural homomorphism φ : OX ,z → Ov of local rings,
X ,z → O
v of topological local rings.
which thus induces a homomorphism φ : O
def
 = 0.
Now we claim that φ is injective. Indeed, suppose that p = Ker(φ)


Then since OX ,z is a regular local ring of dimension 2, and Ov is p-torsion-free,
it follows that p is a prime ideal of height 1 such that p ∩ OK = {0}. Next,
X ,z /p)⊗O (OK /mK ) is ﬁnite over OK /mK . Thus, since O
X ,z /p
observe that (O
K

is a complete OK -module, we conclude that OX ,z /p is ﬁnite over OK . On the
v is
other hand, observe that the composite homomorphism OX ,z → Ov → O
X ,z /p is injective.
injective, hence that the natural homomorphism OX ,z → O
In particular, we conclude that OX ,z ⊗OK K embeds into a ﬁnite dimensional
K-vector space, a contradiction. This completes the proof of our claim that φ
is injective.
Next, we observe that since the image of Ψ(f ) is p-divisible in the multiX ,z ⊗O
 H }× [cf. Proposition 2.13, (ii)], the image
plicative group {O
K(X)
X ,z
 × , hence also in the multiplicative group
of Ψ(f ) in the multiplicative group K
v
×

Ov , is p-divisible. Write
ΩOv /O

def
K

= lim Ω(Ov /pm ·Ov )/OK ,
←−
m≥1

where m ranges over the positive integers. Then it follows immediately from
well-known basic facts concerning modules of diﬀerentials, together with the
fact that ΩOX ,z /OK is a free OX ,z -module of rank 1, that

ΩOX ,z /OK = lim ΩOX ,z /OK ⊗OX ,z OX ,z /mm
z = ΩOX ,z /OK ⊗OX ,z OX ,z ;
←−
m≥1

87

ΩOv /O

K

= lim ΩOv /OK ⊗Z Z/pm Z.
←−
m≥1

In particular, since φ is injective, it thus follows from the discussion of the ﬁnal
portion of the second paragraph of the present proof that
X ,z ⊆ ΩO /O ⊗O O
v ⊆ Ω 
ΩOX ,z /OK = ΩOX ,z /OK ⊗OX ,z O
X ,z
X ,z
K
Ov /O ,
K

hence that the image θv ∈ ΩOv /O of θ in ΩOv /O is = 0. On the other hand,
K
K
× is p-divisible, and Ω 
since the image of Ψ(f ) in O
is, by deﬁnition, pOv /OK

v

adically separated, we conclude that θv = 0, a contradiction. This completes the
proof of assertion (ii), hence of Proposition 3.9.

Corollary 3.10 (Reconstruction of points of type 1 via geometric tempered fundamental groups). Let Σ ⊆ Primes be a subset of cardinality ≥ 2
that contains p; K a mixed characteristic complete discrete valuation ﬁeld of
residue characteristic p; X a hyperbolic curve over K. Write Ω for the p-adic

completion of K; Πtp
(−) for the Σ-tempered fundamental group of (−); X → X
tp

for the universal pro-Σ covering corresponding to Π [so Gal(X/X)
may be
X

identiﬁed with the pro-Σ completion of Πtp
X ]. Suppose that X satisﬁes Σ-RNS.


Then the set X(Ω)
equipped with its natural action by Gal(X/X)
— hence also,


the quotient set X(Ω)
 X(Ω) —
by passing to the set of Gal(X/X)-orbits,
may be reconstructed, in a purely combinatorial/group-theoretic way and functorially with respect to isomorphisms of topological groups, from the underlying
topological group of Πtp
X.
Proof. Recall that, for any hyperbolic curve Y over K, the set of cuspidal
inertia subgroups of Πtp
Y , hence also the genus of Y , may be reconstructed,
in a purely combinatorial/group-theoretic way and functorially with respect
to isomorphisms of topological groups, from the underlying topological group
of Πtp
Y [cf. the generalized version of [SemiAn], Corollary 3.11, discussed in
[AbsTopII], Remark 2.11.1, (i)]. On the other hand, in the case where X
is a proper hyperbolic curve over K, we observe that Corollary 3.10 follows
immediately from Proposition 3.9, (iv), and [the proof of] Corollary 2.5, (i).
Thus, by applying this observation to the Σ-tempered fundamental groups of
the smooth compactiﬁcations of the various [connected] geometrically pro-Σ
ﬁnite étale Galois coverings of X over K of genus ≥ 2, we conclude that


X(Ω)
equipped with its natural action by Gal(X/X)
may be reconstructed,
in a purely combinatorial/group-theoretic way and functorially with respect to
isomorphisms of topological groups, from the underlying topological group of
Πtp
X . This completes the proof of Corollary 3.10.

88

Theorem 3.11 (Preservation of decomposition subgroups associated
to closed points). For  ∈ {†, ‡}, let p be a prime number; Σ ⊆ Primes a
subset that contains p ; l ∈ (Σ† \{p† }) ∩ (Σ‡ \{p‡ }); K  a mixed characteristic
complete discrete valuation ﬁelds of residue characteristic p ; X  a hyperbolic

curve over K  ; L ⊆ K a tamely ramiﬁed [not necessarily ﬁnite!] Galois
extension of K  that may be written as a union of ﬁnite tamely ramiﬁed Galois

extensions of K  in K of ramiﬁcation index prime to l. Let
σ:Π

(Σ† ) ∼
(Σ‡ )
→Π ‡
†
X †
X ‡
L

L

be an isomorphism of proﬁnite groups between the geometrically pro-Σ† étale
fundamental group of XL† † and the geometrically pro-Σ‡ étale fundamental group
of XL‡ † . For  ∈ {†, ‡}, write ΔΣ
for the geometric pro-Σ étale fundamental
X


L

group of XL , IL ⊆ GL for the inertia subgroup of GL , and kL for the
residue ﬁeld of L . Then the following hold:
(i) We have an equality p† = p‡ , and σ induces isomorphisms of proﬁnite
†
‡
∼
∼
→ ΔΣ
, GL† → GL‡ . In particular, Σ† = Σ‡ . Finally, if,
groups ΔΣ
X†
X‡
L†

L‡

for each  ∈ {†, ‡}, every pro-l closed subgroup of the kernel of the l-adic
cyclotomic character on GkL is trivial [cf. Remark 3.11.1 below], then,
for all suﬃciently small open subgroups J † ⊆ GL† , J ‡ ⊆ GL‡ such that
∼
σ induces an isomorphism J † → J ‡ , σ also induces an isomorphism of
proﬁnite groups between the respective images of J † ∩ IL† , J ‡ ∩ IL‡ in the
maximal pro-l quotients J †  (J † ){l} , J ‡  (J ‡ ){l} .
(ii) Suppose that, for all suﬃciently small open subgroups J † ⊆ GL† , J ‡ ⊆
∼
GL‡ such that σ induces an isomorphism J † → J ‡ , σ also induces an
isomorphism of proﬁnite groups between the respective images of J † ∩ IL† ,
J ‡ ∩ IL‡ in the maximal pro-l quotients J †  (J † ){l} , J ‡  (J ‡ ){l} .
def

Write Σ = Σ† = Σ‡ [cf. (i)]. Suppose, moreover, that X † and X ‡
satisfy Σ-RNS. Then σ induces a bijection between the respective sets of
decomposition subgroups associated to closed points of XL† † and XL‡ ‡ , where
 ‡ denote the respective completions of L† , L‡ .
† , L
L
def

def

Proof. First, we verify assertion (i). Write τ † = σ −1 , τ ‡ = σ. For  ∈ {†, ‡},
write  for the unique element of {†, ‡} \ {}. Then observe that it follows

immediately, by applying to τ  (ΔΣ
 ), for both  = † and  = ‡,
X
L



• the argument of the proof of [MiTs1], Corollary 4.6 [in the case where the
extension L /K  is ﬁnite; here, we note that in this case, it follows from
(Σ )

[MiSaTs], Theorem 3.8, that if ΠX  is topologically ﬁnitely generated,


L



then the extension L /K  is also ﬁnite], and
89

• [MiSaTs], Theorem 3.8 [in the case where the extension L /K  is inﬁnite],
that σ induces isomorphisms of proﬁnite groups
†

∼

‡

Σ
ΔΣ
X † → ΔX ‡ ;

∼

G L † → GL ‡ .

Thus, we conclude from [MiTs2], Theorem A, (i), together with the well-known
structure of geometric fundamental groups of hyperbolic curves over ﬁelds of
characteristic zero [cf., e.g., [MT], Remark 1.2.2], that p† = p‡ , and Σ† =
Σ‡ . The ﬁnal portion of assertion (i) follows immediately from the well-known
structure, for  ∈ {†, ‡}, of the Galois group Gal((K  )tm /K  ) over K  of the
maximal tamely ramiﬁed extension (K  )tm of K  [under the assumption that
every pro-l closed subgroup of the kernel of the l-adic cyclotomic character on
GkL is trivial], which implies that, for any suﬃciently small open subgroup
J  ⊆ GL , the image of J  ∩ IL in the maximal pro-l quotient J   (J  ){l}
coincides with the unique maximal abelian normal closed subgroup of (J  ){l} .
This completes the proof of assertion (i).
Next, we verify assertion (ii). First, we note that it follows from assertion
def

(i) that p = p† = p‡ . Thus, in light of our assumption on σ [cf. also assertion
(i)], it follows from [CmbGC], Corollary 2.7, (i) [applied in the case where “l” is
taken to be the p of the present discussion], (iii) [applied in the case where “l” is
∼
taken to be the l of the present discussion], that the isomorphism ΔΣ
→ ΔΣ
X†
X‡
L†

L†

[cf. (i)] satisﬁes the condition (b∃ ) of [CbTpIII], Proposition 3.6. In particular,
by applying [CbTpIII], Proposition 3.6, (i), we conclude that the isomorphism
∼
ΔΣ
→ ΔΣ
arises, up to composition with an inner automorphism, from an
X†
X‡
L†

L‡

isomorphism between the respective geometric Σ-tempered fundamental groups
of X † and X ‡ . Thus, by replacing σ by the composite of σ with an inner
automorphism arising from ΔΣ
, we may assume without loss of generality
X‡
L‡

that σ arises from an isomorphism between the respective pull-backs via the
natural inclusions GL† ⊆ GK † , GL‡ ⊆ GK ‡ of the geometrically Σ-tempered
fundamental groups of X † and X ‡ .
 †, X
 ‡ for the universal geometrically pro-Σ coverings correNext, write X
(Σ)
(Σ)
sponding to Π † , Π ‡ , respectively; Ω† , Ω‡ for the p-adic completions of
†

‡

X †
L

X ‡
L

K , K , respectively. Then since σ determines an isomorphism between the
respective geometric Σ-tempered fundamental groups of X † and X ‡ , it follows
immediately from Corollary 3.10 that σ induces a bijection
∼ ‡
 † (Ω† ) →
X (Ω‡ )
X

that is compatible with the respective natural actions of Π

(Σ)
(Σ)
, Π ‡ .
X† †
X †
L

L

Thus,

in light of [Tate], §3.3, Theorem 1 [which, as is easily veriﬁed, admits a routine
‡ ,
† , L
generalization to mixed characteristic complete valuation ﬁelds such as L
i.e., whose valuations are not necessarily discrete [but nonetheless tamely ramiﬁed over some discrete valuation], and whose residue ﬁelds are not necessarily
90

perfect], we conclude that σ induces a bijection between the respective sets of
decomposition subgroups associated to closed points of XL† † and XL‡ ‡ . This
completes the proof of assertion (ii), hence of Theorem 3.11.

Remark 3.11.1. In passing, we observe that the condition concerning the kernel
of the l-adic cyclotomic character on GkL that appears in the ﬁnal portion of
Theorem 3.11, (i), is satisﬁed if kL is either separably closed or algebraic over
the ﬁnite ﬁeld of cardinality p.
We are now in a position to verify an absolute version of the Grothendieck
Conjecture for arbitrary hyperbolic curves over p-adic local ﬁelds [cf. Theorem
3.12 below], which is one of the central open questions in anabelian geometry.
Theorem 3.12 (Absolute version of the Grothendieck Conjecture for
arbitrary hyperbolic curves over p-adic local ﬁelds). Let p† , p‡ be prime
numbers; Σ ⊆ Primes a subset of cardinality ≥ 2 that contains p† and p‡ ; K † ,
K ‡ mixed characteristic local ﬁelds of residue characteristic p† , p‡ , respectively;
X † , X ‡ hyperbolic curves over K † , K ‡ , respectively. Then the natural map
Isom(X † , X ‡ ) −→ OutIsom(ΠX † , ΠX ‡ )
(Σ)

(Σ)

is bijective.
Proof. First, we observe that any isomorphism of schemes between X † and X ‡
necessarily lies over an isomorphism of ﬁelds between K † and K ‡ . [Indeed, this
×
follows immediately by considering subgroups of the groups of units Γ(X † , OX
† ),
×
‡
Γ(X , OX ‡ ) whose unions with {0} are closed under addition.] Now Theorem
3.12 follows immediately by combining Theorems 2.17; 3.11, (i), (ii) [cf. also
Remark 3.11.1], of the present paper with [AbsTopII], Corollary 2.9.

Remark 3.12.1. Theorem 3.12 may be regarded as a complete aﬃrmative resolution of the absolute version of the Grothendieck Conjecture for hyperbolic curves
over p-adic local ﬁelds in the geometrically pro-Σ case, where Σ ⊆ Primes is a
subset of cardinality ≥ 2 that contains the residue characteristic of the base
ﬁeld. On the other hand, the following questions remain open, to the authors’
knowledge, at the time of writing of the present paper:
Question 1: Can one prove a geometrically pro-p version of the absolute Grothendieck Conjecture for hyperbolic curves over p-adic local
ﬁelds? In this context, we observe that certain partial results in this
direction are obtained in [Hgsh].
Question 2: Can one prove an absolute version of the Grothendieck
Conjecture for hyperbolic curves over more general base ﬁelds? For
instance, one may consider the case where the base ﬁelds are mixed
91

characteristic complete discrete valuation ﬁelds whose residue ﬁelds
are algebraic over Fp , i.e., a class of ﬁelds for which a relative version of the Grothendieck Conjecture for hyperbolic curves has been
known for some time [cf. [AnabTop], Theorem 4.12].

Theorem 3.13 (Absolute version of the Grothendieck Conjecture for
conﬁguration spaces associated to arbitrary hyperbolic curves over
p-adic local ﬁelds). Let p† , p‡ be prime numbers; K † , K ‡ mixed characteristic
local ﬁelds of residue characteristic p† , p‡ , respectively; X † , X ‡ hyperbolic curves
over K † , K ‡ , respectively; n† , n‡ positive integers. Write Xn† † (respectively,
Xn‡ ‡ ) for the n† -th (respectively, n‡ -th) conﬁguration space associated to X †
(respectively, X ‡ ). Then the natural map
Isom(Xn† † , Xn‡ ‡ ) −→ OutIsom(ΠX † , ΠX ‡ )
n†

n‡

is bijective.
Proof. First, we observe that any isomorphism of schemes between Xn† † and
Xn‡ ‡ necessarily lies over an isomorphism of ﬁelds between K † and K ‡ . [Indeed,
this follows immediately by a similar argument to the argument applied in
the proof of Theorem 3.12.] Now Theorem 3.13 follows immediately from a
def

routine argument via induction on n = n† = n‡ [cf. [AbsTopI], Theorem 2.6,
(v); [HMM], Theorem A, (i), (ii)], by combining Theorem 3.12 of the present
paper with the relative version of the Grothendieck Conjecture given in [LocAn],
Theorem A.
Next, we discuss the functorial behavior of the lengths of nodes of special
ﬁbers of compactiﬁed semistable models [cf. Deﬁnition 3.14 below] with respect
to ﬁnite morphisms between compactiﬁed semistable models that extend ﬁnite
étale Galois coverings of hyperbolic curves over mixed characteristic complete
discrete valuation ﬁelds.
Deﬁnition 3.14. Let K be a mixed characteristic complete discrete valuation
ﬁeld of residue characteristic p; X a hyperbolic curve over K; X a compactiﬁed
semistable model with split reduction of X over OK ; e a node of Xs . Recall that
the completion of the local ring OX ,e at e is isomorphic to OK [[x, y]]/(xy − a),
where x, y denote indeterminates; a ∈ mK \ {0}. Then we shall refer to vp (a)
as the length of e. [Note that the length of e is independent of the choice of a,
∼
as well as of the isomorphism OX ,e → OK [[x, y]]/(xy − a) over OK [cf. [Hur],
§3.7].]

92

Proposition 3.15 (Functorial behavior of the lengths of nodes). Let K
be a mixed characteristic complete discrete valuation ﬁeld of residue characteristic p; X a hyperbolic curve over K; Y → X a [connected] ﬁnite étale Galois
covering of hyperbolic curves over K; Y a compactiﬁed semistable model of Y
def
over OK that is stabilized by G = Gal(Y /X). Write X for the compactiﬁed
semistable model of X over OK obtained by forming the quotient of Y by the
action of G on Y [cf. Proposition 2.3, (iv)]; f : Y → X for the natural quotient
morphism. Suppose that
• Y has split reduction, and that
• the natural action of G on Ys does not permute the branches of some node
eY of Ys .
def

Write eX = f (eY ) for the node of Xs determined by eY [cf. Proposition 2.3,
(iv)]; lX , lY for the lengths of the nodes eX , eY [relative to the compactiﬁed
semistable models X , Y, respectively]. Then there exists a positive integer m
such that
l X = m · lY .
Moreover, the positive integer m may be computed as the cardinality of the
decomposition subgroup [i.e., the stabilizer subgroup] of eY in G.
def

Proof. Write S = Spec OK ; S log for the log scheme obtained by equipping S
with the log structure determined by the closed point of S; X log , Y log for the
log schemes over S log determined by the compactiﬁed semistable models X , Y,
respectively [cf. the discussion of the subsection in Notations and Conventions
entitled “Log schemes”]. Observe that f naturally determines a ﬁnite morphism
f log : Y log → X log of log schemes, hence a ﬁnite morphism
X ,e )log ,
Y,e )log −→ (Spec O
(Spec O
Y
X
Y,e denote the completions of the respective normal local rings
X ,e , O
where O
X
Y
OX ,eX , OY,eY , and the superscripts “log” denote the log structures induced by
the respective log structures of X log , Y log . Since Y is assumed to have split
reduction, it follows [cf. the discussion of Deﬁnition 3.14] that
X ,e ∼
OK [[u1 , u2 ]]/(u1 u2 − a),
O
X =

Y,e ∼
OK [[v1 , v2 ]]/(v1 v2 − b),
O
Y =

where u1 , u2 , v1 , v2 denote indeterminates; a, b ∈ mK \{0} are elements such that
lX = vp (a), lY = vp (b). Moreover, it follows immediately from the deﬁnitions
of the log structures involved, together with the geometry of the irreducible
X ,e and Spec O
Y,e , that, after
components of the special ﬁbers of Spec O
X
Y
possibly switching the indices ∈ {1, 2} of [either or both of] the pairs (u1 , u2 )
×
and (v1 , v2 ), there exist positive integers m1 , m2 and units c1 , c2 ∈ O
Y,eY such
that m1 ≥ m2 , and
u1 = c1 · v1m1 , u2 = c2 · v2m2 ,
93

Y,e via the natural injection O
X ,e →
where we regard u1 , u2 as elements in O
Y
X

OY,eY . In particular, it holds that
a = u1 u2 = c1 c2 v1m1 v2m2 = c1 c2 v1m1 −m2 bm2 ∈ OK [[v1 , v2 ]]/(v1 v2 − b).
On the other hand, such a relation implies, in light of the well-known structure
of the log structures involved, i.e., in eﬀect, the geometry of the irreducible
X ,e and Spec O
Y,e , that m def
components of the special ﬁbers of Spec O
=
X
Y
m
m1 = m2 , hence that a = c1 c2 b . In particular, we conclude that lX = m · lY ,
as desired. Finally, the fact that m may be computed as the cardinality of
the decomposition subgroup [i.e., the stabilizer subgroup] of eY in G follows
immediately from the fact that the generic degree of the [ﬁnite, generically
Y,e → Spec O
X ,e is [easily computed, via the explicit
étale] morphism Spec O
Y
X
presentations of OY,eY , OX ,eX given above, to be] m. This completes the proof
of Proposition 3.15.
Next, we apply Proposition 3.15, together with the theory of p-adic arithmetic cuspidalizations developed in [Tsjm], §2, to prove that the various p-adic
versions of the Grothendieck-Teichmüller group that appear in the literature [cf.
[Tsjm], Remark 2.1.2] in fact coincide.
Theorem 3.16 (Equality of various p-adic versions of the Grothendieckdef

-Teichmüller group). Write X = P1Q \ {0, 1, ∞};
p

GT ⊆ Out(ΠX )
for the Grothendieck-Teichmüller group [cf. [CmbCsp], Remark 1.11.1];
GTM ⊆ GT (⊆ Out(ΠX ))
for the metrized Grothendieck-Teichmüller group [cf. [CbTpIII], Remark 3.19.2];
def

GTtp
= GT ∩ Out(Πtp
p
X ) ⊆ Out(ΠX )
[cf. the subsection in Notations and Conventions entitled “Fundamental groups”;
[Tsjm], Deﬁnition 2.1]. Then the natural inclusion
GTM ⊆ GTtp
p
of subgroups of GT is an equality. In particular, it holds that
GTM = GTp = GTG = GTtp
p
[cf. [Tsjm], Remark 2.1.2].

94

Proof. First, we recall that there exists a natural surjection
φ : GTtp
p  GQ p
whose restriction to GQp is the identity automorphism [cf. [Tsjm], Corollary B,
as well as Remark 3.16.1 below]. Thus, since GQp ⊆ GTM ⊆ GTtp
p , it suﬃces
to prove that Ker(φ) ⊆ GTM . Let σ ∈ Ker(φ). Fix a lifting σ̃ ∈ Aut(Πtp
X ) of
will
always
denote
the
Primesσ. [Here and in the following discussion, Πtp
(−)
tempered fundamental group of (−).]
Then it follows immediately from the construction of φ [cf. the discussion, in
the proof of [Tsjm], Corollary 2.4, of the two paragraphs following the proof of
Claim 2.4.B; the discussion, in the proof of [HMT], Theorem 4.4, of the observation immediately following the statement of Claim 4.4.A; [NCBel], Corollary 1.2]
that, for any ﬁnite subset S ⊆ Q \ {0, 1} ⊆ X(Qp ), σ̃ lifts to an automorphism
def

of Πtp
XS [where we write XS = X \ S] with respect to the natural surjection
tp
Πtp
XS  ΠX determined [up to composition with an inner automorphism] by the
natural open immersion XS → X.
Next, let ψY : Y → X be a connected ﬁnite étale covering over Qp . Write
ψZ : Z → X for the Galois closure of ψY ; Z for the compactiﬁed stable model of
σ
Z over OQp ; ψYσ : Y σ → X, ψZ
: Z σ → X for the connected ﬁnite étale coverings
tp
tp
tp
over Qp that correspond to the open subgroups σ̃(Πtp
Y ) ⊆ ΠX , σ̃(ΠZ ) ⊆ ΠX ,
respectively. For each ﬁnite subset S ⊆ Q \ {0, 1} ⊆ X(Qp ), write
def

• ZS (respectively, ZSσ ) for the compactiﬁed stable model of ZS = Z \
−1
σ −1
(S) (respectively, ZSσ = Z σ \ (ψZ
) (S)) over OQp ;
ψZ
def

• XS (respectively, YS , YSσ ) for the compactiﬁed semistable model of XS
(respectively, YS = Y \ ψY−1 (S), YSσ = Y σ \ (ψYσ )−1 (S)) obtained by
forming the quotient of ZS (respectively, ZS , ZSσ ) via the natural action
of Gal(Z/X) (respectively, Gal(Z/Y ), Gal(Z σ /Y σ )) [cf. Proposition 2.3,
(iv)].
def

def

Next, observe that there exists a ﬁnite subset T ⊆ Q \ {0, 1} ⊆ X(Qp ) such
that
• the natural action of Gal(Z/X) on (ZT )s does not permute any branches
of nodes, and
• XT , YT , YTσ are the respective compactiﬁed stable models of XT , YT , YTσ
over OQp .
Then since σ̃ lifts to an automorphism of Πtp
XT [cf. the above discussion], hence
to an isomorphism
∼

tp
tp
tp
tp
tp
Πtp
Z ×Πtp ΠXT = ΠZT → ΠZ σ = ΠZ σ ×Πtp ΠXT ,
T

X

95

X

it follows immediately from Proposition 2.3, (iv), together with [SemiAn], Corollary 3.11, that σ̃ induces a commutative diagram of semi-graphs
∼

ΓZT −−−−→ ΓZTσ
⏐
⏐
⏐
⏐


ΓXT

ΓX T ,

where Γ(−) denotes the dual semi-graph associated to (−)s , compatible with
the respective natural actions of Gal(Z/X), Gal(Z σ /X). Thus, we conclude
∼
from Proposition 3.15 that the isomorphism ΓZT → ΓZTσ of dual semi-graphs is
compatible with the respective metric structures [cf. [CbTpIII], Deﬁnition 3.5,
(iii)]. On the other hand, σ̃ also induces a commutative diagram of semi-graphs
∼

ΓZT −−−−→ ΓZTσ
⏐
⏐
⏐
⏐


∼

ΓYT −−−−→ ΓYTσ
compatible with the respective natural actions of Gal(Z/Y ), Gal(Z σ /Y σ ) [cf.
Proposition 2.3, (iv); [SemiAn], Corollary 3.11]. Thus, since the isomorphism
∼
ΓZT → ΓZTσ of dual semi-graphs is compatible with the respective metric struc∼
tures, we conclude from Proposition 3.15 again that the isomorphism ΓYT →
ΓYTσ of dual semi-graphs is also compatible with the respective metric structures. Finally, it follows immediately from the well-known theory of pointed
stable curves and contraction morphisms that arise from eliminating cusps, as
exposed in [Knud] [cf. also Remark 2.1.4], that this implies that, if we write
Y, Y σ for the respective compactiﬁed stable models of Y , Y σ over OQp , then
∼

the isomorphism ΓY → ΓY σ of dual semi-graphs induced by σ̃ [cf. [SemiAn],
Corollary 3.11] is compatible with the respective metric structures. Thus, we
conclude from [CbTpIII], Deﬁnition 3.7, (ii); [CbTpIII], Remark 3.19.2, that
GTM = GTtp
p . This completes the proof of Theorem 3.16.
Remark 3.16.1. Here, we recall that one of the key ingredients in the proof of
[Tsjm], Corollary B, is the theory of resolution of nonsingularities developed in
[Lpg1].
As a corollary, we obtain the following aﬃrmative answer to the question
posed in the discussion immediately preceding Theorem E in [CbTpIII], Introduction:
Corollary 3.17 (Commensurable terminality of various p-adic versions
of the Grothendieck-Teichmüller group). We maintain the notation of
Theorem 3.16. Then GTM = GTp = GTG = GTtp
p is commensurably terminal
M
in GT, i.e., the commensurator CGT (GT ) of GTM in GT is equal to GTM .
96

Proof. It follows immediately from Theorem 3.16, together with [CbTpIII], Theorem E, that GTM ⊆ CGT (GTM ) ⊆ GTG = GTM . Thus, we conclude that
CGT (GTM ) = GTM , as desired.

Proposition 3.18 (Reconstruction of the subset of Qp -rational points
def

from the p-adic Grothendieck-Teichmüller group). Write X = P1Q \
p

{0, 1, ∞}; Πtp
X for the Primes-tempered fundamental group of X. Then the
subset X(Qp ) ⊆ X(Cp ), where we think of “X(Cp )” as the set reconstructed from
Πtp
X in Corollary 3.10, may be reconstructed, in a purely combinatorial/grouptheoretic way, from the data
tp
tp
(Πtp
X , GTp ⊆ Out(ΠX ))
tp
— consisting of the underlying topological group of Πtp
X and the subgroup GTp ⊆
tp
Out(ΠX ) — as the subset of elements ﬁxed by some open subgroup of GTtp
p .
Moreover, this reconstruction procedure is functorial with respect to isomorphisms of topological groups for which the induced isomorphism on “Out(−)”
preserves the given subgroup of “Out(−)”.

Proof. First, we observe that it follows immediately from the existence of the
natural homeomorphism “θX ” of Proposition 2.3, (viii), together with the deﬁ tor ” [cf. Deﬁnition 2.2, (vi)], that the subset X(Qp ) ⊆ X(Cp )
nition of “VE(X)
is dense in X(Cp ), and that the natural action of GTtp
p on X(Cp ) is via selfhomeomorphisms of X(Cp ) [cf. Corollary 3.10 and its proof; Corollary 3.16].
Thus, since the natural action of GTtp
p on X(Qp ) factors through the surjection
tp
GTp  GQp [cf. [Tsjm], Corollary B, and its proof], we conclude that the
tp
natural action GTtp
p on X(Cp ) factors through this surjection GTp  GQp ,
and hence [cf. [Tate], §3.3, Theorem 1] that the subset X(Qp ) ⊆ X(Cp ) may be
characterized as the subset of elements ﬁxed by some open subgroup of GTtp
p .
This completes the proof of Proposition 3.18.
Finally, we apply the theory of resolution of nonsingularities and pointtheoreticity [cf., especially, Corollary 2.5, (i); Corollary 3.10], together with the
theory of metric-admissibility developed in [CbTpIII], §3, to construct certain
arithmetic cuspidalizations of the [Primes-]tempered fundamental groups of hyperbolic curves over Qp equipped with “proj-metric structures” [cf. Deﬁnition
3.19 below].
Deﬁnition 3.19. Let Σ ⊆ Primes be a subset of cardinality ≥ 2 that contains p; K a mixed characteristic complete discrete valuation ﬁeld of residue
characteristic p; X a hyperbolic curve over K. Write Πtp
X for the Σ-tempered
∗
fundamental group of X. For each open subgroup Π ⊆ Πtp
X of ﬁnite index,
write
97

• XΠ∗ for the compactiﬁed stable model over OK of the hyperbolic curve
over K corresponding to the open subgroup Π∗ ⊆ Πtp
X;
• ΓΠ∗ for the dual graph associated to (XΠ∗ )s ;
• μΠ∗ for the metric structure on ΓΠ∗ associated to XΠ∗ , considered up to
multiplication by a constant ∈ Q× [cf. [CbTpIII], Deﬁnition 3.5, (iii)].
Then we shall refer to μΠ∗ as the proj-metric structure on ΓΠ∗ . We shall refer to
the collection of data of proj-metric structures {μΠ∗ } associated to the characteristic open subgroups {Π∗ ⊆ Πtp
X } of ﬁnite index as the proj-metric structure
tp
on ΠX .

Theorem 3.20 (Construction of certain arithmetic cuspidalizations of
geometric tempered fundamental groups). Let K be a mixed characteristic complete discrete valuation ﬁeld of residue characteristic p; X a hyperbolic
 a universal pro-Primes covering of X. Suppose that X satcurve over K; X
isﬁes Primes-RNS. Write Ω for the p-adic completion of K. For n ≥ 2 an
def
integer, write Xn for the n-th conﬁguration space associated to X; Π1 = ΠX ;
def
Πn = ΠXn ; Π2/1 for the kernel of the natural surjection Π2  Π1 induced
by the ﬁrst projection X2 → X, where we regard Π2 as a quotient of Πn via
the projection Xn → X2 to the ﬁrst two factors; Πtp
1 for the Primes-tempered
fundamental group of X;
def

(Out(Πn ) ⊇) Out(Πn )tp = OutgF (Πn ) ×Out(Π1 ) Out(Πtp
1 ),
def

(Out(Πn ) ⊇) OutgFC (Πn ) = OutgF (Πn ) ∩ OutFC (Πn ) (⊆ Out(Π1 )),
def

(Out(Πn ) ⊇) OutgFC (Πn )M = OutgF (Πn ) ∩ OutFC (Πn )M (⊆ Out(Πtp
1 ) ⊆ Out(Π1 ))
[cf. [HMM], Deﬁnition 2.1, (iv); [CbTpI], Theorem A, (i); [CbTpIII], Proposition 3.3, (iv); [CbTpIII], Deﬁnition 3.7, (i), (ii), (iii); [NodNon], Theorem
B];
VE(Πtp
Πtp
1 ),
1 (Ω)
 and “X(Ω)”

for the respective sets “VE(X)”
equipped with their natural actions
tp
by Aut(Π1 ) and Π1 constructed in [the proof of ] Corollary 2.5, (i), and Coroltp
lary 3.10 from the underlying topological group of Πtp
1 . Let x̃ ∈ VE(Π1 ). Then
the following hold:
(i) One may construct an “arithmetic cuspidalization” of Πtp
1 associated to x̃
from the data consisting of
• the topological group Πn equipped with the quotients Πn  Π2  Π1
and a topology [i.e., the tempered topology] on the subquotient Πn 
Π2  Π1 ⊇ Πtp
1
98

in a fashion that is functorial with respect to isomorphisms of this data
[in the evident sense] as follows: Observe that the subgroup Out(Πn )tp ⊆
Out(Πn ) may be constructed from the given data [cf. [HMM], Theorem
A, (ii)]. Write
tp
tp out
tp
n Dx̃ ⊆ Π1  Out(Πn )

tp
= Aut(Πtp
1 ) ×Out(Πtp ) Out(Πn )
1

[cf. [CbTpIII], Proposition 3.3, (i), (ii); [MT], Proposition 2.2, (ii)] for
the stabilizer subgroup of x̃. Note that there exists a natural exact sequence
[that may be constructed from the given data]
out

out

tp
tp
1 −→ Π2/1 −→ (Π2 ×Π1 Πtp
−→ Πtp
−→ 1.
1 )  Out(Πn )
1  Out(Πn )

Thus, by pulling-back the above exact sequence via the inclusion n Dx̃tp ⊆
out

tp
Πtp
1  Out(Πn ) , we obtain an exact sequence
out

1 −→ Π2/1 −→ Π2/1  n Dx̃tp −→ n Dx̃tp −→ 1.
out

We shall refer to Π2/1  n Dx̃tp as the [n-th] arithmetic cuspidalization
of Πtp
1 associated to x.
(ii) Write
n-alg
Πtp
⊆ Πtp
1 (Ω)
1 (Ω)

for the subset of elements ξ ∈ Πtp
1 (Ω) whose Π1 -orbit Π1 · ξ is stabilized
by some open subgroup of OutgFC (Πn )M (⊆ Out(Πtp
1 )) [cf. Remark 3.20.1
n-alg
⊆ Πtp
below]. Suppose that x̃ arises from an element ∈ Πtp
1 (Ω)
1 (Ω),
which, by a slight abuse of notation, we shall also denote by x̃. Write
def
Xx = XΩ \ {x}, where x ∈ X(Ω) denotes the element determined by x̃.
Then the [Primes-]tempered fundamental group
Πtp
Xx (⊆ Π2/1 )
of Xx [where we identify Π2/1 with ΠXx ], together with the proj-metric
structure on Πtp
Xx , may be reconstructed, in a purely combinatorial/grouptheoretic way, from the following data
• the topological group Πn equipped with the quotients Πn  Π2  Π1
and a topology [i.e., the tempered topology] and proj-metric structure
on the subquotient Πn  Π2  Π1 ⊇ Πtp
1 ;
• the subgroup OutgFC (Πn ) ⊆ Out(Πn ) [cf. Remark 3.20.2 below]
in a fashion that is functorial with respect to isomorphisms of this data
[in the evident sense].

99

Proof. Assertion (i) follows immediately from the various deﬁnitions involved.
Next, we verify assertion (ii). Write
M def
=
n Dx̃

out

gFC
Πtp
(Πn )M
1  Out

∩ n Dx̃tp

out

tp
(⊆ Πtp
1  Out(Πn ) ).

In particular, it follows immediately from assertion (i), together with the various
deﬁnitions involved, that one may construct, from the given data, n Dx̃M , together
with the natural outer action of n Dx̃M on Π2/1 . Let Π†2/1 ⊆ Π2/1 be an open
subgroup that is normal in Π2 ; l a prime number = p. Write K ⊆ K tm (⊆ K)
def

tm
/K ur ); Π2/1  Π∗2/1 for
for the maximal tame extension of K; Gtm
K = Gal(K

the maximal almost pro-l quotient associated to [i.e., “with respect to”] Π†2/1 ⊆
Π2/1 [cf. [CbTpIII], Deﬁnition 1.1]. Let us assume further that the quotient
Π2  Π2 /Ker(Π2/1  Π∗2/1 ) is F-characteristic [cf. [CbTpIII], Deﬁnition 2.1,
(iii)]. Note that this implies that, relative to the identiﬁcation of Π2/1 with ΠXx
[cf. the statement of assertion (ii)], the natural Π2/1 -outer action of GK on Π2
[which is well-deﬁned after possibly replacing K by a suitable ﬁnite extension
∗
ﬁeld of K] induces a natural outer action of GK on Π2/1
. Thus, in order to
complete the proof of assertion (ii), it suﬃces, in light of the argument given
in the proof of [CbTpIII], Theorem 3.9 [cf., especially, the equivalence stated in
the ﬁnal display of the proof of [CbTpIII], Theorem 3.9], to reconstruct, after
possibly replacing K by a suitable ﬁnite extension ﬁeld of K, the image of Gtm
K
in Out(Π∗2/1 ) via the natural outer representation.
Next, we verify the following assertion:
 →) Y → X be a [connected] ﬁnite étale Galois
Claim 3.20.A: Let (X
covering over K. Then there exist a compactiﬁed semistable model
→
Y of Y over OK and a [connected] ﬁnite étale Galois covering (X
) Z → X over K that dominates Y → X and satisﬁes the following
conditions:
• The compactiﬁed stable model Z of Z over OK dominates Y.
• The component of the VE-chain x̃ corresponding to Z is an
irreducible component of Zs that maps to a smooth closed point
∈ Ys that is not a cusp.

Indeed, since X satisﬁes Primes-RNS, Claim 3.20.A follows immediately from
the fact that the VE-chain x̃ arises from an element ∈ Πtp
1 (Ω) that is of type
1, hence weakly verticial [cf. Proposition 2.4, (v); Remark 3.1.1; Proposition
3.3, (ii); Proposition 3.4, (iii); the theory of pointed stable curves, as exposed in
[Knud]].
Next, we observe that it follows from [CbTpIII], Proposition 2.3, (ii) [cf.
conditions (a), (b), (c) below]; [CbTpIII], Corollary 2.10 [cf. condition (c) below], together with Claim 3.20.A [cf. condition (b) below], that, after possibly
replacing Π†2/1 ⊆ Π2/1 by a smaller open subgroup that satisﬁes the same conditions as Π†2/1 , there exist F-characteristic SA-maximal almost pro-l quotients
Π2  Π∗2 , Π2  Π∗∗
2 satisfying the following conditions:
100

(a) The F-characteristic SA-maximal almost pro-l quotient Π2  Π∗∗
2 dominates the F-characteristic SA-maximal almost pro-l quotient Π2  Π∗2 .
In particular, we obtain a commutative diagram of proﬁnite groups
∗∗
∗∗
1 −−−−→ Π∗∗
2/1 −−−−→ Π2 −−−−→ Π1 −−−−→ 1
⏐
⏐
⏐
⏐
⏐
⏐




1 −−−−→ Π∗2/1 −−−−→ Π∗2 −−−−→ Π∗1 −−−−→ 1,
∗
∗∗
where the quotients Π∗1 , Π∗∗
1 of Π1 induced by Π2 , Π2 are the center-free
[cf. [CbTpIII], Proposition 1.7, (i)] maximal almost pro-l quotients of Π1
associated to normal open subgroups of Π1 ; the quotients Π∗2/1 , Π∗∗
2/1 of
Π2/1 induced by Π∗2 and Π∗∗
are
the
center-free
[cf.
[CbTpIII],
Proposition
2
1.7, (i)] maximal almost pro-l quotients of Π2/1 associated to normal open
subgroups of Π2/1 ; the vertical arrows denote surjective homomorphisms.

(b) Fix a normal open subgroup ΠY ⊆ Π1 whose associated maximal almost
pro-l quotient coincides with Π1  Π∗1 . Then there exists a normal open
subgroup ΠZ ⊆ Π1 such that:
• It holds that ΠZ ⊆ ΠY . [In particular, the maximal almost pro-l
quotient associated to the normal open subgroup ΠZ ⊆ Π1 dominates
the maximal almost pro-l quotient Π1  Π∗1 .]
• The maximal almost pro-l quotient Π1  Π∗∗
1 dominates the maximal
almost pro-l quotient associated to the normal open subgroup ΠZ ⊆
Π1 .
 →) Y → X, (X
 →) Z → X for the respective [connected]
• Write (X
ﬁnite étale Galois coverings over K associated to the normal open
subgroups ΠY ⊆ Π1 , ΠZ ⊆ Π1 . Then there exists a compactiﬁed
semistable model Y of Y over OK such that the compactiﬁed stable
model Z of Z over OK dominates Y, and, moreover, the component
of the VE-chain x̃ corresponding to Z is an irreducible component of
Zs that maps to a smooth closed point ∈ Ys that is not a cusp.
FC
∗
∗∗
(Π∗∗
(c) Every element ∈ OutFC (Π∗∗
2  Π2 ) ∩ Ker(Out
2 ) → Out(Π1 )) [cf.
[CbTpIII], Deﬁnition 2.1, (viii)] induces the trivial outer automorphism of
Π∗2 .

Write

Dx̃∗∗
out

out

for the image of n Dx̃M (⊆ Π1  OutgFC (Πn ) ⊆ Π1  OutgFC (Π2 )) [where the
second inclusion follows from [NodNon], Theorem B] via the natural homomorout

out

FC
phism Π1  OutgFC (Π2 ) → Π∗∗
(Π∗∗
1  Out
2 );
out

FC
∗
∗∗
ρ∗∗ : Dx̃∗∗ ⊆ Π∗∗
(Π∗∗
1  Out
2  Π2 ) −→ Out(Π1 )

101

for the natural composite homomorphism.
Next, we verify the following assertion:
Claim 3.20.B: There exists an open subgroup
D∗∗ ⊆ Dx̃∗∗
such that every element ∈ D∗∗ ∩ Ker(ρ∗∗ ) induces the trivial outer
action on Π∗2/1 .
Indeed, observe that since Π∗∗
1 is center-free [cf. condition (a)], the natural
homomorphism
out

∗∗
∗∗
Dx̃∗∗ −→ Π∗∗
1  Out(Π1 ) = Aut(Π1 )

induces a natural homomorphism
φ : Ker(ρ∗∗ ) −→ Π∗∗
1 .
Thus, it follows immediately from the ﬁnal portion of condition (b) [cf. also
the proof of Claim 3.20.A; our assumption that X satisﬁes Primes-RNS; the
portion of Proposition 3.5, (i), concerning the weakly verticial case], together
with the various deﬁnitions involved [cf., especially, the deﬁnition of Dx̃∗∗ ], that
the image of the natural composite homomorphism
φ

∗
Ker(ρ∗∗ ) −→ Π∗∗
1  Π1

is ﬁnite. In particular, there exists an open subgroup D∗∗ ⊆ Dx̃∗∗ such that every
element ∈ D∗∗ ∩ Ker(ρ∗∗ ) induces the trivial automorphism of Π∗1 . On the other
hand, this implies, in light of condition (c), that every element ∈ D∗∗ ∩ Ker(ρ∗∗ )
induces the trivial outer automorphism of Π∗2 . Thus, since Π∗1 is center-free [cf.
condition (a)], we conclude that every element ∈ D∗∗ ∩ Ker(ρ∗∗ ) induces the
trivial outer automorphism of Π∗2/1 . This completes the proof of Claim 3.20.B.
Next, let us observe that, by applying the argument given in the proof of
Theorem 3.9 [cf., especially, the equivalence stated in the ﬁnal display of the
proof of [CbTpIII], Theorem 3.9], together with condition (a), we conclude
that, after possibly replacing K by a suitable ﬁnite extension ﬁeld of K, one
tm
may reconstruct, from the proj-metric structure on Πtp
1 , the image I of GK
in Out(Π∗∗
)
via
the
natural
outer
representation.
On
the
other
hand,
observe
1
that ρ∗∗ (D∗∗ ) contains an open subgroup of I [cf. Remark 3.20.1 below]. Thus,
since D∗∗ ∩ Ker(ρ∗∗ ) induces the trivial outer action on Π∗2/1 [cf. Claim 3.20.B],
by considering the outer action of D∗∗ ∩ (ρ∗∗ )−1 (I) on Π∗2/1 , we conclude that,
after possibly replacing K by a suitable ﬁnite extension ﬁeld of K, one may
∗
reconstruct the image of Gtm
K in Out(Π2/1 ), as desired. This completes the
proof of assertion (ii), hence of Theorem 3.20.

102

Remark 3.20.1. Suppose that we are in the situation of Theorem 3.20, (ii). Then
it follows immediately from the deﬁnitions [cf. also the natural homomorphism
GK → OutgFC (Πn )M [which is well-deﬁned after possibly replacing K by a suitable ﬁnite extension ﬁeld of K]; the proof of Theorem 3.11, (ii)] that the subset
tp
tp
n-alg
Πtp
⊆ Πtp
1 (Ω)
1 (Ω) is contained in the subset Π1 (K) ⊆ Π1 (Ω) correspond
constructed in Corollary 3.10.
ing to the K-rational points of the set “X(Ω)”
Moreover, it follows immediately from Proposition 3.18 [cf. also Theorem 3.16;
[HMM], Corollaries B, C] that the inclusion
n-alg
⊆ Πtp
Πtp
1 (Ω)
1 (K)

is in fact an equality in the case where X = P1Q \ {0, 1, ∞}. It is not clear to
p

the authors, however, at the time of writing of the present paper whether or not
the inclusion of the above display is an equality in general.
Remark 3.20.2. Suppose that we are in the situation of Theorem 3.20, (ii). Then
we observe that the data “OutgFC (Πn ) ⊆ Out(Πn )” may be omitted from the
list of data in the statement of Theorem 3.20, (ii), in either of the following
situations [cf. [CbTpII], Theorem A, (ii); [HMM], Theorem A, (ii); [HMT],
Corollary 2.2]:
• X is of genus 0.
• X is aﬃne, and n ≥ 3.
• X is proper, and n ≥ 4.
It is not clear to the authors, however, at the time of writing of the present
paper whether or not this data “OutgFC (Πn ) ⊆ Out(Πn )” may be omitted in
general.

References
[André] Y. André, On a geometric description of Gal(Qp /Qp ) and a p-adic
 , Duke Math. J. 119 (2003), pp. 1–39.
avatar of GT
[Brk] V. G. Berkovich, Spectral theory and analytic geometry over nonArchimedean ﬁelds, Mathematical Surveys and Monographs, 33, American
Mathematical Society (1990).
[BLR] S. Bosch, W. Lütkebohmert, and M. Raynaud, Néron Models, Ergebnisse
der Mathematik und ihrer Grenzgebiete 21, Springer-Verlag (1990).
[DM] P. Deligne and D. Mumford, The irreducibility of the space of curves of
given genus, IHES Publ. Math. 36 (1969), pp. 75–109.

103

[EP] A. Engler and A. Prestel, Valued Fields, Springer Monographs in Mathematics, Springer-Verlag (2005).
[FC] G. Faltings and C.-L. Chai, Degeneration of Abelian Varieties, Ergebnisse
der Mathematik und ihrer Grenzgebiete 22, Springer-Verlag (1990).
[EGAIV2 ] A. Grothendieck, Éléments de géometrie algébrique. IV: Étude locale
des schémas et des morphismes de schémas, IHES Publ. Math. 24 (1965).
[EGAIV3 ] A. Grothendieck, Éléments de géometrie algébrique. IV: Étude locale
des schémas et des morphismes de schémas, IHES Publ. Math. 28 (1966).
[Hgsh] K. Higashiyama, The semi-absolute anabelian geometry of geometrically
pro-p arithmetic fundamental groups of associated low-dimensional conﬁguration spaces, Publ. Res. Inst. Math. Sci. 58 (2022), pp. 579–634.
[BSC] Y. Hoshi, Conditional results on the birational section conjecture over
small number ﬁelds, Automorphic forms and Galois representations, Vol. 2,
London Math. Soc. Lecture Note Ser. 415, Cambridge Univ. Press (2014),
pp. 187–230.
[NodNon] Y. Hoshi and S. Mochizuki, On the combinatorial anabelian geometry
of nodally nondegenerate outer representations, Hiroshima Math. J. 41
(2011), pp. 275–342.
[CbTpI] Y. Hoshi and S. Mochizuki, Topics surrounding the combinatorial anabelian geometry of hyperbolic curves I: Inertia groups and proﬁnite Dehn
twists, Galois-Teichmüller Theory and Arithmetic Geometry, Adv. Stud.
Pure Math. 63, Math. Soc. Japan (2012), pp. 659–811.
[CbTpII] Y. Hoshi and S. Mochizuki, Topics surrounding the combinatorial anabelian geometry of hyperbolic curves II: Tripods and combinatorial cuspidalization, Lecture Notes in Mathematics 2299, Springer-Verlag (2022).
[CbTpIII] Y. Hoshi and S. Mochizuki, Topics surrounding the combinatorial
anabelian geometry of hyperbolic curves III: Tripods and tempered fundamental groups, RIMS Preprint 1763 (November 2012).
[CbTpIV] Y. Hoshi and S. Mochizuki, Topics surrounding the combinatorial
anabelian geometry of hyperbolic curves IV: Discreteness and sections, to
appear in Nagoya Math. J.
[Knud] F. F. Knudsen, The projectivity of the moduli space of stable curves,
II: The stacks Mg,n , Math. Scand. 52 (1983), pp. 161–199.
[HMM] Y. Hoshi, A. Minamide, and S. Mochizuki, Group-theoreticity of numerical invariants and distinguished subgroups of conﬁguration space groups,
Kodai Math. J. 45 (2022), pp. 295–348.

104

[HMT] Y. Hoshi, S. Mochizuki, and S. Tsujimura, Combinatorial construction
of the absolute Galois group of the ﬁeld of rational numbers, RIMS Preprint
1935 (December 2020).
[Lpg1] E. Lepage, Resolution of non-singularities for Mumford curves, Publ.
Res. Inst. Math. Sci. 49 (2013), pp. 861–891.
[Lpg2] E. Lepage, Resolution of non-singularities and the absolute anabelian
conjecture, arXiv:2306.07058 [math.AG].
[Milne] J. S. Milne, Jacobian varieties in Arithmetic Geometry, ed. by G. Cornell
and J.H. Silverman, Springer-Verlag (1986), pp. 167–212.
[MiSaTs] A. Minamide, K. Sawada, and S. Tsujimura, On generalizations of
anabelian group-theoretic properties, RIMS Preprint 1965 (August 2022).
[MiTs1] A. Minamide and S. Tsujimura, Anabelian group-theoretic properties
of the absolute Galois groups of discrete valuation ﬁelds, J. Number Theory
239 (2022), pp. 298–334.
[MiTs2] A. Minamide and S. Tsujimura, Anabelian geometry for Henselian discrete valuation ﬁelds with quasi-ﬁnite residues, RIMS Preprint 1973 (June
2023).
[Hur] S. Mochizuki, The geometry of the compactiﬁcation of the Hurwitz
scheme, Publ. Res. Inst. Math. Sci. 31 (1995), pp. 355–441.
[PrfGC] S. Mochizuki, The proﬁnite Grothendieck conjecture for closed hyperbolic curves over number ﬁelds, J. Math. Sci. Univ. Tokyo 3 (1996), pp.
571–627.
[LocAn] S. Mochizuki, The local pro-p anabelian geometry of curves, Invent.
Math. 138 (1999), pp. 319–423.
[ExtFam] S. Mochizuki, Extending families of curves over log regular schemes,
J. reine angew. Math. 511 (1999), pp. 43–71.
[CanLift] S. Mochizuki, The absolute anabelian geometry of canonical curves,
Kazuya Kato’s ﬁftieth birthday, Doc. Math. 2003, Extra Vol., pp. 609–640.
[AnabTop] S. Mochizuki, Topics surrounding the anabelian geometry of hyperbolic curves, Galois groups and fundamental groups, Math. Sci. Res. Inst.
Publ. 41, Cambridge Univ. Press. (2003), pp. 119–165.
[NCBel] S. Mochizuki, Noncritical Belyi maps, Math. J. Okayama Univ. 46
(2004), pp. 105–113.
[AbsAnab] S. Mochizuki, The absolute anabelian geometry of hyperbolic curves,
Galois Theory and Modular Forms, Kluwer Academic Publishers (2004),
pp. 77–122.

105

[SemiAn] S. Mochizuki, Semi-graphs of anabelioids, Publ. Res. Inst. Math. Sci.
42 (2006), pp. 221–322.
[CmbGC] S. Mochizuki, A combinatorial version of the Grothendieck conjecture, Tohoku Math. J. 59 (2007), pp. 455–479.
[CmbCsp] S. Mochizuki, On the combinatorial cuspidalization of hyperbolic
curves, Osaka J. Math. 47 (2010), pp. 651–715.
[AbsTopI] S. Mochizuki, Topics in absolute anabelian geometry I: Generalities,
J. Math. Sci. Univ. Tokyo 19 (2012), pp. 139–242.
[AbsTopII] S. Mochizuki, Topics in absolute anabelian geometry II: Decomposition groups and endomorphisms, J. Math. Sci. Univ. Tokyo 20 (2013),
pp. 171–269.
[AbsTopIII] S. Mochizuki, Topics in absolute anabelian geometry III: Global
reconstruction algorithms, J. Math. Sci. Univ. Tokyo 22 (2015), pp. 939–
1156.
[MT] S. Mochizuki and A. Tamagawa, The algebraic and anabelian geometry
of conﬁguration spaces, Hokkaido Math. J. 37 (2008), pp. 75–131.
[Neu] J. Neukirch, Algebraic number theory, Grundlehren der Mathematischen
Wissenschaften 322, Springer-Verlag (1999).
[NSW] J. Neukirch, A. Schmidt, K. Wingberg, Cohomology of number ﬁelds,
Grundlehren der Mathematischen Wissenschaften 323, Springer-Verlag
(2000).
[Ray1] M. Raynaud, Sections des ﬁbrés vectoriels sur une courbe, Bull. Soc.
Math. France, 110 (1982), pp. 103–125.
[Ray2] M. Raynaud, p-groupes et réduction semi-stable des courbes, The
Grothendieck Festschrift, Vol. III, Progr. Math., 88, Birkhäuser (1990),
pp. 179–197.
[Tama1] A. Tamagawa, The Grothendieck conjecture for aﬃne curves, Compositio Math. 109 (1997), pp. 135–194.
[Tama2] A. Tamagawa, Resolution of nonsingularities of families of curves, Publ.
Res. Inst. Math. Sci. 40 (2004), pp. 1291–1336.
[Tate] J. Tate, p-divisible groups, Proceedings of a Conference on Local Fields,
Driebergen, Springer-Verlag (1967), pp. 158–183.
[Tsjm] S. Tsujimura, Combinatorial Belyi cuspidalization and arithmetic subquotients of the Grothendieck-Teichmüller group, Publ. Res. Inst. Math.
Sci. 56 (2020), pp. 779–829.

106

Updated versions of [HMT], [CbTpIII], [CbTpIV] may be found at the following
URL:
http://www.kurims.kyoto-u.ac.jp/~motizuki/papers-english.html

(Shinichi Mochizuki) Research Institute for Mathematical Sciences, Kyoto
University, Kyoto 606-8502, Japan
Email address: motizuki@kurims.kyoto-u.ac.jp
(Shota Tsujimura) Research Institute for Mathematical Sciences, Kyoto University, Kyoto 606-8502, Japan
Email address: stsuji@kurims.kyoto-u.ac.jp

107

